(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6952],{24163:m=>{m.exports={snippet:'<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span>\n  <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file-upload-demo<span class="token punctuation">"</span></span>\n  <span class="token attr-name">uxFocusIndicator</span>\n  <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span>\n  <span class="token attr-name">ng2FileDrop</span>\n  <span class="token attr-name">[class.file-upload-dropping]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileOver<span class="token punctuation">"</span></span>\n  <span class="token attr-name">(fileOver)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileOver = $event<span class="token punctuation">"</span></span>\n  <span class="token attr-name">[uploader]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uploader<span class="token punctuation">"</span></span>\n  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file-upload-dropzone<span class="token punctuation">"</span></span>\n  <span class="token attr-name">(keydown.enter)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload.click()<span class="token punctuation">"</span></span>\n<span class="token punctuation">></span></span>\n  Click here or Drag and Drop to upload files\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>\n  <span class="token attr-name">#upload</span>\n  <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-1<span class="token punctuation">"</span></span>\n  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span>\n  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file-upload-demo<span class="token punctuation">"</span></span>\n  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sr-only<span class="token punctuation">"</span></span>\n  <span class="token attr-name">ng2FileSelect</span>\n  <span class="token attr-name">[uploader]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uploader<span class="token punctuation">"</span></span>\n  <span class="token attr-name">multiple</span>\n<span class="token punctuation">/></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ux-progress-bar</span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Upload progress<span class="token punctuation">"</span></span> <span class="token attr-name">[value]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uploader.progress ? uploader.progress : 0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ux-progress-bar</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file-upload-progress-indicator<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ uploader.progress ? uploader.progress : 0 }}%<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">uxTabbableList</span> <span class="token attr-name">direction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uploader.queue.length<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file-upload-queue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>let item of uploader.queue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">#file</span> <span class="token attr-name">uxTabbableListItem</span> <span class="token attr-name">[attr.aria-label]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.file.name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>{{ item.file.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>\n        <span class="token attr-name">uxFocusIndicator</span>\n        <span class="token attr-name">[tabIndex]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file.tabIndex<span class="token punctuation">"</span></span>\n        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file-upload-queue-remove<span class="token punctuation">"</span></span>\n        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span>\n        <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.remove()<span class="token punctuation">"</span></span>\n        <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Remove file<span class="token punctuation">"</span></span>\n      <span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ux-icon</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ux-icon</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>\n    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span>\n    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn button-primary<span class="token punctuation">"</span></span>\n    <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uploader.uploadAll()<span class="token punctuation">"</span></span>\n    <span class="token attr-name">[disabled]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!uploader.getNotUploadedItems().length<span class="token punctuation">"</span></span>\n  <span class="token punctuation">></span></span>\n    Upload All\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>\n    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span>\n    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn button-secondary<span class="token punctuation">"</span></span>\n    <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uploader.cancelAll()<span class="token punctuation">"</span></span>\n    <span class="token attr-name">[disabled]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!uploader.isUploading<span class="token punctuation">"</span></span>\n  <span class="token punctuation">></span></span>\n    Cancel All\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>\n    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span>\n    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn button-secondary<span class="token punctuation">"</span></span>\n    <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uploader.clearQueue()<span class="token punctuation">"</span></span>\n    <span class="token attr-name">[disabled]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!uploader.queue.length<span class="token punctuation">"</span></span>\n  <span class="token punctuation">></span></span>\n    Clear All\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n',example:'<label\n  for="file-upload-demo"\n  uxFocusIndicator\n  tabindex="0"\n  ng2FileDrop\n  [class.file-upload-dropping]="fileOver"\n  (fileOver)="fileOver = $event"\n  [uploader]="uploader"\n  class="file-upload-dropzone"\n  (keydown.enter)="upload.click()"\n>\n  Click here or Drag and Drop to upload files\n</label>\n\n<input\n  #upload\n  tabindex="-1"\n  type="file"\n  id="file-upload-demo"\n  class="sr-only"\n  ng2FileSelect\n  [uploader]="uploader"\n  multiple\n/>\n\n<ux-progress-bar aria-label="Upload progress" [value]="uploader.progress ? uploader.progress : 0">\n</ux-progress-bar>\n\n<p class="file-upload-progress-indicator">{{ uploader.progress ? uploader.progress : 0 }}%</p>\n\n<ul uxTabbableList direction="horizontal" *ngIf="uploader.queue.length" class="file-upload-queue">\n  <li *ngFor="let item of uploader.queue">\n    <a #file uxTabbableListItem [attr.aria-label]="item.file.name">\n      <span>{{ item.file.name }}</span>\n      <button\n        uxFocusIndicator\n        [tabIndex]="file.tabIndex"\n        class="file-upload-queue-remove"\n        type="button"\n        (click)="item.remove()"\n        aria-label="Remove file"\n      >\n        <ux-icon name="close"></ux-icon>\n      </button>\n    </a>\n  </li>\n</ul>\n\n<div class="btn-container">\n  <button\n    type="button"\n    class="btn button-primary"\n    (click)="uploader.uploadAll()"\n    [disabled]="!uploader.getNotUploadedItems().length"\n  >\n    Upload All\n  </button>\n\n  <button\n    type="button"\n    class="btn button-secondary"\n    (click)="uploader.cancelAll()"\n    [disabled]="!uploader.isUploading"\n  >\n    Cancel All\n  </button>\n\n  <button\n    type="button"\n    class="btn button-secondary"\n    (click)="uploader.clearQueue()"\n    [disabled]="!uploader.queue.length"\n  >\n    Clear All\n  </button>\n</div>\n'}},44745:(m,F,l)=>{var k={"./app.html":24163,"./app.ts":66736,"docs/app/pages/components/components-sections/file-upload/file-upload/snippets/app.html":24163,"docs/app/pages/components/components-sections/file-upload/file-upload/snippets/app.ts":66736};function d(a){var h=r(a);return l(h)}function r(a){if(!l.o(k,a)){var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}return k[a]}d.keys=function(){return Object.keys(k)},d.resolve=r,m.exports=d,d.id=44745},56952:(m,F,l)=>{"use strict";l.r(F),l.d(F,{ComponentsFileUploadModule:()=>K});var k=l(66487),d=l(51390),r=l(42536),a=l(38369),h=l(83494),u=l(81118);class b{constructor(n){this.rawFile=n;const t=n instanceof HTMLInputElement?n.value:n;this["_createFrom"+("string"==typeof t?"FakePath":"Object")](t)}_createFromFakePath(n){this.lastModifiedDate=void 0,this.size=void 0,this.type=`like/${n.slice(n.lastIndexOf(".")+1).toLowerCase()}`,this.name=n.slice(n.lastIndexOf("/")+n.lastIndexOf("\\")+2)}_createFromObject(n){this.size=n.size,this.type=n.type,this.name=n.name}}class T{constructor(n,t,s){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.uploader=n,this.some=t,this.options=s,this.file=new b(t),this._file=t,n.options&&(this.method=n.options.method||"POST",this.alias=n.options.itemAlias||"file"),this.url=n.options.url}upload(){try{this.uploader.uploadItem(this)}catch{this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(n){return{form:n}}onProgress(n){return{progress:n}}onSuccess(n,t,s){return{response:n,status:t,headers:s}}onError(n,t,s){return{response:n,status:t,headers:s}}onCancel(n,t,s){return{response:n,status:t,headers:s}}onComplete(n,t,s){return{response:n,status:t,headers:s}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(n){this.onBuildForm(n)}_onProgress(n){this.progress=n,this.onProgress(n)}_onSuccess(n,t,s){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(n,t,s)}_onError(n,t,s){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(n,t,s)}_onCancel(n,t,s){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(n,t,s)}_onComplete(n,t,s){this.onComplete(n,t,s),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let w=(()=>{var i;class n{static getMimeClass(s){let e="application";return s?.type&&-1!==this.mime_psd.indexOf(s.type)||s?.type?.match("image.*")?e="image":s?.type?.match("video.*")?e="video":s?.type?.match("audio.*")?e="audio":"application/pdf"===s?.type?e="pdf":s?.type&&-1!==this.mime_compress.indexOf(s.type)?e="compress":s?.type&&-1!==this.mime_doc.indexOf(s.type)?e="doc":s?.type&&-1!==this.mime_xsl.indexOf(s.type)?e="xls":s?.type&&-1!==this.mime_ppt.indexOf(s.type)&&(e="ppt"),"application"===e&&s?.name&&(e=this.fileTypeDetection(s.name)),e}static fileTypeDetection(s){const e={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},o=s.split(".");if(o.length<2)return"application";const p=o[o.length-1].toLowerCase();return void 0===e[p]?"application":e[p]}static#n=i=()=>(this.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],this.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],this.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],this.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],this.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"])}return i(),n})();class D{constructor(n){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:t=>t._file,formatDataFunctionIsAsync:!1,url:""},this.setOptions(n),this.response=new a.bkB}setOptions(n){this.options=Object.assign(this.options,n),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters?.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters?.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters?.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters?.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let t=0;t<this.queue.length;t++)this.queue[t].url=this.options.url}addToQueue(n,t,s){let e=t;const o=[];for(const v of n)o.push(v);const p=this._getFilters(s),c=this.queue.length,g=[];o.map(v=>{e||(e=this.options);const A=new b(v);if(this._isValidFile(A,p,e)){const f=new T(this,v,e);g.push(f),this.queue.push(f),this._onAfterAddingFile(f)}else"number"==typeof this._failFilterIndex&&this._failFilterIndex>=0&&this._onWhenAddingFileFailed(A,p[this._failFilterIndex],e)}),this.queue.length!==c&&(this._onAfterAddingAll(g),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(n){const t=this.getIndexOfItem(n),s=this.queue[t];s.isUploading&&s.cancel(),this.queue.splice(t,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(n){const t=this.getIndexOfItem(n),s=this.queue[t],e=this.options.isHTML5?"_xhrTransport":"_iframeTransport";s._prepareToUploading(),!this.isUploading&&(this.isUploading=!0,this[e](s))}cancelItem(n){const t=this.getIndexOfItem(n),s=this.queue[t];s&&s.isUploading&&(this.options.isHTML5?s._xhr:s._form).abort()}uploadAll(){const n=this.getNotUploadedItems().filter(t=>!t.isUploading);n.length&&(n.map(t=>t._prepareToUploading()),n[0].upload())}cancelAll(){this.getNotUploadedItems().map(t=>t.cancel())}isFile(n){return function O(i){return File&&i instanceof File}(n)}isFileLikeObject(n){return n instanceof b}getIndexOfItem(n){return"number"==typeof n?n:this.queue.indexOf(n)}getNotUploadedItems(){return this.queue.filter(n=>!n.isUploaded)}getReadyItems(){return this.queue.filter(n=>n.isReady&&!n.isUploading).sort((n,t)=>n.index-t.index)}onAfterAddingAll(n){return{fileItems:n}}onBuildItemForm(n,t){return{fileItem:n,form:t}}onAfterAddingFile(n){return{fileItem:n}}onWhenAddingFileFailed(n,t,s){return{item:n,filter:t,options:s}}onBeforeUploadItem(n){return{fileItem:n}}onProgressItem(n,t){return{fileItem:n,progress:t}}onProgressAll(n){return{progress:n}}onSuccessItem(n,t,s,e){return{item:n,response:t,status:s,headers:e}}onErrorItem(n,t,s,e){return{item:n,response:t,status:s,headers:e}}onCancelItem(n,t,s,e){return{item:n,response:t,status:s,headers:e}}onCompleteItem(n,t,s,e){return{item:n,response:t,status:s,headers:e}}onCompleteAll(){}_mimeTypeFilter(n){return!(n?.type&&this.options.allowedMimeType&&-1===this.options.allowedMimeType?.indexOf(n.type))}_fileSizeFilter(n){return!(this.options.maxFileSize&&n.size>this.options.maxFileSize)}_fileTypeFilter(n){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(w.getMimeClass(n)))}_onErrorItem(n,t,s,e){n._onError(t,s,e),this.onErrorItem(n,t,s,e)}_onCompleteItem(n,t,s,e){n._onComplete(t,s,e),this.onCompleteItem(n,t,s,e);const o=this.getReadyItems()[0];this.isUploading=!1,o?o.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(n){return t=>t?n[t.toLowerCase()]||void 0:n}_xhrTransport(n){const t=this,s=n._xhr=new XMLHttpRequest;let e;if(this._onBeforeUploadItem(n),"number"!=typeof n._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)this.options.formatDataFunction&&(e=this.options.formatDataFunction(n));else{e=new FormData,this._onBuildItemForm(n,e);const o=()=>e.append(n.alias,n._file,n.file.name);this.options.parametersBeforeFiles||o(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(p=>{let c=this.options.additionalParameter?.[p];"string"==typeof c&&c.indexOf("{{file_name}}")>=0&&n.file?.name&&(c=c.replace("{{file_name}}",n.file.name)),e.append(p,c)}),o&&this.options.parametersBeforeFiles&&o()}if(s.upload.onprogress=o=>{const p=Math.round(o.lengthComputable?100*o.loaded/o.total:0);this._onProgressItem(n,p)},s.onload=()=>{const o=this._parseHeaders(s.getAllResponseHeaders()),p=this._transformResponse(s.response);this[`_on${this._isSuccessCode(s.status)?"Success":"Error"}Item`](n,p,s.status,o),this._onCompleteItem(n,p,s.status,o)},s.onerror=()=>{const o=this._parseHeaders(s.getAllResponseHeaders()),p=this._transformResponse(s.response);this._onErrorItem(n,p,s.status,o),this._onCompleteItem(n,p,s.status,o)},s.onabort=()=>{const o=this._parseHeaders(s.getAllResponseHeaders()),p=this._transformResponse(s.response);this._onCancelItem(n,p,s.status,o),this._onCompleteItem(n,p,s.status,o)},n.method&&n.url&&s.open(n.method,n.url,!0),s.withCredentials=n.withCredentials,this.options.headers)for(const o of this.options.headers)s.setRequestHeader(o.name,o.value);if(n.headers.length)for(const o of n.headers)s.setRequestHeader(o.name,o.value);this.authToken&&this.authTokenHeader&&s.setRequestHeader(this.authTokenHeader,this.authToken),s.onreadystatechange=function(){s.readyState==XMLHttpRequest.DONE&&t.response.emit(s.responseText)},this.options.formatDataFunctionIsAsync?e.then(o=>s.send(JSON.stringify(o))):s.send(e),this._render()}_getTotalProgress(n=0){if(this.options.removeAfterUpload)return n;const t=this.getNotUploadedItems().length,e=100/this.queue.length;return Math.round((t?this.queue.length-t:this.queue.length)*e+n*e/100)}_getFilters(n){if(!n)return this.options?.filters||[];if(Array.isArray(n))return n;if("string"==typeof n){const t=n.match(/[^\s,]+/g);return this.options?.filters||[].filter(s=>-1!==t?.indexOf(s.name))}return this.options?.filters||[]}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(n,t,s){return this._failFilterIndex=-1,!t.length||t.every(e=>("number"==typeof this._failFilterIndex&&this._failFilterIndex++,e.fn.call(this,n,s)))}_isSuccessCode(n){return n>=200&&n<300||304===n}_transformResponse(n){return n}_parseHeaders(n){const t={};let s,e,o;return n&&n.split("\n").map(p=>{o=p.indexOf(":"),s=p.slice(0,o).trim().toLowerCase(),e=p.slice(o+1).trim(),s&&(t[s]=t[s]?t[s]+", "+e:e)}),t}_onWhenAddingFileFailed(n,t,s){this.onWhenAddingFileFailed(n,t,s)}_onAfterAddingFile(n){this.onAfterAddingFile(n)}_onAfterAddingAll(n){this.onAfterAddingAll(n)}_onBeforeUploadItem(n){n._onBeforeUpload(),this.onBeforeUploadItem(n)}_onBuildItemForm(n,t){n._onBuildForm(t),this.onBuildItemForm(n,t)}_onProgressItem(n,t){const s=this._getTotalProgress(t);this.progress=s,n._onProgress(t),this.onProgressItem(n,t),this.onProgressAll(s),this._render()}_onSuccessItem(n,t,s,e){n._onSuccess(t,s,e),this.onSuccessItem(n,t,s,e)}_onCancelItem(n,t,s,e){n._onCancel(t,s,e),this.onCancelItem(n,t,s,e)}}let E=(()=>{var i;class n{constructor(){this.fileOver=new a.bkB,this.onFileDrop=new a.bkB,this.element=(0,r.WQX)(a.aKT)}getOptions(){return this.uploader?.options}getFilters(){return""}onDrop(s){const e=this._getTransfer(s);if(!e)return;const o=this.getOptions(),p=this.getFilters();this._preventAndStop(s),o&&this.uploader?.addToQueue(e.files,o,p),this.fileOver.emit(!1),this.onFileDrop.emit(e.files)}onDragOver(s){const e=this._getTransfer(s);this._haveFiles(e.types)&&(e.dropEffect="copy",this._preventAndStop(s),this.fileOver.emit(!0))}onDragLeave(s){this.element&&s.currentTarget===this.element[0]||(this._preventAndStop(s),this.fileOver.emit(!1))}_getTransfer(s){return s.dataTransfer?s.dataTransfer:s.originalEvent.dataTransfer}_preventAndStop(s){s.preventDefault(),s.stopPropagation()}_haveFiles(s){return!!s&&(s.indexOf?-1!==s.indexOf("Files"):!!s.contains&&s.contains("Files"))}static#n=i=()=>(this.\u0275fac=function(e){return new(e||n)},this.\u0275dir=a.FsC({type:n,selectors:[["","ng2FileDrop",""]],hostBindings:function(e,o){1&e&&a.bIt("drop",function(c){return o.onDrop(c)})("dragover",function(c){return o.onDragOver(c)})("dragleave",function(c){return o.onDragLeave(c)})},inputs:{uploader:"uploader"},outputs:{fileOver:"fileOver",onFileDrop:"onFileDrop"},standalone:!1}))}return i(),n})(),q=(()=>{var i;class n{constructor(){this.onFileSelected=new a.bkB,this.element=(0,r.WQX)(a.aKT)}getOptions(){return this.uploader?.options}getFilters(){return""}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){const s=this.element.nativeElement.files,e=this.getOptions(),o=this.getFilters();this.uploader?.addToQueue(s,e,o),this.onFileSelected.emit(s),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}static#n=i=()=>(this.\u0275fac=function(e){return new(e||n)},this.\u0275dir=a.FsC({type:n,selectors:[["","ng2FileSelect",""]],hostBindings:function(e,o){1&e&&a.bIt("change",function(){return o.onChange()})},inputs:{uploader:"uploader"},outputs:{onFileSelected:"onFileSelected"},standalone:!1}))}return i(),n})(),_=(()=>{var i;class n{static#n=i=()=>(this.\u0275fac=function(e){return new(e||n)},this.\u0275mod=a.$C({type:n}),this.\u0275inj=r.G2t({imports:[d.MD]}))}return i(),n})();var I,S=l(18929),R=l(94177),y=l(17015),j=l(9739),B=l(82106),z=l(26539),M=l(38007),H=l(43319),L=l(51372),P=l(46107),$=l(60221),N=l(15432),G=l(3556),Q=l(40676),V=l(34192);function Y(i,n){if(1&i){const t=a.RV6();a.j41(0,"li")(1,"a",15,1)(3,"span"),a.EFF(4),a.k0s(),a.j41(5,"button",16),a.bIt("click",function(){const e=r.eBV(t).$implicit;return r.Njj(e.remove())}),a.nrm(6,"ux-icon",17),a.k0s()()()}if(2&i){const t=n.$implicit,s=a.sdS(2);a.R7$(),a.BMQ("aria-label",t.file.name),a.R7$(3),a.JRh(t.file.name),a.R7$(),a.Y8G("tabIndex",s.tabIndex)}}function W(i,n){if(1&i&&(a.j41(0,"ul",6),a.Z7z(1,Y,7,3,"li",null,a.fX1),a.k0s()),2&i){const t=a.XpG();a.R7$(),a.Dyx(t.uploader.queue)}}let x=(class C extends B.j{constructor(){const n=(0,r.WQX)(k.Ai);super(l(44745)),this.fileOver=!1,this.uploader=new D({url:"./"}),this.playground={files:{"app.component.html":this.snippets.raw.appHtml,"app.component.ts":this.snippets.raw.appTs},modules:[{imports:["FileUploadModule"],library:"ng2-file-upload"},{imports:["ProgressBarModule"],library:"@ux-aspects/ux-aspects"},{imports:["A11yModule"],library:"@angular/cdk/a11y"}]},this.uploader.onCompleteAll=()=>n.announce("All files have been uploaded.")}static#n=I=()=>(this.\u0275fac=function(t){return new(t||C)},this.\u0275cmp=a.VBU({type:C,selectors:[["uxd-components-file-upload"]],features:[a.Vt3],decls:43,vars:13,consts:[["upload",""],["file",""],["for","file-upload-demo","uxFocusIndicator","","tabindex","0","ng2FileDrop","",1,"file-upload-dropzone",3,"fileOver","keydown.enter","uploader"],["tabindex","-1","type","file","id","file-upload-demo","ng2FileSelect","","multiple","",1,"sr-only",3,"uploader"],["aria-label","Upload progress",3,"value"],[1,"file-upload-progress-indicator"],["uxTabbableList","","direction","horizontal",1,"file-upload-queue"],[1,"btn-container"],["type","button",1,"btn","button-primary",3,"click","disabled"],["type","button",1,"btn","button-secondary",3,"click","disabled"],["href","https://valor-software.com/ng2-file-upload/"],[3,"minimal"],["heading","HTML"],[3,"content"],["heading","TypeScript"],["uxTabbableListItem",""],["uxFocusIndicator","","type","button","aria-label","Remove file",1,"file-upload-queue-remove",3,"click","tabIndex"],["name","close"]],template:function(t,s){if(1&t){const e=a.RV6();a.j41(0,"label",2),a.bIt("fileOver",function(p){return r.eBV(e),r.Njj(s.fileOver=p)})("keydown.enter",function(){r.eBV(e);const p=a.sdS(3);return r.Njj(p.click())}),a.EFF(1," Click here or Drag and Drop to upload files\n"),a.k0s(),a.nrm(2,"input",3,0)(4,"ux-progress-bar",4),a.j41(5,"p",5),a.EFF(6),a.k0s(),a.nVh(7,W,3,0,"ul",6),a.j41(8,"div",7)(9,"button",8),a.bIt("click",function(){return r.eBV(e),r.Njj(s.uploader.uploadAll())}),a.EFF(10," Upload All "),a.k0s(),a.j41(11,"button",9),a.bIt("click",function(){return r.eBV(e),r.Njj(s.uploader.cancelAll())}),a.EFF(12," Cancel All "),a.k0s(),a.j41(13,"button",9),a.bIt("click",function(){return r.eBV(e),r.Njj(s.uploader.clearQueue())}),a.EFF(14," Clear All "),a.k0s()(),a.nrm(15,"hr"),a.j41(16,"blockquote")(17,"p")(18,"b"),a.EFF(19,"Note:"),a.k0s(),a.EFF(20," If you are using this component in your application, you will need to install "),a.j41(21,"strong"),a.EFF(22,"ng2-file-upload"),a.k0s(),a.EFF(23," manually. Refer to "),a.j41(24,"a",10),a.EFF(25,"ng2-file-upload"),a.k0s(),a.EFF(26," for complete documentation on this component. "),a.k0s(),a.j41(27,"p"),a.EFF(28," Files will not be uploaded to the server by the demo control. Application teams must implement server code. "),a.k0s()(),a.j41(29,"p"),a.EFF(30," The File Upload component provides an easy way to let users choose one or more files to upload. This can either allow users to show a file dialog to choose files or allow them to simply drag and drop files into an area on the page.\n"),a.k0s(),a.j41(31,"p"),a.EFF(32," Refer to "),a.j41(33,"a",10),a.EFF(34,"ng2-file-upload"),a.k0s(),a.EFF(35," for complete documentation on this component.\n"),a.k0s(),a.j41(36,"p"),a.EFF(37,"The following code can be used to create the example above:"),a.k0s(),a.j41(38,"ux-tabset",11)(39,"ux-tab",12),a.nrm(40,"uxd-snippet",13),a.k0s(),a.j41(41,"ux-tab",14),a.nrm(42,"uxd-snippet",13),a.k0s()()}2&t&&(a.AVh("file-upload-dropping",s.fileOver),a.Y8G("uploader",s.uploader),a.R7$(2),a.Y8G("uploader",s.uploader),a.R7$(2),a.Y8G("value",s.uploader.progress?s.uploader.progress:0),a.R7$(2),a.SpI("",s.uploader.progress?s.uploader.progress:0,"%"),a.R7$(),a.vxM(s.uploader.queue.length?7:-1),a.R7$(2),a.Y8G("disabled",!s.uploader.getNotUploadedItems().length),a.R7$(2),a.Y8G("disabled",!s.uploader.isUploading),a.R7$(2),a.Y8G("disabled",!s.uploader.queue.length),a.R7$(25),a.Y8G("minimal",!1),a.R7$(2),a.Y8G("content",s.snippets.compiled.appHtml),a.R7$(2),a.Y8G("content",s.snippets.compiled.appTs))},dependencies:[u.NhY,H.G,L.b,P.z,$.a,_,E,q,u.dDe,N.a,u.opy,G.R,u.w9h,Q.f,V.j,z.N],encapsulation:2}),this)},I());x=(0,j.Cg)([(0,M.zo)("ComponentsFileUploadComponent")],x);const U=[x],X=[{path:"**",component:R.i,data:{category:y.a.resolveCategoryData(y.E.Components,"File Upload")}}];let K=(()=>{var i;class n{constructor(){const s=(0,r.WQX)(a.OM3);(0,r.WQX)(y.a).registerResolver(s,U)}static#n=i=()=>(this.\u0275fac=function(e){return new(e||n)},this.\u0275mod=a.$C({type:n}),this.\u0275inj=r.G2t({imports:[k.Pd,u.NhY,d.MD,S.f,_,u.opy,u.dDe,h.iI.forChild(X),u.w9h,U]}))}return i(),n})()},66736:m=>{m.exports={snippet:'<span class="token keyword">import</span> <span class="token punctuation">{</span> LiveAnnouncer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'@angular/cdk/a11y\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'@angular/core\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> FileUploader <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'ng2-file-upload\'</span><span class="token punctuation">;</span>\n\n@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token literal-property property">selector</span><span class="token operator">:</span> <span class="token string">\'app-root\'</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">templateUrl</span><span class="token operator">:</span> <span class="token string">\'./app.component.html\'</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">fileOver</span><span class="token operator">:</span> boolean <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n  <span class="token literal-property property">uploader</span><span class="token operator">:</span> FileUploader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileUploader</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">\'./\'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> announcer <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>LiveAnnouncer<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">this</span><span class="token punctuation">.</span>uploader<span class="token punctuation">.</span><span class="token function-variable function">onCompleteAll</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> announcer<span class="token punctuation">.</span><span class="token function">announce</span><span class="token punctuation">(</span><span class="token string">\'All files have been uploaded.\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n',example:"import { LiveAnnouncer } from '@angular/cdk/a11y';\nimport { Component, inject } from '@angular/core';\nimport { FileUploader } from 'ng2-file-upload';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n})\nexport class AppComponent {\n  fileOver: boolean = false;\n  uploader: FileUploader = new FileUploader({ url: './' });\n\n  constructor() {\n    const announcer = inject(LiveAnnouncer);\n\n    this.uploader.onCompleteAll = () => announcer.announce('All files have been uploaded.');\n  }\n}\n"}}}]);