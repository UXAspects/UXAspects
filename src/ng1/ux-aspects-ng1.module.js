// import external libraries
import './external/angular-breadcrumb/angular-breadcrumb.js';
import './external/angular-file-upload/angular-file-upload.js';
import './external/angular-flot/angular-flot.js';
import './external/angular-peity/angular-peity.js';
import './external/angular-sanitize/angular-sanitize.min.js';
import './external/angular-scrollable-table/angular-scrollable-table.js';
import './external/angular-scrollPane/angular-jscrollpane.js';
import './external/angular-timeline/angular-timeline.js';
import './external/angular-ui-router/angular-ui-router.js';
import './external/angular-ui-tree/angular-ui-tree.js';
import './plugins/d3/d3.js';
import './external/d3/_module.js';
import './external/d3/d3.directive.js';
import './external/ng-tags-input/ng-tags-input.js';
import './external/sigma/_module.js';
import './external/sigma/sigma.directive.js';
import './external/ui-bootstrap/ui-bootstrap-tpls.js';
import './plugins/bootstrap-datepicker/bootstrap-datepicker.js';
import './plugins/jquery-validation/jquery-validation.js';

// import UX Aspects directives
import './directives/affixElement/affixElement.module.js';
import './directives/applicationSwitcher/applicationSwitcher.module.js';
import './directives/backButton/backButton.module.js';
import './directives/backButtonHeader/backButtonHeader.module.js';
import './directives/cardTabs/cardTabs.module.js';
import './directives/checkbox/checkbox.module.js';
import './directives/componentList/componentList.module.js';
import './directives/condensedHeader/condensedHeader.module.js';
import './directives/contacts/contacts.module.js';
import './directives/dateTimePicker/dateTimePicker.module.js'; 
import './directives/displayPanels/displayPanels.module.js';
import './directives/draggableCards/draggableCards.module.js';
import './directives/draggablePanels/draggablePanels.module.js';
import './directives/dropzone/dropzone.module.js';
import './directives/dynamicSelect/dynamicSelect.module.js';
import './directives/elementReady/elementReady.module.js';
import './directives/expandingTextarea/expandingTextarea.module.js';
import './directives/expandInputs/expandInput.module.js';
import './directives/expandSearch/expandSearch.module.js';
import './directives/extendedCheckboxHit/extendedCheckboxHit.module.js';
import './directives/facets/facets.module.js';
import './directives/filters/filters.module.js';
import './directives/flippableCard/flippableCard.module.js';
import './directives/floatingActionButton/floatingActionButton.module.js';
import './directives/floatLabel/floatLabel.module.js';
import './directives/focusIf/focusIf.module.js';
import './directives/focusOnShow/focusOnShow.module.js';
import './directives/forceFocus/forceFocus.module.js';
import './directives/grid/grid.module.js';
import './directives/groupedButtons/groupedButtons.module.js';
import './directives/helpCenter/helpCenter.module.js';
import './directives/hierarchyBar/hierarchyBar.module.js';
import './directives/hotkey/hotkey.module.js';
import './directives/hoverActions/hoverActions.module.js';
import './directives/index/index.module.js';
import './directives/infiniteScroll/infiniteScroll.module.js';
import './directives/inputMask/inputMask.module.js';
import './directives/keyboardNavigableTable/keyboardNavigableTable.module.js';
import './directives/layoutSwitcher/layoutSwitcher.module.js';
import './directives/listHoverActions/listHoverActions.module.js';
import './directives/listItemFilter/listItemFilter.module.js';
import './directives/marqueeWizard/marqueeWizard.module.js';
import './directives/menuTab/menuTab.module.js';
import './directives/minimizeMenu/minimizeMenu.module.js';
import './directives/modalInsetPanel/modalInsetPanel.module.js';
import './directives/multipleListSelect/multipleListSelect.module.js';
import './directives/multipleRowSelect/multipleRowSelect.module.js';
import './directives/nestedDonut/nestedDonut.module.js';
import './directives/numberPicker/numberPicker.module.js';
import './directives/organizationChart/organizationChart.module.js';
import './directives/overflowTooltip/overflowTooltip.module.js';
import './directives/pageTitle/pageTitle.module.js';
import './directives/partitionMap/partitionMap.module.js';
import './directives/peityChart/peityChart.module.js';
import './directives/previewPanes/previewPane.module.js';
import './directives/radiobutton/radiobutton.module.js';
import './directives/reorderableTable/reorderableTable.module.js';
import './directives/sankey/sankey.module.js';
import './directives/scrollTop/scrollTop.module.js';
import './directives/searchBuilder/searchBuilder.module.js';
import './directives/searchCategories/searchCategories.module.js';
import './directives/searchToolbar/searchToolbar.module.js';
import './directives/selectTable/selectTable.module.js';
import './directives/sideInset/sideInset.module.js';
import './directives/sideModal/sideModal.module.js';
import './directives/sideNavigation/sideNavigation.module.js';
import './directives/slider/slider.module.js';
import './directives/sliderChart/sliderChart.module.js';
import './directives/socialChart/socialChart.module.js';
import './directives/sorters/sorters.module.js';
import './directives/spark/spark.module.js';
import './directives/splitter/splitter.module.js';
import './directives/staticTooltip/staticTooltip.module.js';
import './directives/tagInput/tagInput.module.js';
import './directives/thumbnail/thumbnail.module.js';
import './directives/timeAgo/timeAgo.module.js';
import './directives/toggleswitch/toggleswitch.module.js';
import './directives/treegrid/treegrid.module.js';
import './directives/treeView/treeView.module.js';
import './directives/wizard/wizard.module.js';

// import UX Aspects providers
import './directives/multipleSelect/multipleSelect.module.js';

// import UX Aspects services
import './services/colorService/colorService.module.js';
import './services/debounceService/debounce.module.js';
import './services/flotDataService/flotDataService.module.js';
import './services/keyboardService/keyboardService.module.js';
import './services/lineDataService/lineData.module.js';
import './services/notificationService/notification.module.js';
import './services/pdfService/pdf.module.js';
import './services/resizeService/resize.module.js';
import './services/safeAnimationFrame/safeAnimationFrame.module.js';
import './services/safeEventListener/safeEventListener.module.js';
import './services/safeInterval/safeInterval.module.js';
import './services/safeTimeout/safeTimeout.module.js';
import './services/navigationMenuService/navigationMenu.module.js';
import './services/timeAgoService/timeAgo.module.js';
import './services/windowCommunicationService/windowCommunication.module.js';

import './templates/angular-breadcrumb/angular-breadcrumb.html';
import './templates/ui-bootstrap/pagination/pagination.html';

// Import Wrappers
import './wrappers/wrappers.module';

// create the UX Aspects module
let aspects = angular.module('ux-aspects', [
    'ui.router',
    'ui.bootstrap',
    'ngSanitize',
    'angular-timeline',
    'angular-peity',
    'angular-flot',
    'angularFileUpload',
    'scrollable-table',
    'ncy-angular-breadcrumb',
    'ui.tree',
    'ngJScrollPane',
    'ux-aspects.wrappers',
    'ux-aspects.affixElement',
    'ux-aspects.applicationSwitcher',
    'ux-aspects.backButton',
    'ux-aspects.backButtonHeader',
    'ux-aspects.cardTabs',
    'ux-aspects.checkbox',
    'ux-aspects.componentList',
    'ux-aspects.condensedHeader',
    'ux-aspects.contacts',
    'ux-aspects.d3',
    'ux-aspects.dateTimePicker',
    'ux-aspects.displayPanels',
    'ux-aspects.draggableCards',
    'ux-aspects.draggablePanels',
    'ux-aspects.dropZone',
    'ux-aspects.dynamicSelect',
    'ux-aspects.elementReady',
    'ux-aspects.expandingTextarea',
    'ux-aspects.expandInput',
    'ux-aspects.expandSearch',
    'ux-aspects.extendedCheckboxHit',
    'ux-aspects.facets',
    'ux-aspects.filters',
    'ux-aspects.flippableCard', 
    'ux-aspects.floatingActionButton',
    'ux-aspects.floatLabel',
    'ux-aspects.focusIf',
    'ux-aspects.focusOnShow',
    'ux-aspects.forceFocus',
    'ux-aspects.grid',
    'ux-aspects.groupedButtons',
    'ux-aspects.helpCenter',
    'ux-aspects.hierarchyBar',
    'ux-aspects.hotkey',
    'ux-aspects.hoverActions',
    'ux-aspects.index',
    'ux-aspects.infiniteScroll',
    'ux-aspects.inputMask',
    'ux-aspects.keyboardNavigableTable',
    'ux-aspects.layoutSwitcher',
    'ux-aspects.listHoverActions',
    'ux-aspects.listItemFilter',
    'ux-aspects.marqueeWizard',
    'ux-aspects.menuTab',
    'ux-aspects.minimizeMenu',
    'ux-aspects.modalInsetPanel',
    'ux-aspects.multipleListSelect',
    'ux-aspects.multipleRowSelect',
    'ux-aspects.nestedDonut',
    'ux-aspects.numberPicker',
    'ux-aspects.organizationChart',
    'ux-aspects.overflowTooltip',
    'ux-aspects.pageTitle',
    'ux-aspects.partitionMap',
    'ux-aspects.updatingLinechart',
    'ux-aspects.previewPanes',
    'ux-aspects.radiobutton',
    'ux-aspects.reorderableTable',
    'ux-aspects.sankey',
    'ux-aspects.scrollTop',
    'ux-aspects.searchBuilder',
    'ux-aspects.searchCategories',
    'ux-aspects.searchToolbar',
    'ux-aspects.selectTable',    
    'ux-aspects.sideInset',
    'ux-aspects.sideModal',
    'ux-aspects.sideNavigation',
    'ux-aspects.slider',
    'ux-aspects.sliderChart',
    'ux-aspects.socialChart',
    'ux-aspects.sigma',
    'ux-aspects.sorters',
    'ux-aspects.spark',
    'ux-aspects.splitter',
    'ux-aspects.staticTooltip',
    'ux-aspects.tagInput',
    'ux-aspects.thumbnail',
    'ux-aspects.timeAgo',
    'ux-aspects.toggleswitch',
    'ux-aspects.treegrid',
    'ux-aspects.treeview',    
    'ux-aspects.wizard',

    //services
    'ux-aspects.colorService',
    'ux-aspects.debounceService',
    'ux-aspects.flotDataService',
    'ux-aspects.keyboardService',
    'ux-aspects.lineDataService',
    'ux-aspects.multipleSelect',
    'ux-aspects.notificationService',
    'ux-aspects.pdfService',
    'ux-aspects.resizeService',
    'ux-aspects.safeAnimationFrame',
    'ux-aspects.safeEventListener',
    'ux-aspects.safeInterval',
    'ux-aspects.safeTimeout',
    'ux-aspects.navigationMenuService',
    'ux-aspects.timeAgoService',   
    'ux-aspects.windowCommunicationService'
]);

// perform some initial configuration
aspects.config(["datepickerPopupConfig",
    "datepickerConfig",
    "paginationConfig",
    "$tooltipProvider",
    "$breadcrumbProvider",
    function(datepickerPopupConfig, datepickerConfig, paginationConfig, $tooltipProvider, $breadcrumbProvider) {
        datepickerPopupConfig.showButtonBar = true;
        datepickerPopupConfig.appendToBody = true;
        datepickerConfig.showWeeks = false;
        datepickerConfig.formatMonth = "MMM";
        datepickerConfig.yearRange = 10;

        paginationConfig.maxSize = 5;

        var tooltipOptions = {
            popupDelay: 300,
            appendToBody: true
        };

        $tooltipProvider.options(tooltipOptions);

        $breadcrumbProvider.setOptions({
            templateUrl: 'templates/angular-breadcrumb/angular-breadcrumb.html'
        });
    }
]);

// perform some initial setup
aspects.run(["$rootScope", function($rootScope) {

    $rootScope.$on('$stateChangeStart',
        function() {
            if (angular.element('.customTooltip').length > 0)
                angular.element('.customTooltip').remove();
            if (angular.element('.tooltip').length > 0)
                angular.element('.tooltip').remove();
        });
}]);