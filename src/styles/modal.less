.side-modal {
    position: fixed;
    right: 0;
    top: 0;
    bottom: 0;
    z-index: @modal-z-index;
    background: @side-modal-background;
    color: @side-modal-color;
    box-shadow: 1px 0 20px 0 rgba(51, 51, 51, 1);
    overflow-x: hidden;

    &.side-modal-animated {
        max-width: 0;
        transition: max-width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    &.side-modal-animated-open {
        max-width: 100vw;
    }

    .side-modal-content {
        position: absolute;
        top: 0;
        bottom: 60px;
        overflow-y: auto;
    }

    .side-modal-header-affix {
        .header {
            position: absolute;
            top: 0;
            width: 100%;
        }

        .main {
            position: absolute;
            top: 60px;
            padding-top: 5px;
            bottom: 60px;
            overflow-y: auto;
            width: 100%;
            padding-right: 4px;
            padding-bottom: 5px;

            &.footer-hidden {
                bottom: 0;
            }
        }
    }

    .header {
        min-height: 60px;

        .modalheader {
            display: inline-block;
        }

        .modal-close {
            position: absolute;
            right: 0;
            padding-top: 20px;
            padding-right: 10px;
            color: @side-modal-close-color;

            button {
                border: 0;
                box-shadow: none;

                &:hover,
                &:active,
                &:focus {
                    border: 0;
                    color: @side-modal-close-hover-color;
                    background: none;
                    outline: 0;
                }
            }
        }
    }

    .main {
        padding: 20px;
    }

    .footer {
        position: absolute;
        bottom: 0;
        width: 100%;
        border-top: 1px solid @side-modal-footer-border;

        & > div {
            text-align: right;
            padding: 15px;
            padding-right: 25px;
        }

        .btn {
            min-width: 80px;
        }
    }
}

.modal-content {
    #sigma-container {
        display: block !important;
    }

    .modal-footer {
        .btn {
            min-width: 80px;
        }
    }
}

.modal-content > #sigma-container {
    overflow-y: hidden !important;
}

.modal-backdrop {
    opacity: 0.5;
}

.square-modal-window {
    .modal-content {
        border-radius: 0;

        .dismiss {
            position: absolute;
            right: 0;
            top: 0;

            .btn-close {
                position: absolute;
                width: 40px;
                height: 40px;
                box-shadow: none;
                background-color: @square-modal-close-bg;
                outline: none;
                transform: translateX(-50%) translateY(-50%);
                z-index: @modal-dismiss-z-index;

                &:hover {
                    background-color: @square-modal-close-hover-bg;
                }

                .hpe-close {
                    color: @square-modal-close-color;
                    font-size: 1.125rem;
                    padding-top: 2px;
                }
            }
        }
    }
}

.btn-circular.button-dark {
    background: @btn-dark;
}

.display-panel-item-selected {
    background-color: @display-panel-bg;
    outline: 0;
}

.display-panel {
    display: flex;
    flex-direction: column;
    position: fixed;
    right: 0;
    top: 0;
    bottom: 0;
    z-index: @display-panel-z-index;
    background: @display-panel-bg;
    color: @display-panel-color;
    border-left: 1px solid @display-panel-border;
    box-shadow: 1px 0 20px 0 @display-panel-shadow;

    .display-panel-content {
        position: absolute;
        top: 0;
        bottom: 0;
        overflow: hidden;
        padding-right: 5px;
    }

    .display-panel-header-affix {
        display: flex;
        flex-direction: column;

        .header {
            top: 0;
            margin-bottom: 5px;
        }

        .main {
            flex: 1;
            padding-top: 10px;
            width: 100%;
        }
    }

    .header {
        min-height: 60px;

        .modalheader {
            display: inline-block;
        }

        .modal-close {
            position: absolute;
            right: 0;
            padding-top: 20px;
            padding-right: 25px;

            button {
                border: 0;
                box-shadow: none;
                color: @display-panel-close-color;

                &:hover,
                &:active,
                &:focus {
                    border: 0;
                    color: @display-panel-close-hover-color;
                    background: none;
                    outline: 0;
                }

                i {
                    padding-right: 14px;
                }
            }
        }
    }

    .main {
        padding: 20px;
    }

    .footer {
        background-color: @display-panel-footer-bg;
        border-top: 1px solid @display-panel-footer-border;
        margin-top: 5px;

        & > div {
            text-align: right;
            padding: 15px;
            padding-right: 25px;
        }
    }

    &.fixed-display-panel {
        position: fixed !important;
        bottom: 0;
        z-index: @fixed-display-panel-z-index;
    }

    &.float-display-panel {
        position: absolute !important;
    }
}

.display-panel-animate {
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/*
  Marquee Modal
*/

.marquee-modal-window {
    .modal-dialog {
        text-rendering: optimizeLegibility;
        width: 900px;

        &.modal-sm {
            width: 600px;
        }

        &.modal-md {
            width: 900px;
        }

        &.modal-lg {
            width: 1100px;
        }

        .modal-content {
            border-radius: 0;

            .dismiss {
                position: absolute;
                right: 0;

                .btn-close {
                    position: absolute;
                    width: 40px;
                    height: 40px;
                    box-shadow: none;
                    background-color: @marquee-modal-close-bg;
                    outline: none;
                    transform: translateX(-50%) translateY(-50%);
                    z-index: @modal-dismiss-z-index;

                    &:hover {
                        background-color: @marquee-modal-close-hover-bg;
                    }

                    .hpe-close {
                        color: @marquee-modal-close-color;
                        font-size: 1.125rem;
                        padding-top: 2px;
                    }
                }
            }

            .side-panel {
                position: absolute;
                width: 240px;
                height: 100%;
                background-color: @marquee-modal-side-panel-bg;

                .marquee-logo {
                    color: @marquee-modal-side-panel-color;
                    padding: 20px;
                    padding-bottom: 5px;
                }

                .marquee-info-panel {
                    font-family: @font-family;
                    font-weight: @font-weight-light;
                    padding: 20px;
                    color: @marquee-modal-side-panel-color;

                    .title {
                        margin-top: 0;
                        margin-bottom: 20px;
                    }

                    .description {
                        margin: 0;
                    }
                }

                .marquee-wizard-info-panel {
                    font-family: @font-family;
                    font-weight: @font-weight-light;
                    padding: 20px;
                    color: @marquee-modal-side-panel-color;
                    padding-bottom: 0;

                    .title {
                        margin-top: 0;
                        margin-bottom: 20px;
                        white-space: nowrap;
                    }

                    .description {
                        max-height: 110px;
                        overflow-y: hidden;

                        p {
                            margin: 0;
                            max-height: 120px;
                        }
                    }
                }
            }

            .main-panel {
                display: inline-block;
                width: ~'calc(100% - 240px)';
                float: right;
                background-color: @marquee-modal-bg;

                .marquee-header {
                    padding: 35px 35px 0;

                    .marquee-title {
                        margin: 0;
                        color: @marquee-modal-title-color;
                    }
                }

                .marquee-body {
                    position: relative;
                    padding: 15px 35px;
                }

                .marquee-footer {
                    width: 100%;
                    height: 60px;
                    background-color: @marquee-modal-footer-bg;
                    text-align: right;
                    padding: 15px;
                }
            }
        }
    }

    .modal-close {
        position: absolute;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 40px;
        height: 40px;
        background-color: #333;
        border: none;
        border-radius: 50%;
        transform: translateX(-50%) translateY(-50%);
        font-size: 1.125rem;
        color: #999;
        outline: none;

        i {
            position: relative;
        }

        &:hover {
            background-color: #222;
        }

        &:focus {
            .native-focus-outline();
        }
    }
}

@media (max-width: 1140px) {
    .marquee-modal-window {
        .modal-dialog {
            &.modal-lg {
                width: 900px;
            }
        }
    }
}

@media (max-width: 940px) {
    .marquee-modal-window {
        .modal-dialog {
            width: 730px;

            &.modal-lg,
            &.modal-md {
                width: 730px;
            }
        }
    }
}

@media (max-width: 768px) {
    .marquee-modal-window {
        .modal-dialog {
            width: ~'calc(100% - 20px)';

            &.modal-lg,
            &.modal-md,
            &.modal-sm {
                width: ~'calc(100% - 20px)';
            }
        }
    }
}

@media (max-width: 600px) {
    .marquee-modal-window {
        .modal-dialog {
            &.modal-lg,
            &.modal-md,
            &.modal-sm {
                .side-panel {
                    width: 170px;
                }

                .main-panel {
                    width: ~'calc(100% - 170px)';
                }
            }

            .side-panel {
                width: 170px;
            }

            .main-panel {
                width: ~'calc(100% - 170px)';
            }
        }
    }
}

@media (max-width: 470px) {
    .marquee-modal-window {
        .modal-dialog {
            .side-panel {
                display: none;
            }

            .main-panel {
                width: 100% !important;
            }
        }
    }
}

/*
  Search builder modal
*/

.search-builder-modal-window {
    .modal-dialog {
        text-rendering: optimizeLegibility;
        width: 900px;

        &.modal-sm {
            width: 600px;
        }

        &.modal-md {
            width: 900px;
        }

        &.modal-lg {
            width: 1100px;
        }

        .search-group:last-of-type {
            hr {
                display: none;
            }
        }

        .modal-content {
            border-radius: 0;

            .dismiss {
                position: absolute;
                right: 0;

                .btn-close {
                    position: absolute;
                    width: 40px;
                    height: 40px;
                    box-shadow: none;
                    background-color: @search-builder-modal-close-bg;
                    outline: none;
                    transform: translateX(-50%) translateY(-50%);
                    z-index: @modal-dismiss-z-index;

                    &:hover {
                        background-color: @search-builder-modal-close-hover-bg;
                    }

                    .hpe-close {
                        color: @search-builder-modal-close-color;
                        font-size: 1.125rem;
                        padding-top: 2px;
                    }
                }
            }

            .search-builder-header {
                padding: 15px 35px;
                background-color: @search-builder-modal-header-bg;

                .search-builder-title {
                    margin: 0;
                    color: @search-builder-modal-header-color;
                }
            }

            .search-builder-scroll-container {
                position: relative;
                height: 600px;
                margin-right: 5px;
                overflow-x: hidden;

                .search-builder-scroller {
                    height: 100%;
                    overflow-y: auto;
                }
            }

            .search-builder-body {
                position: relative;
                padding: 15px 35px;
            }

            .search-builder-footer {
                width: 100%;
                height: 60px;
                background-color: @search-builder-modal-footer-bg;
                text-align: right;
                padding: 15px;
            }
        }
    }
}

@media (max-width: 1140px) {
    .search-builder-modal-window {
        .modal-dialog {
            &.modal-lg {
                width: 900px;
            }
        }
    }
}

@media (max-width: 940px) {
    .search-builder-modal-window {
        .modal-dialog {
            width: 730px;

            &.modal-lg,
            &.modal-md {
                width: 730px;
            }
        }
    }
}

@media (max-width: 768px) {
    .search-builder-modal-window {
        .modal-dialog {
            width: ~'calc(100% - 20px)';

            &.modal-lg,
            &.modal-md,
            &.modal-sm {
                width: ~'calc(100% - 20px)';
            }
        }
    }
}

@media (max-width: 600px) {
    .search-builder-modal-window {
        .modal-dialog {
            &.modal-lg,
            &.modal-md,
            &.modal-sm {
                .side-panel {
                    width: 170px;
                }
            }
        }
    }
}

@media (max-width: 470px) {
    .marquee-modal-window {
        .modal-dialog {
            .side-panel {
                display: none;
            }

            .main-panel {
                width: 100% !important;
            }
        }
    }
}

/*
  Modal Inset Panel
*/

.modal-panel-detail-text {
    color: @modal-inset-panel-detail-text-color;
}

.modal-panel-region {
    position: absolute;
    z-index: 100000;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;

    .modal-panel {
        background-color: @modal-inset-panel-bg;
        height: 100%;
        display: inline-block;

        &.right {
            float: right;
            border-left: 1px solid @modal-inset-panel-border;
            box-shadow: -3px 0 15px @modal-inset-panel-shadow;
        }

        &.left {
            float: left;
            border-right: 1px solid @modal-inset-panel-border;
            box-shadow: 3px 0 15px @modal-inset-panel-shadow;
        }

        .modal-panel-header {
            display: table;
            width: 100%;
            height: 50px;
            max-height: 50px;
            border-bottom: 1px solid @modal-inset-panel-header-border;

            .header-content {
                display: table-cell;
                height: 100%;
                padding: 0 15px;
                vertical-align: middle;
                color: @modal-inset-panel-header-color;

                h1,
                h2,
                h3,
                h4,
                h5,
                h6,
                p {
                    margin: 0;
                }
            }

            .close-container {
                color: @modal-inset-panel-close-color;
                display: table-cell;
                width: 50px;
                height: 100%;
                vertical-align: middle;
                text-align: center;
                cursor: pointer;
                font-size: 0.875rem;

                &:hover,
                &:focus {
                    color: @modal-inset-panel-close-hover-color;
                }
            }
        }

        .modal-panel-content {
            width: 100%;
            height: 100%;
        }

        .modal-panel-header + .modal-panel-content {
            height: ~'calc(100% - 50px)';
        }
    }
}

.modal-header-dark {
    background-color: @grey2;
    color: @white;
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.modal-window-dark-header .modal-content {
    /* Added this code to remove unwanted background caused by setting modal-header-dark border-radius */

    /*This can also be done by making content background transparent and then re-setting individual backgrounds. */
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
}

/* Modal centering */

.modal {
    text-align: center;
    padding: 0 !important;
}

.modal:before {
    content: '';
    display: inline-block;
    height: 100%;
    vertical-align: middle;
    margin-right: -4px;
}

.modal-dialog {
    display: inline-block;
    text-align: left;
    vertical-align: middle;
}

.side-modal {
    text-align: left;
}

@media (max-width: 300px) {
    .modal-dialog {
        width: ~'calc(100% - 20px)';
        margin: 10px 0;
    }
}