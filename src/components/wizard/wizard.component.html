<div class="wizard-body">

    <div class="wizard-steps"
        uxTabbableList
        [direction]="orientation"
        role="tablist"
        [attr.aria-orientation]="orientation">

        <div *ngFor="let step of steps; let index = index"
            role="tab"
            class="wizard-step"
            [class.active]="step._active"
            [class.visited]="step.visited"
            [class.invalid]="!step._valid"
            [attr.aria-posinset]="index + 1"
            [attr.aria-setsize]="steps.length"
            [attr.aria-selected]="step._active"
            [attr.aria-controls]="id + '-step-' + index"
            [attr.aria-labelledby]="id + '-step-' + index + '-label'"
            [attr.aria-expanded]="step._active"
            [id]="id + '-step-' + index + '-label'"
            uxFocusIndicator
            [programmaticFocusIndicator]="true"
            uxTabbableListItem
            [disabled]="index !== 0 && !step.visited"
            (click)="gotoStep(step)"
            (keydown.enter)="gotoStep(step)">
            <span class="wizard-step-text">{{ step.header }}</span>
            <ux-icon *ngIf="step.visited && !step._active" class="wizard-step-icon" name="checkmark"></ux-icon>
        </div>

    </div>

    <div class="wizard-content">
        <ng-content></ng-content>
    </div>

</div>

<div class="wizard-footer">

    <ng-container *ngIf="footerTemplate"
                  [ngTemplateOutlet]="footerTemplate"
                  [ngTemplateOutletContext]="{ step: step }">
    </ng-container>

    <button #tip="ux-tooltip"
            type="button"
            class="btn button-secondary"
            *ngIf="previousVisible"
            [uxTooltip]="previousTooltip"
            [disabled]="previousDisabled || step === 0"
            [attr.aria-label]="previousAriaLabel"
            (click)="previous(); tip.hide()">
        {{ previousText }}
    </button>

    <button #tip="ux-tooltip"
            type="button"
            class="btn button-primary"
            *ngIf="nextVisible && !isLastStep()"
            [uxTooltip]="nextTooltip"
            [disabled]="nextDisabled || isNextDisabled()"
            [attr.aria-label]="nextAriaLabel"
            (click)="next(); tip.hide()">
        {{ nextText }}
    </button>

    <button #tip="ux-tooltip"
            type="button"
            class="btn button-primary"
            *ngIf="finishVisible && isLastStep() || finishAlwaysVisible"
            [uxTooltip]="finishTooltip"
            [disabled]="finishDisabled || isNextDisabled()"
            [attr.aria-label]="finishAriaLabel"
            (click)="finish(); tip.hide()">
        {{ finishText }}
    </button>

    <button #tip="ux-tooltip"
            type="button"
            class="btn button-secondary"
            *ngIf="cancelVisible && !isLastStep() || cancelAlwaysVisible"
            [uxTooltip]="cancelTooltip"
            [disabled]="cancelDisabled"
            [attr.aria-label]="cancelAriaLabel"
            (click)="cancel(); tip.hide()">
        {{ cancelText }}
    </button>

</div>
