<tr *ngIf="editable; else uneditable" class="p-l-lg">
    <td class="field-selection">
        <ux-select
            [value]="_field"
            [input]="_field?.label || null"
            (valueChange)="handleFieldSelected($event)"
            [allowNull]="true"
            [options]="fields"
            [display]="'label'"
            [key]="'name'">
        </ux-select>
    </td>
    <td class="operator-selection">
        <ux-select
            *ngIf="_field?.name"
            [value]="_operator"
            (valueChange)="handleOperatorSelected($event)"
            [input]="_operator?.label || null"
            [allowNull]="true"
            [options]="operators"
            [display]="'label'"
            [key]="'name'">
        </ux-select>
    </td>
    <td class="value-input-container">
        <div #inputContainer></div>
    </td>

    <td>
        <button
            [disabled]="!(_field && _operator && _value)"
            (click)="confirmCondition()"
            type="button"
            class="btn btn-link btn-icon btn-lg button-secondary"
            aria-label="Confirm condition">
            <span class="ux-icon ux-icon-checkmark" aria-hidden="true"></span>
        </button>
    </td>
</tr>

<ng-template #uneditable>
    <tr class="p-l-lg" uxHoverActionContainer>
        <td>
            <p>{{ _field.label }} {{ _operator.label }} {{ _value | json }}</p>
        </td>

        <td>
            <button
                [disabled]="_editBlocked"
                uxHoverAction
                (click)="editCondition()"
                type="button"
                class="btn btn-link btn-icon btn-lg button-primary"
                aria-label="Edit condition">
                <span class="ux-icon ux-icon-edit" aria-hidden="true"></span>
            </button>

            <button
                [disabled]="_editBlocked"
                uxHoverAction
                (click)="deleteCondition()"
                type="button"
                class="btn btn-link btn-icon btn-lg button-secondary"
                aria-label="Delete condition">
                <span class="ux-icon ux-icon-trash text-error" aria-hidden="true"></span>
            </button>
        </td>
    </tr>
</ng-template>
