<tr *ngIf="editMode; else staticMode" class="leb-condition-row" [style.padding-left.px]="indent">
    <td class="field-selection">
        <ux-select
            [value]="_field"
            [input]="_field?.label || null"
            (valueChange)="handleFieldSelected($event)"
            [allowNull]="false"
            [options]="fields"
            display="label"
            key="name">
        </ux-select>
    </td>

    <td class="operator-selection">
        <ux-select
            *ngIf="_field?.name"
            [value]="_operator"
            (valueChange)="handleOperatorSelected($event)"
            [input]="_operator?.label || null"
            [options]="operators"
            display="label"
            key="name">
        </ux-select>
    </td>

    <td class="value-input-container">
        <div #inputContainer></div>
    </td>

    <td>
        <button
            [disabled]="!(_field && _operator && _value)"
            (click)="confirmCondition()"
            type="button"
            class="btn btn-link btn-icon btn-lg button-secondary"
            [attr.aria-label]="('confirmConditionAriaLabel' | l10n) || 'Confirm condition'">
            <span class="ux-icon ux-icon-checkmark" aria-hidden="true"></span>
        </button>
    </td>
</tr>

<ng-template #staticMode>
    <tr class="leb-condition-row" uxHoverActionContainer [style.padding-left.px]="indent">
        <td>
            <span class="leb-field-display">{{ _field.label }}</span> {{ _operator.label }} <span class="leb-value-display">{{ _value | displayValue:_field.fieldType:_field.data }}</span>
        </td>

        <td>
            <button
                [disabled]="_editBlocked"
                uxHoverAction
                (click)="editCondition()"
                type="button"
                class="btn btn-link btn-icon btn-lg button-primary"
                [attr.aria-label]="('editConditionAriaLabel' | l10n) || 'Edit condition'">
                <span class="ux-icon ux-icon-edit" aria-hidden="true"></span>
            </button>

            <button
                [disabled]="_editBlocked"
                uxHoverAction
                (click)="embedConditionInGroup()"
                type="button"
                class="btn btn-link btn-icon btn-lg button-secondary"
                [attr.aria-label]="('embedConditionAriaLabel' | l10n) || 'Embed condition'">
                <span class="ux-icon ux-icon-chart-organization" aria-hidden="true"></span>
            </button>

            <button
                [disabled]="_editBlocked"
                uxHoverAction
                (click)="deleteCondition()"
                type="button"
                class="btn btn-link btn-icon btn-lg button-secondary delete-btn"
                [attr.aria-label]="('deleteConditionAriaLabel' | l10n) || 'Delete condition'">
                <span class="ux-icon ux-icon-trash" aria-hidden="true"></span>
            </button>
        </td>
    </tr>
</ng-template>
