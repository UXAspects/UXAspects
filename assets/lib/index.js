/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("@angular/core"),require("@angular/common"),require("@angular/cdk/a11y"),require("@angular/cdk/platform"),require("@angular/cdk/coercion"),require("rxjs/operators"),require("angular-split"),require("@angular/cdk/keycodes"),require("@angular/router"),require("resize-observer-polyfill"),require("@angular/forms"),require("@angular/cdk/observers"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/cdk/scrolling"),require("@angular/cdk/drag-drop"),require("@angular/animations"),require("@angular/common/http"),require("d3"),require("@angular/cdk/collections"),require("@angular/cdk/tree"),require("@angular/cdk/text-field")):"function"==typeof define&&define.amd?define("@ux-aspects/ux-aspects",["exports","rxjs","@angular/core","@angular/common","@angular/cdk/a11y","@angular/cdk/platform","@angular/cdk/coercion","rxjs/operators","angular-split","@angular/cdk/keycodes","@angular/router","resize-observer-polyfill","@angular/forms","@angular/cdk/observers","@angular/cdk/overlay","@angular/cdk/portal","@angular/cdk/scrolling","@angular/cdk/drag-drop","@angular/animations","@angular/common/http","d3","@angular/cdk/collections","@angular/cdk/tree","@angular/cdk/text-field"],t):t(((e=e||self)["ux-aspects"]=e["ux-aspects"]||{},e["ux-aspects"]["ux-aspects"]={}),e.rxjs,e.ng.core,e.ng.common,e.ng.cdk.a11y,e.ng.cdk.platform,e.ng.cdk.coercion,e.rxjs.operators,e.angularSplit,e.ng.cdk.keycodes,e.ng.router,e.ResizeObserver,e.ng.forms,e.ng.cdk.observers,e.ng.cdk.overlay,e.ng.cdk.portal,e.ng.cdk.scrolling,e.ng.cdk.dragDrop,e.ng.animations,e.ng.common.http,e.d3,e.ng.cdk.collections,e.ng.cdk.tree,e.ng.cdk.textField)}(this,(function(e,t,n,i,o,r,a,s,c,l,u,p,h,d,g,f,y,m,v,b,_,x,w,S){"use strict";p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p;var C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function D(e,t){function n(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var k,I,O=function(){return(O=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function P(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function T(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function E(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function A(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(R(arguments[t]));return e}function M(t){return t&&0===t.trim().indexOf("hpe-")?e.IconType.HpeIcon:t&&0===t.trim().indexOf("ux-")?e.IconType.UxIcon:e.IconType.Component}(k=e.Color||(e.Color={})).Primary="primary",k.Accent="accent",k.Secondary="secondary",k.Alternate1="alternate1",k.Alternate2="alternate2",k.Alternate3="alternate3",k.Vibrant1="vibrant1",k.Vibrant2="vibrant2",k.Grey1="grey1",k.Grey2="grey2",k.Grey3="grey3",k.Grey4="grey4",k.Grey5="grey5",k.Grey6="grey6",k.Grey7="grey7",k.Grey8="grey8",k.Chart1="chart1",k.Chart2="chart2",k.Chart3="chart3",k.Chart4="chart4",k.Chart5="chart5",k.Chart6="chart6",k.Ok="ok",k.Warning="warning",k.Critical="critical",k.Partition1="partition1",k.Partition9="partition9",k.Partition10="partition10",k.Partition11="partition11",k.Partition12="partition12",k.Partition13="partition13",k.Partition14="partition14",k.SocialChartNode="social-chart-node",k.SocialChartEdge="social-chart-edge",(I=e.IconType||(e.IconType={})).HpeIcon="hpe-icon",I.UxIcon="ux-icon",I.Component="component";var L=function(){return function(e){return new t.Observable((function(t){e.subscribe({next:function(e){requestAnimationFrame((function(){return t.next(e)}))},error:function(e){t.error(e)},complete:function(){t.complete()}})}))}};function $(e){return 0===e.detail}var F,H=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"ux-accordion-panel-header"}]}],e}(),j=function(){function e(){this.collapseOthers=!1,this.collapse=new t.Subject}return e.prototype.collapseAll=function(){this.collapse.next()},e.decorators=[{type:n.Injectable}],e}(),B=1,N=function(){function e(e){var t=this;this.accordion=e,this.panelId="ux-accordion-panel-"+B++,this.headingId=this.panelId+"-heading",this.disabled=!1,this.expanded=!1,this.expandedChange=new n.EventEmitter,e.collapse.subscribe((function(){return t.collapse()}))}return e.prototype.toggle=function(){this.expanded?this.collapse():(this.accordion.collapseOthers&&this.accordion.collapseAll(),this.expand())},e.prototype.expand=function(){!1===this.disabled&&!1===this.expanded&&(this.expanded=!0,this.expandedChange.next(!0))},e.prototype.collapse=function(){!1===this.disabled&&!0===this.expanded&&(this.expanded=!1,this.expandedChange.next(!1))},e.ctorParameters=function(){return[{type:j}]},e.decorators=[{type:n.Component,args:[{selector:"ux-accordion-panel",template:'<div class="panel-heading"\n      role="button"\n      uxFocusIndicator\n      [tabindex]="disabled ? -1 : 0"\n      [id]="headingId"\n      [attr.aria-expanded]="expanded"\n      [attr.aria-controls]="panelId"\n      (click)="toggle()"\n      (keydown.enter)="toggle()"\n      (keydown.space)="toggle(); $event.preventDefault()"\n      (keydown.spacebar)="toggle(); $event.preventDefault()">\n\n  <div class="panel-title">\n      {{ heading }}\n      <ng-content select="ux-accordion-panel-header"></ng-content>\n  </div>\n</div>\n\n<div [id]="panelId"\n      class="panel-collapse collapse"\n      [class.in]="expanded"\n      role="tabpanel"\n      [attr.aria-labelledby]="headingId">\n\n  <div class="panel-body">\n    <ng-content></ng-content>\n  </div>\n</div>',host:{class:"panel panel-default",role:"tab"}}]}],e.ctorParameters=function(){return[{type:j}]},e.propDecorators={panelId:[{type:n.Input}],headingId:[{type:n.Input}],disabled:[{type:n.Input}],heading:[{type:n.Input}],expanded:[{type:n.Input},{type:n.HostBinding,args:["class.panel-open"]}],expandedChange:[{type:n.Output}]},e}(),z=function(){function e(e){this._accordion=e}return Object.defineProperty(e.prototype,"collapseOthers",{set:function(e){this._accordion.collapseOthers=e},enumerable:!1,configurable:!0}),e.ctorParameters=function(){return[{type:j}]},e.decorators=[{type:n.Component,args:[{selector:"ux-accordion",template:"<ng-content></ng-content>",providers:[j],host:{class:"panel-group",role:"tablist","aria-multiselectable":"true"}}]}],e.ctorParameters=function(){return[{type:j}]},e.propDecorators={collapseOthers:[{type:n.Input}]},e}(),V={primary:"#00a7a2",accent:"#7b63a3",secondary:"#fff",alternate1:"#3baa43",alternate2:"#025662",alternate3:"#b08f5c",vibrant1:"#00cceb",vibrant2:"#ff9048",grey1:"#2a2a2a",grey2:"#333",grey3:"#666",grey4:"#999",grey5:"#ccc",grey6:"#eee",grey7:"#f5f5f5",grey8:"#fafafa",chart1:"#00a7a2",chart2:"#7b63a3",chart3:"#3baa43",chart4:"#025662",chart5:"#b08f5c",chart6:"#ccc",ok:"#3baa43",warning:"#ff9048",critical:"#ff454f",partition1:"#635387",partition9:"#4a4066",partition10:"#308935",partition11:"#023e42",partition12:"#91744d",partition13:"#999",partition14:"#294266","social-chart-node":"#00cceb","social-chart-edge":"#00cceb"},W={cerulean:"#1668c1",aqua:"#29ceff",aquamarine:"#2fd6c3",fuchsia:"#c6179d",indigo:"#7425ad","dark-blue":"#231ca5",white:"#ffffff","slightly-gray":"#f5f7f8","bright-gray":"#f1f2f3",gray:"#dcdedf",silver:"#bdbec0","dim-gray":"#656668","dark-gray":"#323435",black:"#000000","crimson-negative":"#e5004c",apricot:"#f48b34",yellow:"#fcdb1f","green-positive":"#1aac60",ultramarine:"#3939c6",skyblue:"#00abf3","pale-aqua":"#43e4ff","pale-green":"#1ffbba",lime:"#75da4d",orange:"#ffce00",magenta:"#eb23c2","pale-purple":"#ba47e2","dark-ultramarine":"#271782",steelblue:"#014272","arctic-blue":"#0b8eac",emerald:"#00a989",olive:"#5bba36",goldenrod:"#ffb000",purple:"#9b1e83","pale-eggplant":"#5216ac",red:"#ff454f","pale-amber":"#ffb24d","pale-lemon":"#fde159","pale-emerald":"#33c180",plum:"#b21646",copper:"#e57828",amber:"#ffc002","leaf-green":"#118c4f","forest-green":"#00645a",primary:"#0073e7",accent:"#7425ad",secondary:"#ffffff",alternate1:"#29ceff",alternate2:"#2fd6c3",alternate3:"#c6179d",vibrant1:"#43e4ff",vibrant2:"#ffce00",grey1:"#000000",grey2:"#323435",grey3:"#656668",grey4:"#bdbec0",grey5:"#dcdedf",grey6:"#f1f2f3",grey7:"#f5f7f8",grey8:"#ffffff",chart1:"#3939c6",chart2:"#00abf3",chart3:"#75da4d",chart4:"#ffce00",chart5:"#eb23c2",chart6:"#ba47e2",ok:"#1aac60",warning:"#f48b34",critical:"e5004c",partition1:"#7425ad",partition9:"#5216ac",partition10:"#5bba36",partition11:"#014272",partition12:"#ffb000",partition13:"#bdbec0",partition14:"#271782","social-chart-node":"#ff00ff","social-chart-edge":"#ff00ff"},U={keppel:{colorValueSet:V},microFocus:{colorValueSet:W}},G=new n.InjectionToken("COLOR_SET_TOKEN"),K=function(){function e(e,t,n,i){void 0===i&&(i="1"),this._r=e,this._g=t,this._b=n,this._a=i}return e.parse=function(t){var n,i,o,r="1",a=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),s=t.match(/^#?([a-f\d])([a-f\d])([a-f\d])$/i),c=t.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);if(a)n=a[1],i=a[2],o=a[3],r=a[4]?a[4]:"1";else if(c)n=parseInt(c[1],16).toString(),i=parseInt(c[2],16).toString(),o=parseInt(c[3],16).toString();else{if(!s)throw new Error("Cannot parse color - "+t+" is not a valid color.");n=parseInt(s[1]+s[1],16).toString(),i=parseInt(s[2]+s[2],16).toString(),o=parseInt(s[3]+s[3],16).toString()}return new e(n,i,o,r)},e.from=function(t){return new e(t.getRed(),t.getGreen(),t.getBlue(),t.getAlpha())},e.isInstanceOf=function(e){return"function"==typeof e.getRed&&"function"==typeof e.getGreen&&"function"==typeof e.getBlue&&"function"==typeof e.getAlpha},e.prototype.toHex=function(){var e=parseInt(this._r).toString(16),t=parseInt(this._g).toString(16),n=parseInt(this._b).toString(16);return e.length<2&&(e="0"+e),t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),"#"+e+t+n},e.prototype.toRgb=function(){return"rgb("+this._r+", "+this._g+", "+this._b+")"},e.prototype.toRgba=function(){return"rgba("+this._r+", "+this._g+", "+this._b+", "+this._a+")"},e.prototype.getRed=function(){return this._r},e.prototype.getGreen=function(){return this._g},e.prototype.getBlue=function(){return this._b},e.prototype.getAlpha=function(){return this._a},e.prototype.setRed=function(e){return this._r=e,this},e.prototype.setGreen=function(e){return this._g=e,this},e.prototype.setBlue=function(e){return this._b=e,this},e.prototype.setAlpha=function(e){return this._a=e.toString(),this},e}(),q=function(){function e(e){this._colorSet=e,this._theme=this.getTheme(this._colorSet)}return e.prototype.getColor=function(e){var t=this._theme[this.resolveColorName(e)];if(!t)throw new Error("Color not found: "+e);return new K(t.getRed(),t.getGreen(),t.getBlue(),t.getAlpha())},e.prototype.getColorSet=function(){return this._colorSet},e.prototype.setColorSet=function(e){this._colorSet=e,this._theme=this.getTheme(e)},e.prototype.resolve=function(e){if(e){var t=this.resolveColorName(e);for(var n in this._theme)if(t===n.toLowerCase())return this.getColor(t).toRgba();return e}},e.prototype.resolveColorName=function(e){return void 0===e&&(e=""),e.replace(/\s+/g,"-").toLowerCase()},e.prototype.colorExists=function(e){var t=this;return!!Object.keys(this._theme).find((function(n){return n===t.resolveColorName(e)}))},e.prototype.getTheme=function(e){var t={};for(var n in e||(e=U.keppel),e.colorValueSet)t[n]=K.parse(e.colorValueSet[n]);return t},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[G]}]}]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[G]}]}]},e}(),Y=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:G,useValue:t||U.keppel},q]}},e.decorators=[{type:n.NgModule,args:[{}]}],e}(),X=function(){function e(){}return e.prototype.getContrastColor=function(e,t,n){var i=K.parse(e.toHex()),o=this.getLuminance(i),r=this.getLuminance(t);return(o+.05)/(this.getLuminance(n)+.05)>(r+.05)/(o+.05)?n:t},e.prototype.getLuminance=function(e){var t=+e.getRed()/255,n=+e.getGreen()/255,i=+e.getBlue()/255;return.2126*(t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},e.decorators=[{type:n.Injectable}],e}(),Z=function(){function e(e,t){this._colorService=e,this._contrastService=t,this._lightColor=K.parse("#fff"),this._darkColor=K.parse("#000")}return Object.defineProperty(e.prototype,"uxColorContrast",{set:function(e){this._backgroundColor=K.parse(this._colorService.resolve(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{set:function(e){this._lightColor=K.parse(this._colorService.resolve(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"darkColor",{set:function(e){this._darkColor=K.parse(this._colorService.resolve(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_color",{get:function(){return this._backgroundColor?this._contrastService.getContrastColor(this._backgroundColor,this._lightColor,this._darkColor).toRgba():null},enumerable:!1,configurable:!0}),e.ctorParameters=function(){return[{type:q},{type:X}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxColorContrast]"}]}],e.ctorParameters=function(){return[{type:q},{type:X}]},e.propDecorators={uxColorContrast:[{type:n.Input}],lightColor:[{type:n.Input}],darkColor:[{type:n.Input}],_color:[{type:n.HostBinding,args:["style.color"]}]},e}(),Q=new n.InjectionToken("ACCESSIBILITY_OPTIONS"),J=function(){function e(e){void 0===e&&(e={}),this._options=e,this._defaultOptions={mouseFocusIndicator:!1,touchFocusIndicator:!1,keyboardFocusIndicator:!0,programmaticFocusIndicator:!1}}return Object.defineProperty(e.prototype,"options",{get:function(){return O(O({},this._defaultOptions),this._options)},enumerable:!1,configurable:!0}),e.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[Q]}]}]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[Q]}]}]},e}(),ee=function(){},te=function(){function e(e,n,i,o,r){this._element=e,this._focusMonitor=n,this._renderer=i,this._options=o,this._focusIndicatorOrigin=r,this.isFocused$=new t.BehaviorSubject(!1),this.origin$=new t.Subject,this._onDestroy=new t.Subject,e.classList.contains("ux-focus-indicator")||this.initialise()}return Object.defineProperty(e.prototype,"isFocused",{get:function(){return this.isFocused$.value},set:function(e){e?this._renderer.addClass(this._element,"ux-focus-indicator-active"):this._renderer.removeClass(this._element,"ux-focus-indicator-active"),this.isFocused$.next(e)},enumerable:!1,configurable:!0}),e.prototype.initialise=function(){this._renderer.addClass(this._element,"ux-focus-indicator"),this._focusMonitor.monitor(this._element,this._options.checkChildren).pipe(s.takeUntil(this._onDestroy)).subscribe(this.onFocusChange.bind(this))},e.prototype.focus=function(e,t){this._focusIndicatorOrigin.setOrigin(e),this._element.focus(t)},e.prototype.destroy=function(){this._onDestroy.next(),this._onDestroy.complete(),this.isFocused$.complete(),this._focusMonitor.stopMonitoring(this._element)},e.prototype.setOptions=function(e){this._options=O(O({},this._options),e)},e.prototype.onFocusChange=function(e){if(null===e)return this.isFocused=!1,void this.origin$.next(null);var t=this._focusIndicatorOrigin.getOrigin();switch(this.origin$.next(t||e),t||e){case"mouse":this.isFocused=this._options.mouseFocusIndicator;break;case"touch":this.isFocused=this._options.touchFocusIndicator;break;case"keyboard":this.isFocused=this._options.keyboardFocusIndicator;break;case"program":this.isFocused=this._options.programmaticFocusIndicator;break;default:this.isFocused=!1}},e}(),ne=function(){function e(){}return e.prototype.setOrigin=function(e){this._origin=e},e.prototype.getOrigin=function(){var e=this._origin;return this._origin=null,e},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e}(),ie=function(){function e(e,t,n,i,o){this._focusMonitor=e,this._globalOptions=t,this._focusIndicatorOrigin=n,this._localOptions=i,this._renderer=o.createRenderer(null,null)}return e.prototype.monitor=function(e,t){return void 0===t&&(t=O(O(O({},this._globalOptions.options),this._localOptions),{checkChildren:!1})),new te(e,this._focusMonitor,this._renderer,O(O(O({},this._globalOptions.options),this._localOptions),t),this._focusIndicatorOrigin)},e.ctorParameters=function(){return[{type:o.FocusMonitor},{type:J},{type:ne},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[Q]}]},{type:n.RendererFactory2}]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:o.FocusMonitor},{type:J},{type:ne},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[Q]}]},{type:n.RendererFactory2}]},e}(),oe=function(){function e(e,i,o,r,a){for(var s in this._elementRef=e,this._focusIndicatorService=i,this.optionsService=o,this._ngZone=r,this.localOptions=a,this.indicator=new n.EventEmitter,this._checkChildren=!1,this._options=new Map,this._onDestroy=new t.Subject,o.options||{})this._options.set(s,o.options[s]);for(var s in a||{})this._options.set(s,a[s])}return Object.defineProperty(e.prototype,"checkChildren",{set:function(e){null!=(e=a.coerceBooleanProperty(e))&&(this._checkChildren=e,this.setOptions())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mouseFocusIndicator",{set:function(e){null!=(e=a.coerceBooleanProperty(e))&&(this._options.set("mouseFocusIndicator",e),this.setOptions())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"touchFocusIndicator",{set:function(e){null!=(e=a.coerceBooleanProperty(e))&&(this._options.set("touchFocusIndicator",e),this.setOptions())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keyboardFocusIndicator",{set:function(e){null!=(e=a.coerceBooleanProperty(e))&&(this._options.set("keyboardFocusIndicator",e),this.setOptions())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"programmaticFocusIndicator",{set:function(e){null!=(e=a.coerceBooleanProperty(e))&&(this._options.set("programmaticFocusIndicator",e),this.setOptions())},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._focusIndicator=this._focusIndicatorService.monitor(this._elementRef.nativeElement,{checkChildren:this._checkChildren,mouseFocusIndicator:this._options.get("mouseFocusIndicator"),touchFocusIndicator:this._options.get("touchFocusIndicator"),keyboardFocusIndicator:this._options.get("keyboardFocusIndicator"),programmaticFocusIndicator:this._options.get("programmaticFocusIndicator")}),this._focusIndicator.isFocused$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){e._ngZone.run((function(){return e.indicator.emit(t)}))}))},e.prototype.ngOnDestroy=function(){this._focusIndicator&&this._focusIndicator.destroy(),this._onDestroy.next(),this._onDestroy.complete()},e.prototype.focus=function(e,t){this._focusIndicator.focus(e,t)},e.prototype.setOptions=function(){this._focusIndicator&&this._focusIndicator.setOptions({checkChildren:this._checkChildren,mouseFocusIndicator:this._options.get("mouseFocusIndicator"),touchFocusIndicator:this._options.get("touchFocusIndicator"),keyboardFocusIndicator:this._options.get("keyboardFocusIndicator"),programmaticFocusIndicator:this._options.get("programmaticFocusIndicator")})},e.ctorParameters=function(){return[{type:n.ElementRef},{type:ie},{type:J},{type:n.NgZone},{type:ee,decorators:[{type:n.Optional}]}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxFocusIndicator]",exportAs:"ux-focus-indicator"}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:ie},{type:J},{type:n.NgZone},{type:ee,decorators:[{type:n.Optional}]}]},e.propDecorators={checkChildren:[{type:n.Input}],mouseFocusIndicator:[{type:n.Input}],touchFocusIndicator:[{type:n.Input}],keyboardFocusIndicator:[{type:n.Input}],programmaticFocusIndicator:[{type:n.Input}],indicator:[{type:n.Output}]},e}(),re=function(e){function t(t,n,i,o,r){var a=e.call(this,t,n,i,o,r)||this;return a.programmaticFocusIndicator=!0,a}return D(t,e),t.ctorParameters=function(){return[{type:n.ElementRef},{type:ie},{type:J},{type:n.NgZone},{type:ee,decorators:[{type:n.Optional}]}]},t.decorators=[{type:n.Directive,args:[{selector:".btn:not([uxFocusIndicator]):not([uxMenuNavigationToggle]):not([uxMenuTriggerFor]), a[href]:not([uxFocusIndicator]):not([uxMenuNavigationToggle]):not([uxMenuTriggerFor])"}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:ie},{type:J},{type:n.NgZone},{type:ee,decorators:[{type:n.Optional}]}]},t}(oe),ae=function(){function e(e){this._options=e}return Object.defineProperty(e.prototype,"mouseFocusIndicator",{set:function(e){this._options.mouseFocusIndicator=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"touchFocusIndicator",{set:function(e){this._options.touchFocusIndicator=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keyboardFocusIndicator",{set:function(e){this._options.keyboardFocusIndicator=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"programmaticFocusIndicator",{set:function(e){this._options.programmaticFocusIndicator=e},enumerable:!1,configurable:!0}),e.ctorParameters=function(){return[{type:ee,decorators:[{type:n.Self}]}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxFocusIndicatorOptions]",providers:[ee]}]}],e.ctorParameters=function(){return[{type:ee,decorators:[{type:n.Self}]}]},e.propDecorators={mouseFocusIndicator:[{type:n.Input}],touchFocusIndicator:[{type:n.Input}],keyboardFocusIndicator:[{type:n.Input}],programmaticFocusIndicator:[{type:n.Input}]},e}(),se=function(){function e(e,t,n){var i=this;this._focusIndicatorOrigin=e,this._handlers=[],this._handlers=[n.listen(t.nativeElement,"click",(function(){return i.onClick()})),n.listen(t.nativeElement,"mousedown",(function(){return i.onMouseDown()})),n.listen(t.nativeElement,"keydown",(function(){return i.onKeydown()}))]}return e.prototype.destroy=function(){this._handlers.forEach((function(e){return e()}))},e.prototype.onMouseDown=function(){this._isMouseEvent=!0},e.prototype.onClick=function(){this._focusIndicatorOrigin.setOrigin(this._isMouseEvent?"mouse":"keyboard"),this._isMouseEvent=!1},e.prototype.onKeydown=function(){this._isMouseEvent=!1,this._focusIndicatorOrigin.setOrigin("keyboard")},e}(),ce=function(){function e(e,t,n){this._focusOrigin=new se(e,t,n)}return e.prototype.ngOnDestroy=function(){this._focusOrigin.destroy()},e.ctorParameters=function(){return[{type:ne},{type:n.ElementRef},{type:n.Renderer2}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxFocusIndicatorOrigin]"}]}],e.ctorParameters=function(){return[{type:ne},{type:n.ElementRef},{type:n.Renderer2}]},e}(),le=function(){function e(e){this._elementRef=e,this.uxFocusWithin=new n.EventEmitter,this.uxBlurWithin=new n.EventEmitter,e.nativeElement.addEventListener("focus",this.onFocus.bind(this),!0),e.nativeElement.addEventListener("blur",this.onBlur.bind(this),!0)}return e.prototype.ngOnDestroy=function(){this._elementRef.nativeElement.removeEventListener("focus",this.onFocus.bind(this),!0),this._elementRef.nativeElement.removeEventListener("blur",this.onBlur.bind(this),!0)},e.prototype.onFocus=function(){this.uxFocusWithin.emit()},e.prototype.onBlur=function(){this.uxBlurWithin.emit()},e.ctorParameters=function(){return[{type:n.ElementRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxFocusWithin],[uxBlurWithin]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef}]},e.propDecorators={uxFocusWithin:[{type:n.Output}],uxBlurWithin:[{type:n.Output}]},e}(),ue=function(){function e(e){this._containers=[],this._renderer=e.createRenderer(null,null)}return e.prototype.register=function(e,t){var n=this._containers.find((function(t){return t.container.element.isEqualNode(e)}));n||(n=new he(new pe(e,this._renderer)),this._containers.push(n),n.container.register()),t&&n.addReference(t)},e.prototype.unregister=function(e,t){var n=this._containers.find((function(t){return t.container.element.isEqualNode(e)}));n&&(n.removeReference(t),n.isAlive()||(n.container.unregister(),this._containers=this._containers.filter((function(e){return e!==n}))))},e.prototype.hasFocus=function(e){var t=this.getContainer(e);return t?t.hasFocus$.asObservable():null},e.prototype.getContainer=function(e){var t=this._containers.find((function(t){return t.container.element.isEqualNode(e)}));return t?t.container:null},e.ctorParameters=function(){return[{type:n.RendererFactory2}]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:n.RendererFactory2}]},e}(),pe=function(){function e(e,n){this.element=e,this._renderer=n,this.hasFocus$=new t.BehaviorSubject(!1),this._modifiedElements=[],this._unlisten=[]}return e.prototype.register=function(){var e=this;this._unlisten.push(this._renderer.listen(this.element,"focusin",this.onFocusIn.bind(this))),this._unlisten.push(this._renderer.listen(this.element,"focusout",this.onFocusOut.bind(this))),setTimeout((function(){e.element.contains(document.activeElement)||e.removeTabFocus()}))},e.prototype.unregister=function(){this._unlisten.forEach((function(e){return e()})),this._unlisten=[],this.restoreTabFocus()},e.prototype.onFocusIn=function(){this.restoreTabFocus()},e.prototype.onFocusOut=function(){this.removeTabFocus()},e.prototype.removeTabFocus=function(){var e=this;this.hasFocus$.next(!1),this._modifiedElements=[];var t=this.element.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');Array.from(t).forEach((function(t){var n=t.getAttribute("tabindex");e._renderer.setAttribute(t,"tabindex","-1"),e._modifiedElements.push({element:t,tabindex:n})}))},e.prototype.restoreTabFocus=function(){var e=this;this.hasFocus$.next(!0),this._modifiedElements.forEach((function(t){null===t.tabindex?e._renderer.removeAttribute(t.element,"tabindex"):e._renderer.setAttribute(t.element,"tabindex",t.tabindex)})),this._modifiedElements=[]},e}(),he=function(){function e(e){this.container=e,this._components=[]}return e.prototype.addReference=function(e){this._components.push(e)},e.prototype.removeReference=function(e){this._components=this._components.filter((function(t){return t!==e}))},e.prototype.isAlive=function(){return this._components.length>0},e}(),de=function(){function e(e,t){this._elementRef=e,this._managedFocusContainerService=t}return e.prototype.ngOnInit=function(){this._managedFocusContainerService.register(this._elementRef.nativeElement,this)},e.prototype.ngOnDestroy=function(){this._managedFocusContainerService.unregister(this._elementRef.nativeElement,this)},e.ctorParameters=function(){return[{type:n.ElementRef},{type:ue}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxManagedFocusContainer]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:ue}]},e}(),ge=function(){function e(e,i,o,r,a){var c=this;this._elementRef=e,this._renderer=i,this._platform=o,this._splitter=r,this._focusIndicatorService=a,this.gutterKeydown=new n.EventEmitter,this._gutters=[],this._onDestroy=new t.Subject,this._focusIndicators=[],r.dragProgress$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return c.updateGutterAttributes()}))}return e.prototype.ngAfterViewInit=function(){var e=this;this.onGutterChange(),this.areas.changes.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.onGutterChange()})),i.isPlatformBrowser(this._platform)&&(this._observer=new MutationObserver((function(){return e.onGutterChange()})),this._observer.observe(this._elementRef.nativeElement,{childList:!0}))},e.prototype.ngOnDestroy=function(){this._observer&&this._observer.disconnect(),this._onDestroy.next(),this._onDestroy.complete(),this._focusIndicators.forEach((function(e){return e.destroy()}))},e.prototype.onClick=function(e){this.isSplitterGutter(e.target)&&e.target.parentElement.focus()},e.prototype.onGutterChange=function(){var e=this;this._focusIndicators.forEach((function(e){return e.destroy()})),this._focusIndicators=[],this._gutters=this.getGutters(),this._gutters.forEach((function(t){return e._focusIndicators.push(e._focusIndicatorService.monitor(t))})),this.setGutterAttributes()},e.prototype.getGutters=function(){if(i.isPlatformBrowser(this._platform)){for(var e=[],t=0;t<this._elementRef.nativeElement.children.length;t++){var n=this._elementRef.nativeElement.children.item(t);this.isSplitterGutter(n)&&e.push(n)}return e}return[]},e.prototype.setGutterAttributes=function(){var e=this;this._gutters.forEach((function(t){e._renderer.setAttribute(t,"role","separator"),e._renderer.setAttribute(t,"tabindex","0"),e.updateGutterAttributes()}))},e.prototype.updateGutterAttributes=function(){var e=this;this._gutters.forEach((function(t,n){e.setGutterValueNow(t,n),e.setGutterValueMin(t,n),e.setGutterValueMax(t,n)}))},e.prototype.setGutterValueNow=function(e,t){this._renderer.setAttribute(e,"aria-valuenow",""+Math.round(this._splitter.displayedAreas[t].size))},e.prototype.setGutterValueMin=function(e,t){var n=this.areas.toArray()[t];this._renderer.setAttribute(e,"aria-valuemin",""+Math.round(n.minSize))},e.prototype.setGutterValueMax=function(e,t){var n=this.areas.filter((function(e,n){return t!==n})).reduce((function(e,t){return e+t.minSize}),0);this._renderer.setAttribute(e,"aria-valuemax",""+(100-Math.round(n)))},e.prototype.onKeydown=function(e){this.isSplitterGutter(e.target)&&this.gutterKeydown.emit(e)},e.prototype.onIncreaseKey=function(e){this.isSplitterGutter(e.target)&&(this.setGutterPosition(e.target,-1),e.preventDefault())},e.prototype.onDecreaseKey=function(e){this.isSplitterGutter(e.target)&&(this.setGutterPosition(e.target,1),e.preventDefault())},e.prototype.onHomeKey=function(e){if(this.isSplitterGutter(e.target)){var t=this.getAreasFromGutter(e.target);this.setGutterPosition(e.target,t.previous.size-t.previous.minSize),e.preventDefault()}},e.prototype.onEndKey=function(e){if(this.isSplitterGutter(e.target)){var t=this.getAreasFromGutter(e.target);this.setGutterPosition(e.target,-(t.next.size-t.next.minSize)),e.preventDefault()}},e.prototype.isSplitterGutter=function(e){return e.classList.contains("as-split-gutter")||e.classList.contains("as-split-gutter-icon")},e.prototype.setGutterPosition=function(e,t){var n=this.getAreasFromGutter(e);n.previous.size-t<n.previous.minSize||n.next.size+t<n.next.minSize||(n.previous.size-=t,n.next.size+=t,this._splitter.refreshStyleSizes(),this.updateGutterAttributes())},e.prototype.getAreasFromGutter=function(e){var t=this._gutters.indexOf(e);return{previous:this._splitter.displayedAreas[t],next:this._splitter.displayedAreas[t+1]}},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:String,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]},{type:c.SplitComponent},{type:ie}]},e.decorators=[{type:n.Directive,args:[{selector:"as-split"}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:String,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]},{type:c.SplitComponent},{type:ie}]},e.propDecorators={gutterKeydown:[{type:n.Output}],areas:[{type:n.ContentChildren,args:[c.SplitAreaDirective]}],onClick:[{type:n.HostListener,args:["click",["$event"]]}],onKeydown:[{type:n.HostListener,args:["keydown",["$event"]]}],onIncreaseKey:[{type:n.HostListener,args:["keydown.ArrowDown",["$event"]]},{type:n.HostListener,args:["keydown.ArrowRight",["$event"]]}],onDecreaseKey:[{type:n.HostListener,args:["keydown.ArrowUp",["$event"]]},{type:n.HostListener,args:["keydown.ArrowLeft",["$event"]]}],onHomeKey:[{type:n.HostListener,args:["keydown.Home",["$event"]]}],onEndKey:[{type:n.HostListener,args:["keydown.End",["$event"]]}]},e}(),fe=function(){function e(){this.hierarchy=!1,this.allowAltModifier=!0,this.allowCtrlModifier=!0,this.allowBoundaryKeys=!1,this.shouldScrollInView=!0,this.shouldFocusOnChange=!0,this.onTabIndexChange=new t.Subject,this.isFocused=!1,this._onDestroy=new t.Subject}return e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete(),this.onTabIndexChange.complete()},e.prototype.initialize=function(e,t,n){var i=this;this._items=e,this.focusKeyManager=new o.FocusKeyManager(e),"vertical"===t?this.focusKeyManager.withVerticalOrientation():this.focusKeyManager.withHorizontalOrientation("ltr"),this._direction=t,n&&this.focusKeyManager.withWrap(),this.setFirstItemTabbable(),this._items.forEach((function(e){return e.onInit()})),this._items.changes.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){i._items.filter((function(e){return!e.initialized})).forEach((function(e){return e.onInit()})),i.onTabIndexChange.next(),i.ensureTabbableItem()}))},e.prototype.activate=function(e,t){if(void 0===t&&(t=!1),e){var n=this._items.toArray().indexOf(e);this.activateItemAtIndex(n,t)}},e.prototype.activateItemAtIndex=function(e,t){if(void 0===t&&(t=!1),t)return this.updateActiveItemIndex(e);this.focusKeyManager.activeItemIndex!==e&&this.focusKeyManager.setActiveItem(e)},e.prototype.isItemActive=function(e){if(!this._items)return!1;var t=this._items.toArray().findIndex((function(t){return t.id===e.id}));return this.focusKeyManager&&this.focusKeyManager.activeItemIndex===t},e.prototype.setFirstItemTabbable=function(){var e=this._items.toArray().findIndex((function(e){return!e.disabled}));-1!==e&&this.updateActiveItemIndex(e)},e.prototype.ensureTabbableItem=function(){var e=this;this._items.find((function(t){return e.isItemActive(t)}))||this.setFirstItemTabbable()},e.prototype.focusTabbableItem=function(){var e=this;if(this._items){var t=this._items.toArray().findIndex((function(t){return e.isItemActive(t)}));-1!==t&&this.focusKeyManager.setActiveItem(t)}},e.prototype.onKeydown=function(e,t){if(!(!this.allowAltModifier&&t.altKey||!this.allowCtrlModifier&&t.ctrlKey)){if(this.focusKeyManager.onKeydown(t),this.allowBoundaryKeys)switch(t.which){case l.HOME:this.focusKeyManager.setFirstItemActive(),t.preventDefault();break;case l.END:this.focusKeyManager.setLastItemActive(),t.preventDefault()}this.hierarchy&&("horizontal"===this._direction&&t.keyCode===l.DOWN_ARROW||"vertical"===this._direction&&t.keyCode===l.RIGHT_ARROW?e.keyboardExpanded$.next(!0):("horizontal"===this._direction&&t.keyCode===l.UP_ARROW||"vertical"===this._direction&&t.keyCode===l.LEFT_ARROW)&&(e.children.length>0&&e.expanded?e.keyboardExpanded$.next(!1):e.parent&&e.parent.keyboardExpanded$.next(!1)))}},e.prototype.sortItemsByHierarchy=function(e){var t=[];return e.forEach((function(e){return e.children=[]})),e.forEach((function(e){e.parent?e.parent.children.push(e):t.push(e)})),this.flattenHierarchy(t)},e.prototype.itemReferenceChange=function(e,t){var n=this.getItemByKey(e);if(!n)return this.ensureTabbableItem();var i=this._items.toArray().indexOf(n);this.updateActiveItemIndex(i),n.focusWithOrigin(t)},e.prototype.updateActiveItemIndex=function(e){this.focusKeyManager.updateActiveItem(e),this.onTabIndexChange.next()},e.prototype.hasTabbableItem=function(){return this.focusKeyManager&&this.focusKeyManager.activeItemIndex>=0},e.prototype.getItemByKey=function(e){return this._items.find((function(t){return t.key===e}))},e.prototype.flattenHierarchy=function(e){var t=this,n=[];return e.forEach((function(e){e.children.sort((function(e,t){return e.rank-t.rank})),n.push.apply(n,A([e],t.flattenHierarchy(e.children)))})),n},e.decorators=[{type:n.Injectable}],e}(),ye=0,me=0,ve=function(){function e(e,i,o,r,a,c,l,u){var p=this;this._tabbableList=e,this._elementRef=i,this._managedFocusContainerService=r,this._platform=a,this._changeDetector=c,this._focusOriginService=l,this._renderer=u,this.rank=0,this.disabled=!1,this.expanded=!1,this.expandedChange=new n.EventEmitter,this.activated=new n.EventEmitter,this.id=ye++,this.initialized=!1,this.children=[],this.keyboardExpanded$=new t.Subject,this._onDestroy=new t.Subject,this._defaultKey="tabbable-list-key-"+me++,this._focusOrigin=null,this._focusIndicator=o.monitor(i.nativeElement),this._focusIndicator.origin$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){return p._focusOrigin=e})),this._tabbableList.onTabIndexChange.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return p.setTabIndex()})),this.keyboardExpanded$.pipe(L(),s.takeUntil(this._onDestroy)).subscribe((function(e){p.expandedChange.emit(e),e?p.children.length>0&&p._tabbableList.activate(p.children[0]):p._tabbableList.activate(p)}))}return Object.defineProperty(e.prototype,"key",{get:function(){return this._key||this._defaultKey},set:function(e){var t=this._key,n=t&&e!==t;if(this._key=e,n&&this.isTabbable()){this._changeDetector.detectChanges(),this._tabbableList.focusKeyManager.updateActiveItem(-1);var i=this._focusOrigin;this._elementRef.nativeElement.blur(),this._tabbableList.itemReferenceChange(t,i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tabindex",{get:function(){return this._tabbableList.isItemActive(this)?0:-1},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){this.initialized=!0,this._managedFocusContainerService.register(this._elementRef.nativeElement,this),this.setTabIndex()},e.prototype.ngOnDestroy=function(){0===this.tabindex&&this._tabbableList.setFirstItemTabbable(),this._onDestroy.next(),this._onDestroy.complete(),this._focusIndicator.destroy(),this._managedFocusContainerService.unregister(this._elementRef.nativeElement,this)},e.prototype.focus=function(){var e=this._tabbableList.hasTabbableItem(),t=e&&this._focusOriginService.getOrigin()||"keyboard";this.focusWithOrigin(t,!this._tabbableList.shouldScrollInView),this._tabbableList.activate(this,e),this.activated.emit(t)},e.prototype.onFocus=function(){this._tabbableList.isItemActive(this)||this._tabbableList.activate(this,!0),this._tabbableList.isFocused=!0},e.prototype.onBlur=function(){this._tabbableList.isItemActive(this)&&(this._tabbableList.isFocused=!1)},e.prototype.onKeydown=function(e){this._tabbableList.onKeydown(this,e)},e.prototype.getFocused=function(){return this._elementRef.nativeElement===document.activeElement},e.prototype.focusWithOrigin=function(e,t){if(void 0===t&&(t=!0),e){var n=this._tabbableList.containerRef.scrollTop;this._focusIndicator.focus(e,{preventScroll:t}),t&&!this._platform.WEBKIT&&(this._tabbableList.containerRef.scrollTop=n)}},e.prototype.isTabbable=function(){return 0===this.tabindex},e.prototype.setTabIndex=function(){this._renderer.setAttribute(this._elementRef.nativeElement,"tabindex",this.tabindex.toString())},e.ctorParameters=function(){return[{type:fe},{type:n.ElementRef},{type:ie},{type:ue},{type:r.Platform},{type:n.ChangeDetectorRef},{type:ne},{type:n.Renderer2}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxTabbableListItem]",exportAs:"ux-tabbable-list-item"}]}],e.ctorParameters=function(){return[{type:fe},{type:n.ElementRef},{type:ie},{type:ue},{type:r.Platform},{type:n.ChangeDetectorRef},{type:ne},{type:n.Renderer2}]},e.propDecorators={parent:[{type:n.Input}],rank:[{type:n.Input}],disabled:[{type:n.Input}],expanded:[{type:n.Input}],key:[{type:n.Input}],expandedChange:[{type:n.Output}],activated:[{type:n.Output}],onFocus:[{type:n.HostListener,args:["focus"]},{type:n.HostListener,args:["click"]}],onBlur:[{type:n.HostListener,args:["blur"]}],onKeydown:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),be=function(){function e(e,n){this._tabbableList=e,this.direction="vertical",this.wrap=!0,this.focusOnShow=!1,this.returnFocus=!1,this._onDestroy=new t.Subject,this._tabbableList.containerRef=n.nativeElement}return Object.defineProperty(e.prototype,"hierarchy",{set:function(e){this._tabbableList.hierarchy=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowAltModifier",{set:function(e){this._tabbableList.allowAltModifier=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowCtrlModifier",{set:function(e){this._tabbableList.allowCtrlModifier=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowBoundaryKeys",{set:function(e){this._tabbableList.allowBoundaryKeys=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"focusKeyManager",{get:function(){return this._tabbableList.focusKeyManager},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this._focusedElement=document.activeElement,this._orderedItems=new n.QueryList,this._tabbableList.hierarchy?(this._orderedItems.reset(this._tabbableList.sortItemsByHierarchy(this.items)),this.items.changes.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){e._orderedItems.reset(e._tabbableList.sortItemsByHierarchy(e.items)),e._orderedItems.notifyOnChanges()}))):(this._orderedItems=this.items,this.items.changes.pipe(s.filter((function(){return e._tabbableList.shouldFocusOnChange&&e._tabbableList.isFocused})),s.takeUntil(this._onDestroy)).subscribe((function(t){var n=e._tabbableList.focusKeyManager.activeItem;if(n){var i=t.toArray().findIndex((function(e){return e.key===n.key}));i>-1&&(e._tabbableList.shouldScrollInView=!1,e._tabbableList.activateItemAtIndex(i,!e._tabbableList.isFocused),e._tabbableList.shouldScrollInView=!0)}}))),this._tabbableList.initialize(this._orderedItems,this.direction,this.wrap),this.focusOnShow&&this._tabbableList.focusKeyManager.setFirstItemActive()},e.prototype.ngOnDestroy=function(){var e=this;this.returnFocus&&this._focusedElement instanceof HTMLElement&&setTimeout((function(){return e._focusedElement.focus()})),this._onDestroy.next(),this._onDestroy.complete()},e.prototype.focus=function(){this._tabbableList.focusKeyManager&&this._tabbableList.focusKeyManager.activeItem&&this._tabbableList.focusKeyManager.activeItem.focus()},e.prototype.focusTabbableItem=function(){this._tabbableList.focusTabbableItem()},e.ctorParameters=function(){return[{type:fe},{type:n.ElementRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxTabbableList]",exportAs:"ux-tabbable-list",providers:[fe]}]}],e.ctorParameters=function(){return[{type:fe},{type:n.ElementRef}]},e.propDecorators={direction:[{type:n.Input}],wrap:[{type:n.Input}],focusOnShow:[{type:n.Input}],returnFocus:[{type:n.Input}],hierarchy:[{type:n.Input}],allowAltModifier:[{type:n.Input}],allowCtrlModifier:[{type:n.Input}],allowBoundaryKeys:[{type:n.Input}],items:[{type:n.ContentChildren,args:[ve,{descendants:!0}]}]},e}(),_e=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:Q,useValue:t}]}},e.decorators=[{type:n.NgModule,args:[{declarations:[re,oe,ae,ce,le,de,ge,be,ve,ce,Z],imports:[o.A11yModule,Y,r.PlatformModule],exports:[re,oe,ae,ce,le,de,ge,be,ve,ce,Z],providers:[J,X,ie,ue]}]}],e}(),xe=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule],declarations:[z,N,H],exports:[z,N,H]}]}],e}(),we=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxAlertIcon]"}]}],e}(),Se=function(){function e(e){this.colorService=e,this.type="info",this.dismissible=!1,this.dismissAriaLabel="Dismiss Alert",this.dismiss=new n.EventEmitter}return Object.defineProperty(e.prototype,"_backgroundColor",{get:function(){return this.backgroundColor?this.getColor(this.backgroundColor):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_foregroundColor",{get:function(){return this.foregroundColor?this.getColor(this.foregroundColor):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_isCustomColor",{get:function(){return!!this.backgroundColor&&!!this.foregroundColor},enumerable:!1,configurable:!0}),e.prototype.getColor=function(e){return this.colorService.resolve(e)},e.ctorParameters=function(){return[{type:q}]},e.decorators=[{type:n.Component,args:[{selector:"ux-alert",template:'<div class="alert-icon" *ngIf="icon">\n    <ng-content select="[uxAlertIcon]"></ng-content>\n</div>\n\n<div class="alert-content">\n    <ng-content></ng-content>\n</div>\n\n<button *ngIf="dismissible"\n        uxFocusIndicator\n        class="alert-close"\n        type="button"\n        (click)="dismiss.emit()"\n        [attr.aria-label]="dismissAriaLabel">\n    <ux-icon name="close" class="alert-close-icon"></ux-icon>\n</button>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,host:{role:"alert","[class.ux-alert-info]":'type === "info" && !_isCustomColor',"[class.ux-alert-error]":'type === "error" && !_isCustomColor',"[class.ux-alert-warning]":'type === "warning" && !_isCustomColor',"[class.ux-alert-success]":'type === "success" && !_isCustomColor',"[class.ux-alert-dark]":'type === "dark" && !_isCustomColor',"[style.background-color]":"_backgroundColor","[style.color]":"_foregroundColor"}}]}],e.ctorParameters=function(){return[{type:q}]},e.propDecorators={type:[{type:n.Input}],dismissible:[{type:n.Input}],backgroundColor:[{type:n.Input}],foregroundColor:[{type:n.Input}],dismissAriaLabel:[{type:n.Input}],dismiss:[{type:n.Output}],icon:[{type:n.ContentChild,args:[we,{static:!1}]}]},e}(),Ce=new n.InjectionToken("ICON_OPTIONS_TOKEN"),De=["3d","achievement","action","actions","active","add","address-book","advanced-search","aggregate","alarm","alert-filled","alert","analytics","announcement","app","archive","article","ascend","assistant","attachment","bar-chart","blog","bloomberg","book","bookmark-filled","bookmark","bundle","calculator","calendar","camera-filled","camera","capacity","caret-down-filled","caret-down","caret-next-filled","caret-next","caret-previous-filled","caret-previous","caret-up-filled","caret-up","catalog","change-password","chapter-add","chapter-next-filled","chapter-next","chapter-previous-filled","chapter-previous","chart-organization","chart-partition","chart-sankey","chat-attachment","chat","checkbox-selected","checkbox","checkmark","chevron-down","chevron-left-double","chevron-left","chevron-right-double","chevron-right","chevron-up","chorus","circular-view","clipboard","clone","close","cloud-computer","cloud-download","cloud-software","cloud-upload","cloud","cluster","code","command-line","compare","compass","compliance","computer-personal","configuration-filled","configuration","confluence","connect","contact-card","contact-us-filled","contact-us","contract","copy","cube-filled","cube","cubes","cursor-filled","cursor","cut","cycle","dashboard","database","defect","deliver","deployment","descend","desktop","detach","directions","dislike-filled","dislike","divide-four","divide-right","divide-three","divide","document-cloud","document-compress","document-config","document-csv","document-data","document-download","document-excel","document-executable","document-html","document-image","document-import","document-locked","document-missing","document-notes","document-outlook","document-pdf","document-performance","document-powerpoint","document-rtf","document-sound","document-test","document-text","document-threat","document-time","document-transfer","document-txt","document-update","document-upload","document-user","document-verified","document-video","document-word","document","domain","down","download","drag","drive-cage","duplicate","edit-filled","edit","efax","eject-filled","eject","expand","export","fan","fast-forward-filled","fast-forward","favorite-filled","favorite","filter-filled","filter","first-aid","flag-filled","flag","folder-cycle","folder-open","folder","gallery-filled","gallery","globe","grid","group-add","group","grow","halt","help-circle","help","highlighting-remove","highlighting","history","home-filled","home","host-maintenance","host","image-filled","image","impact","import","in-progress","inactive","inbox","indicator-filled","indicator","information-filled","information","inherit-filled","inherit","input-to-process","install","integration","iteration-filled","iteration","java-filled","java","language","launch","license-filled","license","like-filled","like","line-chart","link-bottom","link-down","link-next","link-previous","link-top","link-up","link","list","location-filled","location-pin-filled","location-pin","location","lock","login","logout","mail-attachment","mail-filled","mail","manual","map-location","map","menu","microphone-filled","microphone","monitor","more","multiple","navigate","new-window","new","news-aggregation","news-collection","news-content","news","next","notes","notification-filled","notification","optimization","organization","overview","pan","pause-filled","pause","payment-google-wallet","payment-mastercard","payment-paypal","payment-square","payment-visa","pin-filled","pin","plan","platform-apple","platform-chrome","platform-dropbox","platform-edge","platform-firefox","platform-internet-explorer","platform-kubernetes","platform-skype","platform-windows","play-filled","play","power","previous","print","quick-view","radial-selected","radial","redo","refresh","resources","reuters","rewind-filled","rewind","risk","rss","satellite","save-filled","save","scale-out-repository","schedule-clone","schedule-new","schedule-play","schedule","scorecard","search","secure","select-left","select","server-cluster","server-started","server","servers","service-business","service-start","share","shield-configure","shield-filled","shield","shift","shop-basket","shop-cart","show-less","show-more","sms","soa","social-cisco-jabber","social-email","social-facebook-workplace","social-facebook","social-github","social-instagram","social-instant-message","social-linkedin","social-medium","social-ms-teams","social-pinterest","social-reddit","social-salesforce-filled","social-salesforce","social-sharepoint","social-skype-for-business","social-slack","social-tumblr","social-twitter","social-vimeo","social-we-chat","social-whats-app","social-yammer","social-youtube","sort","stakeholder","star-filled","star-half","star","status-approved-filled","status-error-filled","status-information-filled","status-information","status-warning-filled","steps-filled","steps","storage","street-view-filled","street-view","subtitles","subtract","support","symphony","sync","system","tab-next","tab-previous","tab-up","table-add","table","tag-filled","tag","target","task","template","test-desktop","test","text-wrap","threats","ticket","tools","tooltip","transaction-filled","transaction","trash-filled","trash","tree","trigger","trophy-filled","trophy","troubleshooting","undo","unlock","up","update","upgrade-filled","upgrade","upload","user-add-filled","user-add","user-admin","user-expert","user-female-filled","user-female","user-filled","user-manager","user-new","user-police","user-settings","user-worker","user","validation-filled","validation","video-filled","video","view-filled","view","virtual-machine","vm-maintenance","voltage","volume-filled","volume-low-filled","volume-low","volume-mute-filled","volume-mute","volume","vulnerability","waypoint-filled","waypoint","workshop","zoom-in","zoom-out"],ke=A(De.map((function(e){return{name:e,iconset:"ux-icon",icon:"ux-icon-"+e}}))),Ie=function(){function e(e,n){this._iconService=e,this.iconsChanged$=new t.Subject,this._icons=A(ke),n&&n.icons&&this.setIcons(n.icons)}return e.prototype.setIcons=function(e){var t=this;e.forEach((function(e){return t.setIcon(e)}))},e.prototype.setIcon=function(e){var t=this,n=e.name,i=e.icon,o=e.iconset,r=e.size;if(Array.isArray(r))return r.forEach((function(e){return t.setIcon({name:n,icon:i,iconset:o,size:e})}));this._icons=this._icons.filter((function(e){return!(e.name===n&&e.size===r)})),this._icons=A(this._icons,[{name:n,icon:i,iconset:o,size:r}]),this.iconsChanged$.next({name:n,size:r})},e.prototype.getIcon=function(e,t){if(e){if(t){var n=this._icons.find((function(n){return n.name===e&&n.size===t}));if(n)return n}var i=this._icons.find((function(t){return t.name===e&&void 0===t.size}));return!i&&this._iconService?this._iconService.getIcon(e,t):(i||console.warn("Icon '"+e+"' was not found."),i)}},e.ctorParameters=function(){return[{type:e,decorators:[{type:n.Optional},{type:n.SkipSelf}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[Ce]}]}]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:e,decorators:[{type:n.Optional},{type:n.SkipSelf}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[Ce]}]}]},e}(),Oe=function(){function e(e,n,i){this._elementRef=e,this._renderer=n,this._iconService=i,this._flipVertical=!1,this._flipHorizontal=!1,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=a.coerceNumberProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flipHorizontal",{get:function(){return this._flipHorizontal},set:function(e){this._flipHorizontal=a.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flipVertical",{get:function(){return this._flipVertical},set:function(e){this._flipVertical=a.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnChanges=function(e){(e.name&&e.name.currentValue!==e.name.previousValue||e.size&&e.size.currentValue!==e.size.previousValue)&&this.updateIcon()},e.prototype.ngAfterViewInit=function(){var e=this;this._iconService.iconsChanged$.pipe(s.filter((function(t){return e._icon&&t.name===e._icon.name})),s.takeUntil(this._onDestroy)).subscribe((function(){return e.updateIcon()}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.updateIcon=function(){this._icon&&(this._renderer.removeClass(this._elementRef.nativeElement,this._icon.iconset),this._renderer.removeClass(this._elementRef.nativeElement,this._icon.icon)),this._icon=this._iconService.getIcon(this.name,this.size),this._icon?(this._renderer.addClass(this._elementRef.nativeElement,this._icon.iconset),this._renderer.addClass(this._elementRef.nativeElement,this._icon.icon)):this.name&&console.warn("The icon "+this.name+" could not be found. Ensure you are using the correct iconset.")},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:Ie}]},e.decorators=[{type:n.Component,args:[{selector:"ux-icon",template:"",changeDetection:n.ChangeDetectionStrategy.OnPush,host:{"[style.font-size]":"size","[class.ux-flip-horizontal]":"flipHorizontal","[class.ux-flip-vertical]":"flipVertical","[class.ux-rotate-90]":"rotate == 90","[class.ux-rotate-180]":"rotate == 180","[class.ux-rotate-270]":"rotate == 270"}}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:Ie}]},e.propDecorators={name:[{type:n.Input}],size:[{type:n.Input}],rotate:[{type:n.Input}],flipHorizontal:[{type:n.Input}],flipVertical:[{type:n.Input}]},e}(),Pe=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:Ce,useValue:t}]}},e.forChild=function(t){return e.forRoot(t)},e.decorators=[{type:n.NgModule,args:[{declarations:[Oe],exports:[Oe],providers:[Ie]}]}],e}(),Te=A(De.map((function(e){return{name:e,iconset:"hpe-icon",icon:"hpe-"+e}}))),Ee=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,Pe],declarations:[Se,we],exports:[Se,we]}]}],e}(),Re=function(){function e(){}return e.prototype.clickCrumb=function(e,t){t.onClick&&t.onClick.call(null,e)},e.decorators=[{type:n.Component,args:[{selector:"ux-breadcrumbs",template:'<nav aria-label="Breadcrumb">\n    <ol class="breadcrumb">\n        <li *ngFor="let crumb of crumbs">\n\n            \x3c!-- If there is a router link or an onClick function then use a tag --\x3e\n            <a *ngIf="crumb.routerLink"\n                uxFocusIndicator\n                tabindex="0"\n                [routerLink]="crumb.routerLink"\n                [fragment]="crumb.fragment"\n                [queryParams]="crumb.queryParams"\n                (click)="clickCrumb($event, crumb)">\n                {{ crumb.title }}\n            </a>\n            <a *ngIf="crumb.onClick && !crumb.routerLink"\n                uxFocusIndicator\n                tabindex="0"\n                (click)="clickCrumb($event, crumb)">\n                {{ crumb.title }}\n            </a>\n\n            \x3c!-- If there is no router link or onClick function then display text in a span --\x3e\n            <span *ngIf="!crumb.routerLink && !crumb.onClick">{{ crumb.title }}</span>\n        </li>\n    </ol>\n</nav>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.propDecorators={crumbs:[{type:n.Input}]},e}(),Ae=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,u.RouterModule],exports:[Re],declarations:[Re]}]}],e}(),Me=function(){function e(e){this._zone=e,this._observer=new p(this.elementDidResize.bind(this)),this._targets=new WeakMap}return e.prototype.ngOnDestroy=function(){this._observer.disconnect()},e.prototype.addResizeListener=function(e){var n=this;if(this._zone.runOutsideAngular((function(){return n._observer.observe(e)})),this._targets.has(e))return this._targets.get(e);var i=new t.ReplaySubject;return this._targets.set(e,i),i},e.prototype.removeResizeListener=function(e){this._observer.unobserve(e)},e.prototype.elementDidResize=function(e){var t=this;this._zone.run((function(){var n,i;try{for(var o=E(e),r=o.next();!r.done;r=o.next()){var a=r.value;t._targets.has(a.target)&&t._targets.get(a.target).next({width:a.target.offsetWidth,height:a.target.offsetHeight})}}catch(s){n={error:s}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}))},e.ctorParameters=function(){return[{type:n.NgZone}]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:n.NgZone}]},e}(),Le=function(){function e(e,i,o){this._elementRef=e,this._resizeService=i,this._ngZone=o,this.throttle=0,this.uxResize=new n.EventEmitter,this._onDestroy=new t.Subject}return e.prototype.ngOnInit=function(){var e=this;this._resizeService.addResizeListener(this._elementRef.nativeElement).pipe(s.takeUntil(this._onDestroy),s.debounceTime(this.throttle)).subscribe((function(t){return e._ngZone.run((function(){return e.uxResize.emit(t)}))}))},e.prototype.ngOnDestroy=function(){this._resizeService.removeResizeListener(this._elementRef.nativeElement),this._onDestroy.next(),this._onDestroy.complete()},e.ctorParameters=function(){return[{type:n.ElementRef},{type:Me},{type:n.NgZone}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxResize]",providers:[Me]}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:Me},{type:n.NgZone}]},e.propDecorators={throttle:[{type:n.Input}],uxResize:[{type:n.Output}]},e}(),$e=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[Le],declarations:[Le],providers:[Me]}]}],e}(),Fe=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxCardTabContent]"}]}],e}(),He=function(){function e(){var e=this;this.tab$=new t.BehaviorSubject(null),this.tabs$=new t.BehaviorSubject([]),this.position$=new t.BehaviorSubject("top"),this._subscription=this.tabs$.pipe(s.filter((function(t){return!e.tab$.value||!t.find((function(t){return t===e.tab$.value}))}))).subscribe((function(t){return e.tab$.next(t.length>0?t[0]:null)}))}return e.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},e.prototype.addTab=function(e){this.tabs$.next(A(this.tabs$.value,[e]))},e.prototype.removeTab=function(e){this.tabs$.next(this.tabs$.value.filter((function(t){return t!==e})))},e.prototype.select=function(e){this.tab$.next(e)},e.prototype.setPosition=function(e){this.position$.next(e)},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[]},e}(),je=function(){function e(e){var t=this;this._tabService=e,this.active$=this._tabService.tab$.pipe(s.map((function(e){return e===t}))),this._tabService.addTab(this)}return e.prototype.ngOnDestroy=function(){this._tabService.removeTab(this)},e.ctorParameters=function(){return[{type:He}]},e.decorators=[{type:n.Component,args:[{selector:"ux-card-tab",template:'<ng-content *ngIf="active$ | async"></ng-content>',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:He}]},e.propDecorators={content:[{type:n.ContentChild,args:[Fe,{read:n.TemplateRef,static:!1}]}]},e}(),Be=function(){function e(e){this.tabService=e,this.offset=0,this.bounds={lower:0,upper:0}}return Object.defineProperty(e.prototype,"position",{get:function(){return this.tabService.position$.getValue()},set:function(e){this.tabService.setPosition(e)},enumerable:!1,configurable:!0}),e.prototype.select=function(e,t){this.tabService.select(e),this.moveIntoView(t)},e.prototype.resize=function(e){this._width=e.width,this._innerWidth=this.tablist.nativeElement.scrollWidth,this.bounds.lower=0,this.bounds.upper=-(this._innerWidth-this._width)},e.prototype.previous=function(){this.offset+=this._width,this.offset=Math.min(this.offset,this.bounds.lower)},e.prototype.next=function(){this.offset-=this._width,this.offset=Math.max(this.offset,this.bounds.upper)},e.prototype.moveIntoView=function(e){if(this._width&&this._innerWidth){var t=e.offsetLeft,n=e.offsetWidth,i=getComputedStyle(e),o=i.marginLeft,r=i.marginRight,a=Math.abs(this.offset),s=a+this._width,c=parseFloat(o)+n+parseFloat(r);t<a&&(this.offset-=t-parseFloat(o)-a),t+c>s&&(this.offset-=t+c-s)}},e.ctorParameters=function(){return[{type:He}]},e.decorators=[{type:n.Component,args:[{selector:"ux-card-tabset",template:'<div class="card-tab-content" role="tabpanel" *ngIf="(tabService.tab$ | async)">\n    <ng-content></ng-content>\n</div>\n\n<div class="card-tabs" #tabs>\n\n    <button type="button" class="card-tabs-paging-btn card-tabs-paging-btn-previous" aria-label="Previous Tabs" (click)="previous()" *ngIf="offset < bounds.lower">\n        <ux-icon name="previous"></ux-icon>\n    </button>\n\n    <div class="card-tabs-list" role="tablist" #tablist (uxResize)="resize($event)" [style.transform]="\'translateX(\' + offset + \'px)\'">\n\n        <div class="card-tab"\n            role="tab"\n            tabindex="0" #card\n            *ngFor="let tab of tabService.tabs$ | async"\n            [ngClass]="tabService.position$ | async"\n            [class.active]="tab.active$ | async"\n            [attr.aria-selected]="tab.active$ | async"\n            (click)="select(tab, card)"\n            (focus)="tabs.scrollLeft = 0"\n            (keydown.enter)="select(tab, card)">\n\n            <ng-container [ngTemplateOutlet]="tab.content"></ng-container>\n        </div>\n\n    </div>\n\n    <button type="button" class="card-tabs-paging-btn card-tabs-paging-btn-next" aria-label="Next Tabs" (click)="next()" *ngIf="offset > bounds.upper">\n        <ux-icon name="next"></ux-icon>\n    </button>\n</div>',providers:[He]}]}],e.ctorParameters=function(){return[{type:He}]},e.propDecorators={position:[{type:n.HostBinding,args:["class"]},{type:n.Input}],tablist:[{type:n.ViewChild,args:["tablist",{static:!0}]}]},e}(),Ne=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,$e,Pe],declarations:[Be,je,Fe],exports:[Be,je,Fe]}]}],e}(),ze={provide:h.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return We})),multi:!0},Ve=0,We=function(){function e(e){this._changeDetector=e,this._checkboxId="ux-checkbox-"+ ++Ve,this.id=this._checkboxId,this.value=!1,this.tabindex=0,this.clickable=!0,this.simplified=!1,this.indeterminateValue=-1,this.disabled=!1,this.ariaLabel="",this.ariaLabelledby=null,this.valueChange=new n.EventEmitter,this._focused=!1,this.onTouchedCallback=function(){},this.onChangeCallback=function(){}}return e.prototype.toggle=function(){!this.disabled&&this.clickable&&(this.value=this.value===this.indeterminateValue||!this.value,this.valueChange.emit(this.value),this.onChangeCallback(this.value),this.onTouchedCallback())},e.prototype.writeValue=function(e){e!==this.value&&(this.value=e,this._changeDetector.markForCheck())},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetector.markForCheck()},e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-checkbox",template:'<label [attr.for]="(id || _checkboxId) + \'-input\'"\n       class="ux-checkbox"\n       [class.ux-checkbox-checked]="value === true"\n       [class.ux-checkbox-indeterminate]="value === indeterminateValue"\n       [class.ux-checkbox-simplified]="simplified"\n       [class.ux-checkbox-disabled]="disabled"\n       [class.ux-checkbox-focused]="_focused">\n\n    <div class="ux-checkbox-container">\n\n        <input type="checkbox"\n               uxFocusIndicator\n               class="ux-checkbox-input"\n               [id]="(id || _checkboxId) + \'-input\'"\n               [required]="required"\n               [checked]="value"\n               [attr.value]="value"\n               [disabled]="disabled"\n               [attr.name]="name"\n               [tabindex]="tabindex"\n               [indeterminate]="value === indeterminateValue"\n               [attr.aria-label]="ariaLabel"\n               [attr.aria-labelledby]="ariaLabelledby"\n               [attr.aria-checked]="value === indeterminateValue ? \'mixed\' : value"\n               (indicator)="_focused = $event"\n               (change)="$event.stopPropagation()"\n               (click)="toggle()">\n    </div>\n\n    <span class="ux-checkbox-label">\n        <ng-content></ng-content>\n    </span>\n</label>\n',providers:[ze],changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.propDecorators={id:[{type:n.Input}],name:[{type:n.Input}],value:[{type:n.Input}],required:[{type:n.Input}],tabindex:[{type:n.Input}],clickable:[{type:n.Input}],simplified:[{type:n.Input}],indeterminateValue:[{type:n.Input}],disabled:[{type:n.Input}],ariaLabel:[{type:n.Input,args:["aria-label"]}],ariaLabelledby:[{type:n.Input,args:["aria-labelledby"]}],valueChange:[{type:n.Output}]},e}(),Ue=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,h.FormsModule],exports:[We],declarations:[We]}]}],e}(),Ge=function(){function e(e,t,n){this.name=e,this._color=K.parse(t),"hex"===n?this._originalHexValue=t:"rgba"===n&&(this._originalRgbaValue=t)}return Object.defineProperty(e.prototype,"hex",{get:function(){return this._originalHexValue?this._originalHexValue:this._color.toHex()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rgba",{get:function(){return this._originalRgbaValue?this._originalRgbaValue:this._color.toRgba()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"r",{get:function(){return parseInt(this._color.getRed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return parseInt(this._color.getGreen())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return parseInt(this._color.getBlue())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return parseFloat(this._color.getAlpha())},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._color.toRgba()},e}(),Ke={sm:26,md:32,lg:40},qe=0,Ye=function(){function e(){this.id="ux-color-picker-"+qe++,this.buttonStyle="circle",this.showTooltips=!1,this.showInput=!1,this.inputMode="hex",this.colorAriaLabel=this.getColorAriaLabel,this.switchModeAriaLabel=this.getSwitchModeAriaLabel,this.inputAriaLabel=this.getInputAriaLabel,this.selectedChange=new n.EventEmitter,this.inputModeChange=new n.EventEmitter,this.inputSubmit=new n.EventEmitter,this.cssWidth="auto",this.colors=[],this.selected$=new t.BehaviorSubject(null),this.columns$=new t.BehaviorSubject(-1),this.buttonSize$=new t.BehaviorSubject("md"),this.inputPatterns={hex:/^#(?:[\da-fA-F]{3}){1,2}$/,rgba:/^(?:rgb\(\d{1,3},\s*\d{1,3},\s*\d{1,3}\))|(?:rgba\(\d{1,3},\s*\d{1,3},\s*\d{1,3},\s*\d(\.\d+)?\))$/},this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"inputColors",{set:function(e){var t;t=0!==e.length&&Array.isArray(e[0])?e:[e],this.colors=t.map((function(e){return e.map((function(e){return e instanceof Ge?e:new Ge(e,e)}))}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{set:function(e){this.selected$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columns",{set:function(e){this.columns$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buttonSize",{set:function(e){this.buttonSize$.next(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.selected$.pipe(s.pairwise(),s.takeUntil(this._onDestroy)).subscribe((function(t){var n=R(t,2);n[0]&&e.selectedChange.emit(n[1])})),t.combineLatest([this.columns$,this.buttonSize$]).pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){var n=R(t,2),i=n[0];e.cssWidth=i>0?i*(Ke[n[1]]+16)+"px":"auto"}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.updateColorValue=function(e,t){this.inputPatterns[t].test(e)&&this.selected$.next(new Ge("Custom",e,t))},e.prototype.toggleColorEntryType=function(){this.inputMode="hex"===this.inputMode?"rgba":"hex",this.inputModeChange.emit(this.inputMode);var e=this.selected$.value;if(e){var t="hex"===this.inputMode?e.hex:e.rgba;this.updateColorValue(t,this.inputMode),this.inputFormControl.control.setValue(t)}},e.prototype.getColorAriaLabel=function(e){return"Select color "+e.name},e.prototype.getSwitchModeAriaLabel=function(e){return"Switch input mode to "+("hex"===e?"RGBA":"hex")},e.prototype.getInputAriaLabel=function(e){return"Edit "+e+" color value"},e.decorators=[{type:n.Component,args:[{selector:"ux-color-picker",exportAs:"ux-color-picker",template:'<div class="ux-color-picker" uxTabbableList direction="horizontal">\n    <div class="ux-color-picker-swatch">\n        <div *ngFor="let row of colors" class="ux-color-picker-swatch-row">\n\n            <div *ngFor="let color of row"\n                class="ux-color-picker-color"\n                [class.ux-small]="(buttonSize$ | async) === \'sm\'"\n                [class.ux-large]="(buttonSize$ | async) === \'lg\'"\n                [class.ux-circle]="buttonStyle === \'circle\'"\n                [class.ux-selected]="color === (selected$ | async)">\n\n                <button type="button"\n                    uxFocusIndicator\n                    [attr.aria-label]="colorAriaLabel(color)"\n                    aria-selected="color === (selected$ | async)"\n                    class="btn btn-icon"\n                    [uxColorContrast]="color.hex"\n                    [style.background-color]="color.rgba"\n                    (click)="selected$.next(color)"\n                    uxTabbableListItem\n                    [uxTooltip]="color.name"\n                    [tooltipDisabled]="!showTooltips">\n\n                    <ux-icon name="checkmark"></ux-icon>\n                </button>\n\n            </div>\n        </div>\n    </div>\n\n    <div *ngIf="showInput" class="ux-color-picker-input-panel">\n        <div class="ux-color-picker-input-header">\n\n            <div class="ux-color-picker-preview"\n                [style.background-color]="(selected$ | async).rgba"\n                [class.ux-circle]="buttonStyle === \'circle\'">\n            </div>\n\n            <label *ngIf="inputMode === \'hex\'" attr.for="{{ id }}-input-field">HEX</label>\n            <label *ngIf="inputMode === \'rgba\'" attr.for="{{ id }}-input-field">RGBA</label>\n\n            <button type="button"\n                [attr.aria-label]="switchModeAriaLabel(inputMode)"\n                class="btn btn-link btn-icon button-secondary ux-color-picker-input-toggle"\n                (click)="toggleColorEntryType(); $event.stopPropagation()">\n                <ux-icon name="chevron-right"></ux-icon>\n            </button>\n        </div>\n\n        <div class="ux-color-picker-input"\n            [class.has-error]="inputField.errors"\n            [class.has-feedback]="inputField.errors">\n\n            <input type="text"\n                attr.id="{{id}}-input-field"\n                [attr.aria-description]="inputAriaLabel(inputMode)"\n                class="form-control"\n                #inputField="ngModel"\n                [ngModel]="(selected$ | async)[inputMode]"\n                (ngModelChange)="updateColorValue($event, inputMode)"\n                [pattern]="inputPatterns[inputMode].source"\n                (keyup.enter)="inputSubmit.emit()">\n\n                <ux-icon class="form-control-feedback" name="alert"></ux-icon>\n        </div>\n    </div>\n</div>\n'}]}],e.propDecorators={id:[{type:n.Input},{type:n.HostBinding,args:["attr.id"]}],inputColors:[{type:n.Input,args:["colors"]}],selected:[{type:n.Input}],columns:[{type:n.Input}],buttonStyle:[{type:n.Input}],buttonSize:[{type:n.Input}],showTooltips:[{type:n.Input}],showInput:[{type:n.Input}],inputMode:[{type:n.Input}],colorAriaLabel:[{type:n.Input}],switchModeAriaLabel:[{type:n.Input}],inputAriaLabel:[{type:n.Input}],selectedChange:[{type:n.Output}],inputModeChange:[{type:n.Output}],inputSubmit:[{type:n.Output}],cssWidth:[{type:n.HostBinding,args:["style.width"]}],inputFormControl:[{type:n.ViewChild,args:["inputField",{static:!1}]}]},e}(),Xe=0,Ze={provide:h.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return Qe})),multi:!0},Qe=function(){function t(e,t){this._changeDetector=e,this._formGroup=t,this._min=-1/0,this._max=1/0,this._step=1,this._disabled=!1,this._value=0,this._focused=!1,this._propagateChange=function(e){},this._touchedChange=function(){},this.id="ux-number-picker-"+Xe++,this.valid=!0,this.precision=Number.MAX_SAFE_INTEGER.toString().length-1,this.valueChange=new n.EventEmitter,this._valid=!0,this._isDestroyed=!1}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,this._valid=this.isValid())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=a.coerceNumberProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=a.coerceNumberProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"step",{set:function(e){this._step="function"==typeof e?e:a.coerceNumberProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=a.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputId",{get:function(){return this.id+"-input"},enumerable:!1,configurable:!0}),t.prototype.ngOnChanges=function(){this._valid=this.isValid()},t.prototype.ngOnDestroy=function(){this._isDestroyed=!0},t.prototype.getStep=function(e){return"number"==typeof this._step?this._step:this._step(this.value,e)},t.prototype.increment=function(t){t&&t.preventDefault(),this.disabled||(this.value=Math.max(Math.min(this.value+this.getStep(e.StepDirection.Increment),this.max),this.min),this.value=parseFloat(this.value.toPrecision(this.precision)),this._emitValueChange(this.value))},t.prototype.decrement=function(t){t&&t.preventDefault(),this.disabled||(this.value=Math.min(Math.max(this.value-this.getStep(e.StepDirection.Decrement),this.min),this.max),this.value=parseFloat(this.value.toPrecision(this.precision)),this._emitValueChange(this.value))},t.prototype.isValid=function(){return!(this.value<this.min||this.value>this.max)&&this.valid},t.prototype.onScroll=function(e){this._focused&&((e.deltaY||e.wheelDelta)<0?this.increment(e):this.decrement(e))},t.prototype.writeValue=function(e){void 0!==e&&(this._value=e,this._valid=this.isValid(),this._isDestroyed||this._changeDetector.detectChanges())},t.prototype.registerOnChange=function(e){this._propagateChange=e},t.prototype.registerOnTouched=function(e){this._touchedChange=e},t.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetector.markForCheck()},t.prototype._emitValueChange=function(e){e!==this._lastValue&&(this._lastValue=e,this.valueChange.emit(e),this._propagateChange(e))},t.prototype.onFocusIn=function(){this._focused=!0},t.prototype.onFocusOut=function(){this._focused=!1},t.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:h.FormGroupDirective,decorators:[{type:n.Optional}]}]},t.decorators=[{type:n.Component,args:[{selector:"ux-number-picker, ux-number-picker-inline",template:'<input type="number"\n    [id]="inputId"\n    role="spinbutton"\n    class="form-control number-picker-input"\n    [(ngModel)]="value"\n    (ngModelChange)="_emitValueChange($event)"\n    [min]="min"\n    [max]="max"\n    [required]="required"\n    [attr.placeholder]="placeholder"\n    (focus)="_touchedChange()"\n    (keydown.ArrowDown)="decrement($event)"\n    (keydown.ArrowUp)="increment($event)"\n    (wheel)="onScroll($event)"\n    step="any"\n    [disabled]="disabled"\n    [attr.aria-valuemin]="min"\n    [attr.aria-valuenow]="value"\n    [attr.aria-valuemax]="max"\n    [attr.aria-labelledby]="labelledBy">\n\n<div class="number-picker-controls">\n\n    <div class="number-picker-control number-picker-control-up"\n         (click)="increment($event)"\n         (focus)="_touchedChange()"\n         [class.disabled]="disabled || value >= max">\n\n        <ux-icon name="up"></ux-icon>\n    </div>\n\n    <div class="number-picker-control number-picker-control-down"\n         (click)="decrement($event)"\n         (focus)="_touchedChange()"\n         [class.disabled]="disabled || value <= min">\n\n         <ux-icon name="down"></ux-icon>\n    </div>\n\n</div>\n',providers:[Ze],changeDetection:n.ChangeDetectionStrategy.OnPush,host:{"[class.ux-number-picker-invalid]":"!_valid && !disabled && !_formGroup"}}]}],t.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:h.FormGroupDirective,decorators:[{type:n.Optional}]}]},t.propDecorators={id:[{type:n.Input}],valid:[{type:n.Input}],labelledBy:[{type:n.Input,args:["aria-labelledby"]}],precision:[{type:n.Input}],placeholder:[{type:n.Input}],required:[{type:n.Input}],valueChange:[{type:n.Output}],value:[{type:n.Input}],min:[{type:n.Input}],max:[{type:n.Input}],step:[{type:n.Input}],disabled:[{type:n.Input}],onFocusIn:[{type:n.HostListener,args:["focusin"]}],onFocusOut:[{type:n.HostListener,args:["focusout"]}]},t}();(F=e.StepDirection||(e.StepDirection={}))[F.Increment=0]="Increment",F[F.Decrement=1]="Decrement";var Je,et=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,Pe,h.FormsModule],exports:[Qe],declarations:[Qe]}]}],e}(),tt=0,nt=function(){function e(e){this._changeDetectorRef=e,this.id="ux-tooltip-"+ ++tt,this.role="tooltip",this.customClass="",this.reposition$=new t.Subject,this._positionClass=""}return Object.defineProperty(e.prototype,"isTemplateRef",{get:function(){return this.content instanceof n.TemplateRef},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positionClass",{get:function(){return this._positionClass},set:function(e){this._positionClass=e,this._changeDetectorRef.detectChanges()},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this.reposition$.complete()},e.prototype.reposition=function(){this.reposition$.next()},e.prototype.setContent=function(e){this.content=e,this._changeDetectorRef.markForCheck()},e.prototype.setPlacement=function(e){e&&(this.placement=e,this._changeDetectorRef.markForCheck())},e.prototype.setAlignment=function(e){e&&(this.alignment=e,this._changeDetectorRef.markForCheck())},e.prototype.setClass=function(e){e&&(this.customClass=e,this._changeDetectorRef.markForCheck())},e.prototype.setContext=function(e){e&&(this.context=e,this._changeDetectorRef.markForCheck())},e.prototype.setRole=function(e){e&&(this.role=e,this._changeDetectorRef.markForCheck())},e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-tooltip",template:'<div class="tooltip in" [id]="id" [attr.role]="role" [ngClass]="[positionClass, customClass]">\n    <div class="tooltip-arrow"></div>\n    <div class="tooltip-inner" (cdkObserveContent)="reposition()">\n        <ng-container *ngIf="!isTemplateRef">{{ content }}</ng-container>\n        <ng-container *ngIf="isTemplateRef" [ngTemplateOutlet]="content" [ngTemplateOutletContext]="context"></ng-container>\n    </div>\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.propDecorators={content:[{type:n.Input}],context:[{type:n.Input}],placement:[{type:n.Input}],alignment:[{type:n.Input}]},e}(),it=function(){function e(){this.shown$=new t.Subject}return e.decorators=[{type:n.Injectable}],e}(),ot=function(){function e(e,i,o,r,a,s,c){this._elementRef=e,this._viewContainerRef=i,this._overlay=o,this._scrollDispatcher=r,this._changeDetectorRef=a,this._renderer=s,this._tooltipService=c,this.customClass="",this.role="tooltip",this.context={},this.delay=0,this.isOpen=!1,this.placement="top",this.alignment="center",this.showTriggers=["mouseenter","focus"],this.hideTriggers=["mouseleave","blur"],this.shown=new n.EventEmitter,this.hidden=new n.EventEmitter,this.isOpenChange=new n.EventEmitter,this.isVisible=!1,this.positionClass=this.placement,this._overlayClass="ux-tooltip-pane",this._onDestroy=new t.Subject,this._showTimeoutId=null,this._type="tooltip"}return e.prototype.ngOnInit=function(){var e=this;t.fromEvent(this._elementRef.nativeElement,"click").pipe(s.takeUntil(this._onDestroy)).subscribe(this.onClick.bind(this)),t.fromEvent(this._elementRef.nativeElement,"mouseenter").pipe(s.takeUntil(this._onDestroy)).subscribe(this.onMouseEnter.bind(this)),t.fromEvent(this._elementRef.nativeElement,"mouseleave").pipe(s.takeUntil(this._onDestroy)).subscribe(this.onMouseLeave.bind(this)),t.fromEvent(this._elementRef.nativeElement,"focus").pipe(s.takeUntil(this._onDestroy)).subscribe(this.onFocus.bind(this)),t.fromEvent(this._elementRef.nativeElement,"blur").pipe(s.takeUntil(this._onDestroy)).subscribe(this.onBlur.bind(this)),this._tooltipService.shown$.pipe(s.filter((function(){return"tooltip"===e._type})),s.filter((function(t){return t!==e._instance})),s.takeUntil(this._onDestroy)).subscribe(this.hide.bind(this)),this.isOpen&&this.show()},e.prototype.ngOnChanges=function(e){e.isOpen&&!e.isOpen.firstChange&&e.isOpen.currentValue!==this.isVisible&&(e.isOpen.currentValue?this.show():this.hide()),e.placement&&this.destroyOverlay(),this._instance&&e.placement&&this._instance.setPlacement(e.placement.currentValue),this._instance&&e.alignment&&this._instance.setAlignment(e.alignment.currentValue),this._instance&&e.content&&this._instance.setContent(e.content.currentValue),this._instance&&e.customClass&&this._instance.setClass(e.customClass.currentValue),this._instance&&e.context&&this._instance.setContext(e.context.currentValue),this._instance&&e.role&&this._instance.setContext(e.role.currentValue)},e.prototype.ngOnDestroy=function(){this._overlayRef&&(this._overlayRef.dispose(),this._instance=null),this.cancelTooltip(),this._onDestroy.next(),this._onDestroy.complete()},e.prototype.show=function(){var e=this;this.disabled||this.isVisible||this._showTimeoutId||!this.content||(this._showTimeoutId=window.setTimeout((function(){var t=e.createOverlay();e._portal=e.createPortal(),e._instance=e.createInstance(t),e._instance.reposition$.pipe(s.takeUntil(e._onDestroy)).subscribe(e.reposition.bind(e)),e.isVisible=!0,e.reposition(),e.shown.emit(),e.isOpenChange.next(!0),e._showTimeoutId=null,e._tooltipService.shown$.next(e._instance),e._changeDetectorRef.detectChanges()}),this.delay))},e.prototype.hide=function(){if(this._showTimeoutId)return window.clearTimeout(this._showTimeoutId),void(this._showTimeoutId=null);this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this.setAriaDescribedBy(null),this._instance=null,this.isVisible=!1,this.hidden.emit(),this.isOpenChange.next(!1),this._changeDetectorRef.detectChanges()},e.prototype.toggle=function(){this.isVisible?this.hide():this.show()},e.prototype.reposition=function(){this.isVisible&&this._overlayRef&&this._overlayRef.updatePosition()},e.prototype.createInstance=function(e){var t=e.attach(this._portal).instance;return t.setContent(this.content),t.setPlacement(this.placement),t.setAlignment(this.alignment),t.setClass(this.customClass),t.setContext(this.context),t.setRole(this.role),this.setAriaDescribedBy(t.id),t},e.prototype.createPortal=function(){return this._portal||new f.ComponentPortal(nt,this._viewContainerRef)},e.prototype.createOverlay=function(){var e=this;if(this._overlayRef)return this._overlayRef;var t=this.getFallbackPosition(),n=this._overlay.position().connectedTo(this._elementRef,this.getOrigin(),this.getOverlayPosition()).withFallbackPosition({originX:t.originX,originY:t.originY},{overlayX:t.overlayX,overlayY:t.overlayY});n.onPositionChange.subscribe((function(n){var i=n.connectionPair;i.originX===t.originX&&i.originY===t.originY&&i.overlayX===t.overlayX&&i.overlayY===t.overlayY?(e._instance.positionClass=e.getFallbackPlacement(),e._changeDetectorRef.detectChanges()):e._instance.positionClass=e.placement}));var i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef);return n.withScrollableContainers(i),this._overlayRef=this._overlay.create({positionStrategy:n,panelClass:this._overlayClass,scrollStrategy:this._overlay.scrollStrategies.reposition({scrollThrottle:0}),hasBackdrop:!1}),this._overlayRef},e.prototype.getFallbackPosition=function(){if(this.fallbackPlacement)return this.getConnectedPosition(this.fallbackPlacement);switch(this.placement){case"left":return this.getConnectedPosition("right");case"right":return this.getConnectedPosition("left");case"top":return this.getConnectedPosition("bottom");case"bottom":default:return this.getConnectedPosition("top")}},e.prototype.getFallbackPlacement=function(){if(this.fallbackPlacement)return this.fallbackPlacement;switch(this.placement){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top"}},e.prototype.getConnectedPosition=function(e){switch(e){case"left":return{originX:"start",originY:"center",overlayX:"end",overlayY:"center"};case"right":return{originX:"end",originY:"center",overlayX:"start",overlayY:"center"};case"top":return{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom"};case"bottom":return{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top"}}},e.prototype.destroyOverlay=function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this.isVisible=!1},e.prototype.getOrigin=function(){return this.placement=this.placement||"top","top"===this.placement||"bottom"===this.placement?{originX:this.alignment,originY:this.placement}:"left"===this.placement?{originX:"start",originY:this.getVerticalAlignment()}:"right"===this.placement?{originX:"end",originY:this.getVerticalAlignment()}:void 0},e.prototype.getOverlayPosition=function(){return this.placement=this.placement||"top","top"===this.placement?{overlayX:this.alignment,overlayY:"bottom"}:"bottom"===this.placement?{overlayX:this.alignment,overlayY:"top"}:"left"===this.placement?{overlayX:"end",overlayY:this.getVerticalAlignment()}:"right"===this.placement?{overlayX:"start",overlayY:this.getVerticalAlignment()}:void 0},e.prototype.getVerticalAlignment=function(){switch(this.alignment){case"start":return"top";case"end":return"bottom";default:return this.alignment}},e.prototype.includes=function(e,t){return Array.isArray(e)&&!!e.find((function(e){return e===t}))},e.prototype.onClick=function(e){return!this.isVisible&&this.includes(this.showTriggers,"click")&&null===this._showTimeoutId?this.show():this.isVisible&&this.includes(this.hideTriggers,"click")&&null===this._showTimeoutId?this.hide():!this.isVisible&&this.includes(this.hideTriggers,"click")&&null!==this._showTimeoutId?this.cancelTooltip():void 0},e.prototype.onMouseEnter=function(e){!this.isVisible&&this.includes(this.showTriggers,"mouseenter")&&this.show()},e.prototype.onMouseLeave=function(e){if(!this.isVisible&&this.includes(this.hideTriggers,"mouseleave")&&null!==this._showTimeoutId)return this.cancelTooltip();this.isVisible&&this.includes(this.hideTriggers,"mouseleave")&&this.hide()},e.prototype.onFocus=function(e){!this.isVisible&&this.includes(this.showTriggers,"focus")&&this.show()},e.prototype.onBlur=function(e){if(!this.isVisible&&this.includes(this.hideTriggers,"blur")&&null!==this._showTimeoutId)return this.cancelTooltip();this.isVisible&&this.includes(this.hideTriggers,"blur")&&this.hide()},e.prototype.setAriaDescribedBy=function(e){null===e?this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"):this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",e)},e.prototype.cancelTooltip=function(){null!==this._showTimeoutId&&(window.clearTimeout(this._showTimeoutId),this._showTimeoutId=null)},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ViewContainerRef},{type:g.Overlay},{type:g.ScrollDispatcher},{type:n.ChangeDetectorRef},{type:n.Renderer2},{type:it}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxTooltip]",exportAs:"ux-tooltip",host:{"[class.ux-tooltip-host]":"true"}}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ViewContainerRef},{type:g.Overlay},{type:g.ScrollDispatcher},{type:n.ChangeDetectorRef},{type:n.Renderer2},{type:it}]},e.propDecorators={content:[{type:n.Input,args:["uxTooltip"]}],disabled:[{type:n.Input,args:["tooltipDisabled"]}],customClass:[{type:n.Input,args:["tooltipClass"]}],role:[{type:n.Input,args:["tooltipRole"]}],context:[{type:n.Input,args:["tooltipContext"]}],delay:[{type:n.Input,args:["tooltipDelay"]}],isOpen:[{type:n.Input}],placement:[{type:n.Input}],fallbackPlacement:[{type:n.Input}],alignment:[{type:n.Input}],showTriggers:[{type:n.Input}],hideTriggers:[{type:n.Input}],shown:[{type:n.Output}],hidden:[{type:n.Output}],isOpenChange:[{type:n.Output}]},e}(),rt=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,g.OverlayModule,d.ObserversModule],exports:[ot,nt],declarations:[nt,ot],providers:[it],entryComponents:[nt]}]}],e}(),at=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,h.FormsModule,et,rt,Pe],exports:[Ye],declarations:[Ye]}]}],e}(),st=function(){function i(){this.events=new t.Subject,this.order=[]}return i.prototype.ngOnDestroy=function(){this.events.complete()},i.prototype.toggleColumn=function(e){return this.order=this.singleSort?this.toggleSingleColumn(e):this.toggleMultipleColumn(e),this.events.next(this.order),this.order},i.prototype.setColumnState=function(t,n){this.order.find((function(e){return e.key===t&&e.state===n}))||(this.order=this.singleSort&&n!==e.ColumnSortingState.NoSort?[]:this.order.filter((function(e){return e.key!==t})),n!==e.ColumnSortingState.Ascending&&n!==e.ColumnSortingState.Descending||(this.order=A(this.order,[{key:t,state:n}])))},i.prototype.toggleSingleColumn=function(t){return t.state===e.ColumnSortingState.NoSort?[]:[{key:t.key,state:t.state}]},i.prototype.toggleMultipleColumn=function(t){return-1===this.order.findIndex((function(e){return e.key===t.key}))&&t.state!==e.ColumnSortingState.NoSort?A(this.order,[{key:t.key,state:t.state}]):t.state===e.ColumnSortingState.Ascending||t.state===e.ColumnSortingState.Descending?A(this.order.filter((function(e){return e.key!==t.key})),[{key:t.key,state:t.state}]):this.order.filter((function(e){return e.key!==t.key}))},i.decorators=[{type:n.Directive,args:[{selector:"[uxColumnSorting]"}]}],i.propDecorators={singleSort:[{type:n.Input}],sortIndicator:[{type:n.Input}]},i}();(Je=e.ColumnSortingState||(e.ColumnSortingState={})).Ascending="ascending",Je.Descending="descending",Je.NoSort="none";var ct,lt=function(){function i(i,o){this._sorter=i,this._changeDetector=o,this.state=e.ColumnSortingState.NoSort,this.allowNoSort=!0,this.ascendingIcon="ascend",this.descendingIcon="descend",this.stateChange=new n.EventEmitter,this.orderChange=new n.EventEmitter,this.ColumnSortingState=e.ColumnSortingState,this._onDestroy$=new t.Subject}return Object.defineProperty(i.prototype,"_sortIndicator",{get:function(){return this._sorter.sortIndicator},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){var e=this;this._sorter.events.pipe(s.takeUntil(this._onDestroy$)).subscribe((function(t){return e.updateState(t)}))},i.prototype.ngOnChanges=function(e){e.state&&e.state.currentValue!==e.state.previousValue&&this._sorter.setColumnState(this.key,this.state)},i.prototype.ngOnDestroy=function(){this._onDestroy$.next(),this._onDestroy$.complete()},i.prototype.changeState=function(){switch(this.state){case e.ColumnSortingState.Ascending:this.state=e.ColumnSortingState.Descending;break;case e.ColumnSortingState.Descending:this.state=this.allowNoSort?e.ColumnSortingState.NoSort:e.ColumnSortingState.Ascending;break;default:this.state=e.ColumnSortingState.Ascending}return this._changeDetector.markForCheck(),this._sorter.toggleColumn({key:this.key,state:this.state})},i.prototype.updateState=function(t){var n=this,i=t.findIndex((function(e){return e.key===n.key}));-1===i&&(this.state=e.ColumnSortingState.NoSort),this.order=t.length<2||-1===i?null:i+1,"number"==typeof this.order&&this.orderChange.emit(this.order),this._changeDetector.markForCheck(),this.stateChange.emit(this.state)},i.ctorParameters=function(){return[{type:st},{type:n.ChangeDetectorRef}]},i.decorators=[{type:n.Component,args:[{selector:"ux-column-sorting",template:'<div class="ux-column-sorting"\n     [class.ux-column-sorting-hidden]="state === ColumnSortingState.NoSort">\n\n    \x3c!-- The default sort indicator --\x3e\n    <ng-container *ngIf="!_sortIndicator">\n\n        <ux-icon\n            class="ux-column-sorting-icon"\n            [class.column-sorting-icon-hidden]="state === ColumnSortingState.NoSort"\n            [name]="state === ColumnSortingState.Descending ? descendingIcon : ascendingIcon">\n        </ux-icon>\n\n        <p class="ux-column-sorting-number" aria-hidden="true">{{ order }}</p>\n    </ng-container>\n\n    \x3c!-- Custom sort indicator --\x3e\n    <ng-container\n        *ngIf="_sortIndicator"\n        [ngTemplateOutlet]="_sortIndicator"\n        [ngTemplateOutletContext]="{ state: state, order: order }">\n    </ng-container>\n\n</div>\n',exportAs:"ux-column-sorting",changeDetection:n.ChangeDetectionStrategy.OnPush}]}],i.ctorParameters=function(){return[{type:st},{type:n.ChangeDetectorRef}]},i.propDecorators={state:[{type:n.Input}],key:[{type:n.Input}],order:[{type:n.Input}],allowNoSort:[{type:n.Input}],ascendingIcon:[{type:n.Input}],descendingIcon:[{type:n.Input}],stateChange:[{type:n.Output}],orderChange:[{type:n.Output}]},i}(),ut=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,Pe],exports:[lt,st],declarations:[lt,st]}]}],e}(),pt=function(){function e(e,n,i){this.conduit=e,this._zone=n,this.zoneId=i,this._onDestroy=new t.Subject,this._subject=e.subject,this.getInitialValue(),this._subject.pipe(s.distinctUntilChanged(e.changeDetection),s.takeUntil(this._onDestroy)).subscribe(this.onOutput.bind(this)),n.getEvents().pipe(s.filter((function(t){return t.conduit.id===e.id})),s.takeUntil(this._onDestroy)).subscribe(this.onInput.bind(this))}return e.prototype.getInitialValue=function(){var e=this;if(!1!==this.conduit.acceptsInput){var t=this._zone.getSubjects().filter((function(t){return!(t===e||t.conduit.id!==e.conduit.id||!t.conduit.hasOwnProperty("currentValue"))&&(!0===e.conduit.acceptsInput||(Array.isArray(e.conduit.acceptsInput)?-1!==e.conduit.acceptsInput.indexOf(t.zoneId):void 0))}));0!==t.length&&(t.sort((function(e,t){return e.conduit.lastModified.getTime()<t.conduit.lastModified.getTime()?1:-1})),this._subject.next(t[0].conduit.currentValue))}},e.prototype.onInput=function(e){if(!1!==this.conduit.acceptsInput&&e.conduit!==this.conduit&&(!1!==e.conduit.producesOutput||e.zoneId===this.zoneId)&&(!Array.isArray(this.conduit.acceptsInput)||this.conduit.acceptsInput.find((function(t){return t===e.zoneId})))){var t=this.conduit.map?this.conduit.map(e.value):e.value;this._subject.next(t)}},e.prototype.onOutput=function(e){this.conduit.currentValue=e,this.conduit.lastModified=new Date,this.conduit.producesOutput&&this._zone.emit({conduit:this.conduit,zoneId:this.zoneId,value:e})},e.prototype.destroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e}(),ht=function(){function e(){}return e.prototype.ngOnDestroy=function(){var t=this;e.subjects.filter((function(e){return e.zoneId===t._zoneId})).forEach((function(e){return t.unregisterConduit(e.conduit)}))},e.prototype.registerConduit=function(t){e.subjects.push(new pt(t,this,this._zoneId))},e.prototype.unregisterConduit=function(t){var n=this.getConduitSubject(t.subject);n&&(e.subjects=e.subjects.filter((function(e){return e!==n})),n.destroy())},e.prototype.setZoneId=function(e){this._zoneId=e},e.prototype.emit=function(t){e.events.next(t)},e.prototype.getConduitSubject=function(t){return e.subjects.find((function(e){return e.conduit.subject===t}))},e.prototype.getSubjects=function(){return e.subjects},e.prototype.setConduitProperties=function(e,t){var n=this.getSubjects().find((function(t){return t.conduit.subject===e}));if(n)for(var i in t)n.conduit[i]=t[i]},e.prototype.createConduit=function(e,t){this.registerConduit(O(O({},t),{subject:e}))},e.prototype.registerConduits=function(e){var t=this;Array.isArray(e._conduits)&&e._conduits.forEach((function(n){return t.registerConduit(O(O({},n),{subject:e[n.propertyKey]}))}))},e.prototype.unregisterConduits=function(e){var t=this;Array.isArray(e._conduits)&&e._conduits.forEach((function(e){return t.unregisterConduit(e)}))},e.prototype.getEvents=function(){return e.events},e.subjects=[],e.events=new t.Subject,e.decorators=[{type:n.Injectable}],e}(),dt=function(){function e(e){this._zone=e}return e.prototype.ngOnInit=function(){this._zone.registerConduits(this)},e.prototype.ngOnDestroy=function(){this._zone.unregisterConduits(this)},e.prototype.setConduitProperties=function(e,t){this._zone.setConduitProperties(e,t)},e.prototype.createConduit=function(e,t){this._zone.createConduit(e,t)},e.ctorParameters=function(){return[{type:ht,decorators:[{type:n.Optional}]}]},e.decorators=[{type:n.Directive,args:[{selector:"ux-conduit"}]}],e.ctorParameters=function(){return[{type:ht,decorators:[{type:n.Optional}]}]},e}(),gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.ngOnInit=function(){this._zone.setZoneId(this.zoneId),e.prototype.ngOnInit.call(this)},t.decorators=[{type:n.Directive,args:[{selector:"ux-conduit-zone"}]}],t}(dt),ft={acceptsInput:!0,producesOutput:!0},yt=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[dt,gt]}]}],e}(),mt=function(){function e(){this.onDragStart=new t.Subject,this.onDrag=new t.Subject,this.onDragEnd=new t.Subject,this.onDropEnter=new t.Subject,this.onDropLeave=new t.Subject,this.onDrop=new t.Subject}return e.prototype.ngOnDestroy=function(){this.onDragStart.complete(),this.onDrag.complete(),this.onDragEnd.complete(),this.onDrop.complete(),this.onDropEnter.complete(),this.onDropLeave.complete()},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e}(),vt=function(){function e(e,i,o,r,a){var c=this;this._elementRef=e,this._ngZone=i,this._renderer=o,this._scrollDispatcher=r,this._drag=a,this.clone=!1,this.draggable=!0,this.onDragStart=new n.EventEmitter,this.onDrag=new n.EventEmitter,this.onDragScroll=new n.EventEmitter,this.onDragEnd=new n.EventEmitter,this.onDrop=new n.EventEmitter,this.onDropEnter=new n.EventEmitter,this.onDropLeave=new n.EventEmitter,this._isDragging=!1,this._scrollOffset={x:0,y:0},this._mousedown$=t.fromEvent(this._elementRef.nativeElement,"mousedown"),this._mousemove$=t.fromEvent(document,"mousemove"),this._mouseup$=t.fromEvent(document,"mouseup"),this._onDestroy=new t.Subject,this._mousedown$.pipe(s.filter((function(){return c.draggable})),s.takeUntil(this._onDestroy)).subscribe(this.dragStart.bind(this)),a.onDragStart.pipe(s.filter((function(){return c._isDragging})),s.takeUntil(this._onDestroy)).subscribe((function(e){return c.onDragStart.emit(e.event)})),a.onDrag.pipe(s.filter((function(){return c._isDragging})),s.takeUntil(this._onDestroy)).subscribe((function(e){return c.onDrag.emit(e.event)})),a.onDragEnd.pipe(s.filter((function(e){return c._isDragging||c.model&&c.model===e.data})),s.takeUntil(this._onDestroy)).subscribe((function(){return c.onDragEnd.emit()})),a.onDrop.pipe(s.filter((function(){return c._isDragging})),s.takeUntil(this._onDestroy)).subscribe((function(e){return c.onDrop.emit(e)})),a.onDropEnter.pipe(s.filter((function(){return c._isDragging})),s.takeUntil(this._onDestroy)).subscribe((function(){return c.onDropEnter.emit()})),a.onDropLeave.pipe(s.filter((function(){return c._isDragging})),s.takeUntil(this._onDestroy)).subscribe((function(){return c.onDropLeave.emit()}))}return e.prototype.dragStart=function(e){var t=this;e.preventDefault(),this.createScrollEventListener(),this.clone&&this.cloneNode(e),this._renderer.addClass(this._elementRef.nativeElement,"ux-drag-dragging"),this._isDragging=!0,this._ngZone.run((function(){return t._drag.onDragStart.next({event:e,group:t.group,data:t.model})})),this._mousemove$.pipe(s.takeUntil(this._mouseup$),s.takeUntil(this._onDestroy)).subscribe(this.dragMove.bind(this)),this._mouseup$.pipe(s.first()).subscribe(this.dragEnd.bind(this))},e.prototype.dragMove=function(e){var t=this;e.preventDefault(),this.updateScrolling(e),this._clone&&this.updateNodePosition(e),this._ngZone.run((function(){return t._drag.onDrag.next({event:e,group:t.group,data:t.model})}))},e.prototype.dragEnd=function(){var e=this;this.stopScrolling(),this.removeScrollEventListener(),this._clone&&(this._renderer.removeChild(document.body,this._clone),this._clone=null),this._renderer.removeClass(this._elementRef.nativeElement,"ux-drag-dragging"),this._ngZone.run((function(){return e._drag.onDragEnd.next({group:e.group,data:e.model})})),this._isDragging=!1},e.prototype.scroll=function(){this.onDragScroll.emit({offsetX:this._scrollParent.scrollLeft-this._scrollPosition.left,offsetY:this._scrollParent.scrollTop-this._scrollPosition.top}),this._scrollPosition={top:this._scrollParent.scrollTop,left:this._scrollParent.scrollLeft}},e.prototype.cloneNode=function(e){this._clone=this._elementRef.nativeElement.cloneNode(!0);var t=this._elementRef.nativeElement.getBoundingClientRect(),n=t.width;this._offset={x:e.clientX-t.left,y:e.clientY-t.top},this.inlineStyles(this._elementRef.nativeElement,this._clone),this._renderer.setStyle(this._clone,"width",n+"px"),this._renderer.setAttribute(this._clone,"aria-hidden","true"),this._renderer.setStyle(this._clone,"position","absolute"),this._renderer.setStyle(this._clone,"z-index","99999"),this._renderer.addClass(this._clone,"ux-drag-dragging-clone"),this._renderer.appendChild(document.body,this._clone),this.updateNodePosition(e)},e.prototype.updateNodePosition=function(e){this._renderer.setStyle(this._clone,"left",e.pageX-this._offset.x+"px"),this._renderer.setStyle(this._clone,"top",e.pageY-this._offset.y+"px")},e.prototype.inlineStyles=function(e,t){for(var n=getComputedStyle(e),i=0;i<n.length;i++){var o=n.item(i);void 0!==o&&this._renderer.setStyle(t,n[i],n[o])}for(this._renderer.setStyle(t,"pointer-events","none"),i=0;i<e.children.length;i++)this.inlineStyles(e.children[i],t.children[i])},e.prototype.ngOnDestroy=function(){this.stopScrolling(),this.removeScrollEventListener(),this._onDestroy.next(),this._onDestroy.complete()},e.prototype.updateScrolling=function(e){this._scrollOffset=this.getScrollOffsets(this._scrollParent,e),0===this._scrollOffset.x&&0===this._scrollOffset.y?this.stopScrolling():this.startScrolling(this._scrollParent)},e.prototype.getScrollParent=function(){var e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef);return e.length>0?e[e.length-1].getElementRef().nativeElement:document.documentElement},e.prototype.createScrollEventListener=function(){this._scrollParent=this.getScrollParent(),this._scrollPosition={top:this._scrollParent.scrollTop,left:this._scrollParent.scrollLeft};var e=this._scrollParent===document.documentElement?"document":this._scrollParent;this._scrollListener=this._renderer.listen(e,"scroll",this.scroll.bind(this))},e.prototype.removeScrollEventListener=function(){this._scrollListener&&(this._scrollListener(),this._scrollListener=null)},e.prototype.getScrollOffsets=function(e,t){var n=0,i=0,o=e===document.documentElement,r=e.getBoundingClientRect(),a=o?t.clientX:t.clientX-r.x,s=o?t.clientY:t.clientY-r.y;return a<=0&&e.scrollLeft>0?n=Math.min(a,-5):a>=e.clientWidth&&e.scrollLeft+e.clientWidth<e.scrollWidth&&(n=Math.max(a-e.clientWidth,5)),s<=0&&e.scrollTop>0?i=Math.min(s,-5):s>=e.clientHeight&&e.scrollTop+e.clientHeight<e.scrollHeight&&(i=Math.max(s-e.clientHeight,5)),{x:n,y:i}},e.prototype.startScrolling=function(e){var t=this;this._scrollIntervalHandle||(this._scrollIntervalHandle=window.setInterval((function(){return t.performScroll(e)}),100))},e.prototype.stopScrolling=function(){this._scrollIntervalHandle&&(clearInterval(this._scrollIntervalHandle),this._scrollIntervalHandle=0)},e.prototype.performScroll=function(e){e.scrollLeft+=this._scrollOffset.x,e.scrollTop+=this._scrollOffset.y},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.NgZone},{type:n.Renderer2},{type:y.ScrollDispatcher},{type:mt}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxDrag]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.NgZone},{type:n.Renderer2},{type:y.ScrollDispatcher},{type:mt}]},e.propDecorators={clone:[{type:n.Input}],group:[{type:n.Input}],model:[{type:n.Input}],draggable:[{type:n.Input}],onDragStart:[{type:n.Output}],onDrag:[{type:n.Output}],onDragScroll:[{type:n.Output}],onDragEnd:[{type:n.Output}],onDrop:[{type:n.Output}],onDropEnter:[{type:n.Output}],onDropLeave:[{type:n.Output}]},e}(),bt=function(){function e(e){var i=this;this._dragService=e,this.dropDisabled=!1,this.onDrop=new n.EventEmitter,this.isMouseOver=!1,this.isDragging=!1,this._onDestroy=new t.Subject,e.onDragStart.pipe(s.tap((function(e){return i._group=e.group})),s.filter((function(e){return i.isDropAllowed(e.group)})),s.takeUntil(this._onDestroy)).subscribe(this.onDragStart.bind(this)),e.onDragEnd.pipe(s.filter((function(e){return i.isDropAllowed(e.group)})),s.takeUntil(this._onDestroy)).subscribe(this.onDragEnd.bind(this))}return e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.onMouseOver=function(){this.isDropAllowed(this._group)&&(this.isMouseOver=!0,this._dragService.onDropEnter.next())},e.prototype.onMouseLeave=function(){this.isMouseOver=!1,this.isDropAllowed(this._group)&&this._dragService.onDropLeave.next()},e.prototype.onDragStart=function(){this.isDragging=!0},e.prototype.onDragEnd=function(e){this.isDragging=!1,this._group=null,this.isMouseOver&&this.isDropAllowed(e.group)&&(this.onDrop.emit(e.data),this._dragService.onDrop.next(e.data))},e.prototype.isDropAllowed=function(e){return!(this.dropDisabled||this.group&&(Array.isArray(this.group)?!this.group.find((function(t){return t===e})):this.group!==e))},e.ctorParameters=function(){return[{type:mt}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxDrop]",host:{"[class.ux-drop-hover]":"isMouseOver && isDragging && !dropDisabled"}}]}],e.ctorParameters=function(){return[{type:mt}]},e.propDecorators={group:[{type:n.Input}],dropDisabled:[{type:n.Input}],onDrop:[{type:n.Output}],onMouseOver:[{type:n.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:n.HostListener,args:["mouseleave"]}]},e}(),_t=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[vt,bt],declarations:[vt,bt]}]}],e}();!function(e){e[e.Regular=0]="Regular",e[e.Stacked=1]="Stacked",e[e.Auto=2]="Auto"}(ct||(ct={}));var xt,wt,St=function(){function i(){var e=this;this._rowHeight=0,this.initialized$=new t.BehaviorSubject(!1),this.widgets$=new t.BehaviorSubject([]),this.options$=new t.BehaviorSubject(Ct),this.dimensions$=new t.BehaviorSubject({}),this.height$=this.dimensions$.pipe(L(),s.map((function(e){return e.height})),s.distinctUntilChanged()),this.placeholder$=new t.BehaviorSubject({visible:!1,x:0,y:0,width:0,height:0}),this.layout$=new t.BehaviorSubject([]),this.stacked$=new t.BehaviorSubject(!1),this.isDragging$=new t.BehaviorSubject(null),this.isGrabbing$=new t.BehaviorSubject(null),this.userLayoutChange$=new t.Subject,this._onDestroy=new t.Subject,t.combineLatest(this.layout$,this.widgets$,this.initialized$).pipe(L(),s.filter((function(e){var t=R(e,3);return t[0]&&t[1].length>0&&t[2]})),s.takeUntil(this._onDestroy)).subscribe((function(t){var n=R(t,1);e.setLayoutData(n[0]),e.renderDashboard()})),this.stacked$.pipe(s.distinctUntilChanged(),s.filter((function(e){return!0===e})),s.takeUntil(this._onDestroy)).subscribe(this.updateWhenStacked.bind(this)),this.widgets$.pipe(L(),s.takeUntil(this._onDestroy)).subscribe((function(){return e.renderDashboard()})),this.dimensions$.pipe(L(),s.takeUntil(this._onDestroy)).subscribe((function(){return e.renderDashboard()}))}return Object.defineProperty(i.prototype,"options",{get:function(){return this.options$.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"widgets",{get:function(){return this.widgets$.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stacked",{get:function(){return this.stacked$.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dimensions",{get:function(){return this.dimensions$.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columnWidth",{get:function(){return this.dimensions.width/this.options.columns},enumerable:!1,configurable:!0}),i.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},i.prototype.addWidget=function(e){this.widgets$.next(A(this.widgets$.getValue(),[e]))},i.prototype.removeWidget=function(e){this.widgets$.next(this.widgets$.getValue().filter((function(t){return t!==e})))},i.prototype.setDimensions=function(e,t){void 0===e&&(e=this.dimensions.width),void 0===t&&(t=this.dimensions.height),this.dimensions.width===e&&this.dimensions.height===t||this.dimensions$.next({width:e,height:t})},i.prototype.getLayoutData=function(){return this.widgets.map((function(e){return{id:e.id,col:e.getColumn(),row:e.getRow(),colSpan:e.getColumnSpan(),rowSpan:e.getRowSpan(),minColSpan:e.minColSpan,minRowSpan:e.minRowSpan}}))},i.prototype.setLayoutData=function(e){var t=this;e.forEach((function(e){var n,i,o=t.widgets.find((function(t){return t.id===e.id}));o&&(o.setColumn(e.col),o.setRow(e.row),o.setColumnSpan(e.colSpan),o.setRowSpan(e.rowSpan),o.minColSpan=null!==(n=e.minColSpan)&&void 0!==n?n:1,o.minRowSpan=null!==(i=e.minRowSpan)&&void 0!==i?i:1)}))},i.prototype.renderDashboard=function(){var e=this;this._rowHeight=this.options.rowHeight||this.columnWidth,this.stacked$.next(this.columnWidth<this.options.minWidth),this.setDashboardLayout(),this.widgets.filter((function(t){return!e._actionWidget||t!==e._actionWidget.widget})).forEach((function(e){return e.render()}))},i.prototype.setDashboardLayout=function(){var e=this;this.widgets.filter((function(e){return void 0===e.getColumn()||void 0===e.getRow()})).forEach((function(t){return e.setWidgetPosition(t)})),this.setDashboardHeight()},i.prototype.updateWhenStacked=function(){this.getWidgetsByOrder().forEach((function(e,t,n){var i=n.slice(0,t).reduce((function(e,t){return e+t.getRowSpan()}),0);e.setColumn(0),e.setRow(i)}))},i.prototype.getWidgetsByOrder=function(){var e=this;return A(this.widgets).sort((function(t,n){var i=t.getColumn(ct.Regular)+t.getRow(ct.Regular)*e.options.columns,o=n.getColumn(ct.Regular)+n.getRow(ct.Regular)*e.options.columns;return i<o?-1:i>o?1:0}))},i.prototype.setWidgetPosition=function(e){for(var t=0,n=!1;!n;){var i=t%this.options.columns,o=Math.floor(t/this.options.columns);if(this.getPositionAvailable(i,o,e.getColumnSpan(),e.getRowSpan()))return n=!0,e.setColumn(i),void e.setRow(o);if(0===i&&e.colSpan>this.options.columns)throw new Error("Dashboard widgets have a colSpan greater than the max number of dashboard columns!");t++}},i.prototype.getPositionAvailable=function(e,t,n,i,o){var r=this.getOccupiedSpaces();if(e+n>this.options.columns)return!1;for(var a=function(e){for(var n=function(t){if(r.find((function(n){return n.column===e&&n.row===t&&n.widget!==o})))return{value:!1}},a=t;a<t+i;a++){var s=n(a);if("object"==typeof s)return s}},s=e;s<e+n;s++){var c=a(s);if("object"==typeof c)return c.value}return!0},i.prototype.getOccupiedSpaces=function(){var e=this;return this.widgets.filter((function(e){return void 0!==e.getColumn()&&void 0!==e.getRow()})).reduce((function(t,n){return e.forEachBlock(n,(function(e,i){return t.push({widget:n,column:e,row:i})})),t}),[])},i.prototype.onResizeStart=function(e){this.cacheWidgets(),this._event=e.event,this._actionWidget=e,this.bringToFront(e.widget)},i.prototype.onResizeDrag=function(t){var n=this._event.pageX-pageXOffset,i=this._event.pageY-pageYOffset;if(t.event.x!==n||t.event.y!==i){this._event=t.event;var o=t.handle.getBoundingClientRect(),r=n-(o.left+o.width/2),a=i-(o.top+o.height/2),s={x:t.widget.x,y:t.widget.y,width:t.widget.width,height:t.widget.height};switch(t.direction){case e.ActionDirection.Right:s.width+=r;break;case e.ActionDirection.Left:s.x+=r,s.width-=r,s.width<this.options.minWidth&&(s.x-=c=this.options.minWidth-s.width,s.width+=c);break;case e.ActionDirection.Bottom:s.height+=a;break;case e.ActionDirection.Top:s.y+=a,s.height-=a,s.height<this.options.minHeight&&(s.y-=c=this.options.minHeight-s.height,s.height+=c);break;case e.ActionDirection.TopLeft:s.x+=r,s.width-=r,s.width<this.options.minWidth&&(s.x-=c=this.options.minWidth-s.width,s.width+=c),s.y+=a,s.height-=a,s.height<this.options.minHeight&&(s.y-=c=this.options.minHeight-s.height,s.height+=c);break;case e.ActionDirection.TopRight:s.width+=r,s.y+=a,s.height-=a,s.height<this.options.minHeight&&(s.y-=c=this.options.minHeight-s.height,s.height+=c);break;case e.ActionDirection.BottomLeft:var c;s.height+=a,s.x+=r,s.width-=r,s.width<this.options.minWidth&&(s.x-=c=this.options.minWidth-s.width,s.width+=c);break;case e.ActionDirection.BottomRight:s.height+=a,s.width+=r}var l=t.widget.x+t.widget.width,u=t.widget.y+t.widget.height;s.x<0&&(s.x=0,s.width=l),s.y<0&&(s.y=0,s.height=u),s.x+s.width>this.dimensions.width&&(s.width=this.dimensions.width-s.x),s.width<this.options.minWidth&&(s.x=t.widget.x,s.width=this.options.minWidth),s.height<this.options.minHeight&&(s.y=t.widget.y,s.height=this.options.minHeight);var p=this.getColumnWidth()*t.widget.minColSpan-this.getColumnWidth()/2+1;s.width<p&&(s.x=t.widget.x,s.width=p);var h=this.options.rowHeight*t.widget.minRowSpan-this.options.rowHeight/2+1;s.height<h&&(s.y=t.widget.y,s.height=h),t.widget.setBounds(s.x,s.y,s.width,s.height),this.setPlaceholderBounds(!0,s.x,s.y,s.width,s.height),this.updateWidgetPositions(t.widget)}},i.prototype.onResizeEnd=function(){var e=this.placeholder$.getValue();this.commitWidgetChanges(),e.visible=!1,this.placeholder$.next(e),this._actionWidget=null,this._event=null,this.shiftWidgetsUp(),this.setDashboardHeight(),this.layout$.next(this.getLayoutData()),this.userLayoutChange$.next(this.getLayoutData())},i.prototype.onDragStart=function(e){this.onResizeStart(e),this.setWidgetOrigin(),this.cacheWidgets(),this.isDragging$.next(e.widget)},i.prototype.onDragEnd=function(){this.onResizeEnd(),this._widgetOrigin={},this.isDragging$.next(null),this.userLayoutChange$.next(this.getLayoutData())},i.prototype.onDrag=function(e){if(e.event.clientX!==this._event.clientX||e.event.clientY!==this._event.clientY){var t=e.event.clientX-this._event.clientX,n=e.event.clientY-this._event.clientY;this._event=e.event,this.moveWidget(e.widget,t,n)}},i.prototype.onDragScroll=function(e,t){this.moveWidget(e,t.offsetX,t.offsetY)},i.prototype.getRowHeight=function(){return this._rowHeight},i.prototype.cacheWidgets=function(){return this._cache=this.widgets.map((function(e){return{id:e.id,column:e.getColumn(),row:e.getRow(),columnSpan:e.getColumnSpan(),rowSpan:e.getRowSpan()}})),A(this._cache)},i.prototype.restoreWidgets=function(e,t,n){var i=this;void 0===e&&(e=!1),void 0===t&&(t=this._cache),void 0===n&&(n=!1),t.filter((function(t){return!e||t.id!==i._actionWidget.widget.id})).forEach((function(e){var t=i.widgets.find((function(t){return t.id===e.id}));t&&(t.setColumn(e.column),t.setRow(e.row),n&&(t.setColumnSpan(e.columnSpan),t.setRowSpan(e.rowSpan)))}))},i.prototype.shiftWidgets=function(){for(var t=this,n=[],i=this.placeholder$.getValue(),o=function(e){for(var o=function(i){r.getOccupiedSpaces().filter((function(n){return n.column===i&&n.row===e&&n.widget!==t._actionWidget.widget})).forEach((function(e){return n.push(e.widget)}))},a=i.column;a<i.column+i.columnSpan;a++)o(a)},r=this,a=i.row;a<i.row+i.rowSpan;a++)o(a);if(0!==(n=n.filter((function(e,t,n){return n.indexOf(e)===t}))).length){var s=n.slice();n.forEach((function(n){for(var i=t.getOccupiedSpaces().filter((function(e){return!s.find((function(t){return t===e.widget}))})),o=t._widgetOrigin.row;o<t._widgetOrigin.row+t._widgetOrigin.rowSpan;o++)for(var r=t._widgetOrigin.column;r<t._widgetOrigin.column+t._widgetOrigin.columnSpan;r++)if(t.getRequiredSpacesFromPoint(n,r,o).every((function(e){return!i.find((function(t){return t.column===e.column&&t.row===e.row}))&&e.column<t.getColumnCount()})))return n.setColumn(r),n.setRow(o),void s.splice(s.findIndex((function(e){return e===n})),1);if(t.canWidgetMoveRight(n,!0))t.validatePlaceholderPosition(e.ActionDirection.Right);else if(t.canWidgetMoveLeft(n,!0))t.validatePlaceholderPosition(e.ActionDirection.Left);else{var a=t._actionWidget.widget.getRow()-n.getRow()+t._actionWidget.widget.getRowSpan();t.moveWidgetDown(n,a)}}))}},i.prototype.validatePlaceholderPosition=function(t){var n=this.placeholder$.getValue();if(this.getWidgetsAtPosition(n.column,n.row,!0).length>0){switch(t){case e.ActionDirection.Left:this.setPlaceholderBounds(n.visible,n.x+this.getColumnWidth(),n.y,n.width,n.height);break;case e.ActionDirection.Right:this.setPlaceholderBounds(n.visible,n.x-this.getColumnWidth(),n.y,n.width,n.height)}this.validatePlaceholderPosition(t)}},i.prototype.canWidgetMoveLeft=function(e,t){var n=this;if(void 0===t&&(t=!1),e===this._actionWidget.widget||0===e.getColumn())return!1;var i=this.getOccupiedSpaces().filter((function(t){return t.widget===e})).map((function(t){return{column:t.column-e.getColumnSpan(),row:t.row,widget:t.widget}}));if(i.find((function(e){return e.column<0})))return!1;var o=i.every((function(e){return n.getWidgetsAtPosition(e.column,e.row).filter((function(t){return t!==e.widget})).every((function(e){return n.canWidgetMoveLeft(e)}))}));if(t&&o){i.forEach((function(e){return n.getWidgetsAtPosition(e.column,e.row).filter((function(t){return t!==e.widget})).forEach((function(e){return n.canWidgetMoveLeft(e,!0)}))}));var r=i.reduce((function(e,t){return Math.min(e,t.column)}),1/0);r!==1/0&&e.setColumn(r)}return o},i.prototype.canWidgetMoveRight=function(e,t){var n=this;if(void 0===t&&(t=!1),e===this._actionWidget.widget||e.getColumn()+e.getColumnSpan()===this.options.columns)return!1;var i=this.getOccupiedSpaces().filter((function(t){return t.widget===e})).map((function(t){return{column:t.column+e.getColumnSpan(),row:t.row,widget:t.widget}}));if(i.find((function(e){return e.column>=n.getColumnCount()})))return!1;var o=i.every((function(e){return n.getWidgetsAtPosition(e.column,e.row).filter((function(t){return t!==e.widget})).every((function(e){return n.canWidgetMoveRight(e)}))}));return t&&o&&(i.forEach((function(e){return n.getWidgetsAtPosition(e.column,e.row).filter((function(t){return t!==e.widget})).forEach((function(e){return n.canWidgetMoveRight(e,!0)}))})),e.setColumn(e.getColumn()+1)),o},i.prototype.setWidgetOrigin=function(){this._widgetOrigin={column:this._actionWidget.widget.getColumn(),row:this._actionWidget.widget.getRow(),columnSpan:this._actionWidget.widget.getColumnSpan(),rowSpan:this._actionWidget.widget.getRowSpan()}},i.prototype.getRequiredSpacesFromPoint=function(e,t,n){for(var i=[],o=n;o<n+e.getRowSpan();o++)for(var r=t;r<t+e.getColumnSpan();r++)i.push({column:r,row:o,widget:e});return i},i.prototype.updateWidgetPositions=function(t){for(var n=this,i=this.placeholder$.getValue(),o=i.column;o<i.column+i.columnSpan;o++)for(var r=i.row;r<i.row+i.rowSpan;r++)this.getWidgetsAtPosition(o,r,!0).filter((function(e){return e!==t})).forEach((function(e){return n.moveWidgetDown(e)}));this.setDashboardHeight(),this._actionWidget.direction!==e.ActionDirection.Top&&this._actionWidget.direction!==e.ActionDirection.TopLeft&&this._actionWidget.direction!==e.ActionDirection.TopRight&&this.shiftWidgetsUp()},i.prototype.getWidgetsAtPosition=function(e,t,n){var i=this;return void 0===n&&(n=!1),this.getOccupiedSpaces().filter((function(n){return n.column===e&&n.row===t})).filter((function(e){return i._actionWidget&&e.widget!==i._actionWidget.widget||!n})).map((function(e){return e.widget}))},i.prototype.setPlaceholderBounds=function(e,t,n,i,o){var r=this,a=this.placeholder$.getValue();a.visible=e,a.column=this.getPlaceholderColumn(t,i),a.row=this.getPlaceholderRow(n,o),a.columnSpan=this.getPlaceholderColumnSpan(i),a.rowSpan=this.getPlaceholderRowSpan(o);var s=this.widgets.filter((function(e){return e!==r._actionWidget.widget})).reduce((function(e,t){return Math.max(t.getRow()+t.getRowSpan(),e)}),0);a.row=Math.min(a.row,s),a.x=a.column*this.getColumnWidth()+this.options.padding,a.y=a.row*this._rowHeight+this.options.padding,a.width=a.columnSpan*this.getColumnWidth()-2*this.options.padding,a.height=a.rowSpan*this._rowHeight-2*this.options.padding,this._actionWidget.widget.setColumn(a.column,!1),this._actionWidget.widget.setRow(a.row,!1),this._actionWidget.widget.setColumnSpan(a.columnSpan,!1),this._actionWidget.widget.setRowSpan(a.rowSpan,!1),this.placeholder$.next(a)},i.prototype.getPlaceholderColumn=function(t,n){var i=this.getColumnFromPx(t,this._actionWidget.direction===e.ActionDirection.Move?e.Rounding.RoundUpOverHalf:e.Rounding.RoundDown),o=Math.floor(n/this.getColumnWidth()),r=this.getColumnCount()-o;if(this._actionWidget.direction!==e.ActionDirection.Left&&this._actionWidget.direction!==e.ActionDirection.TopLeft&&this._actionWidget.direction!==e.ActionDirection.BottomLeft)return Math.max(Math.min(i,r),0);var a=n%this.getColumnWidth();return t<=0||0===a||0===o||a>this.getColumnWidth()/2?Math.max(Math.min(i,r),0):Math.max(Math.min(i+1,r),0)},i.prototype.getPlaceholderColumnSpan=function(t){var n=this.getColumnFromPx(t);if(this._actionWidget.direction!==e.ActionDirection.Right&&this._actionWidget.direction!==e.ActionDirection.TopRight&&this._actionWidget.direction!==e.ActionDirection.BottomRight&&this._actionWidget.direction!==e.ActionDirection.Left&&this._actionWidget.direction!==e.ActionDirection.TopLeft&&this._actionWidget.direction!==e.ActionDirection.BottomLeft)return Math.max(n,1);var i=t%this.getColumnWidth();return n>0&&i>this.getColumnWidth()/2?Math.max(n+1,1):Math.max(n,1)},i.prototype.getPlaceholderRow=function(t,n){var i=this.getRowFromPx(t,this._actionWidget.direction===e.ActionDirection.Move?e.Rounding.RoundUpOverHalf:e.Rounding.RoundDown),o=Math.ceil(n/this._rowHeight);if(this._actionWidget.direction!==e.ActionDirection.Top&&this._actionWidget.direction!==e.ActionDirection.TopLeft&&this._actionWidget.direction!==e.ActionDirection.TopRight)return Math.max(i,0);var r=n<this._rowHeight?0:n%this._rowHeight;return t<=0||0===o||0===r||r>this._rowHeight/2?Math.max(i,0):Math.max(i+1,0)},i.prototype.getPlaceholderRowSpan=function(t){var n=this.getRowFromPx(t);return this._actionWidget.direction!==e.ActionDirection.Top&&this._actionWidget.direction!==e.ActionDirection.TopLeft&&this._actionWidget.direction!==e.ActionDirection.TopRight&&this._actionWidget.direction!==e.ActionDirection.Bottom&&this._actionWidget.direction!==e.ActionDirection.BottomLeft&&this._actionWidget.direction!==e.ActionDirection.BottomRight?Math.max(n,1):t%this._rowHeight>this._rowHeight/2?Math.max(n+1,1):Math.max(n,1)},i.prototype.getColumnFromPx=function(t,n){void 0===n&&(n=e.Rounding.RoundDown);var i=Math.floor(t/Math.floor(this.getColumnWidth())),o=t%Math.floor(this.getColumnWidth()),r=this.getColumnWidth()/2;switch(n){case e.Rounding.RoundDown:return i;case e.Rounding.RoundDownBelowHalf:return o<r?i:i+1;case e.Rounding.RoundUpOverHalf:return o>r?i+1:i;case e.Rounding.RoundUp:return o>0?i+1:i}},i.prototype.getRowFromPx=function(t,n){void 0===n&&(n=e.Rounding.RoundDown);var i=Math.floor(t/Math.floor(this._rowHeight)),o=t%Math.floor(this._rowHeight),r=this._rowHeight/2;switch(n){case e.Rounding.RoundDown:return i;case e.Rounding.RoundDownBelowHalf:return o<r?i:i+1;case e.Rounding.RoundUpOverHalf:return o>r?i+1:i;case e.Rounding.RoundUp:return o>0?i+1:i}},i.prototype.commitWidgetChanges=function(){var e=this.placeholder$.getValue();void 0!==e.column&&void 0!==e.row&&void 0!==e.columnSpan&&void 0!==e.rowSpan&&(this._actionWidget&&(this._actionWidget.widget.setColumn(e.column),this._actionWidget.widget.setRow(e.row),this._actionWidget.widget.setColumnSpan(e.columnSpan),this._actionWidget.widget.setRowSpan(e.rowSpan)),e.column=void 0,e.row=void 0,e.columnSpan=void 0,e.rowSpan=void 0,this.placeholder$.next(e))},i.prototype.getColumnWidth=function(){return Math.floor(this.columnWidth)},i.prototype.getRowCount=function(){return this.widgets.reduce((function(e,t){return Math.max(t.getRow()+t.getRowSpan(),e)}),0)},i.prototype.setDashboardHeight=function(){var e=this.getRowCount();this.options.emptyRow&&e++,this.setDimensions(void 0,e*this._rowHeight)},i.prototype.bringToFront=function(e){this.widgets.forEach((function(t){return t===e?t.bringToFront():t.sendToBack()}))},i.prototype.moveWidgetDown=function(e,t){var n=this;void 0===t&&(t=1),e.setRow(e.getRow(ct.Auto)+t),this.forEachBlock(e,(function(i,o){return n.getWidgetsAtPosition(i,o,!0).filter((function(t){return t!==e})).forEach((function(e){return n.moveWidgetDown(e,t)}))}))},i.prototype.shiftWidgetsUp=function(){var e=this,t=!0;return this.widgets.forEach((function(n){var i,o,r=0===n.getRow(),a=(null===(i=e._actionWidget)||void 0===i?void 0:i.widget)===n,s=n.autoPositioning||e.stacked,c=!s&&(null===(o=e.isDragging$.value)||void 0===o?void 0:o.id)===n.id;if(!(r||a||c||!s&&!e._cache))if(s)e.getPositionAvailable(n.getColumn(),n.getRow()-1,n.getColumnSpan(),1)&&(n.setRow(n.getRow()-1),t=!1);else{var l=e._cache.find((function(e){return e.id===n.id}));e.getPositionAvailable(l.column,l.row,l.columnSpan,l.rowSpan)&&(n.setRow(l.row),t=!1)}})),!t&&(this.shiftWidgetsUp(),!0)},i.prototype.forEachBlock=function(e,t){for(var n=e.getRow();n<e.getRow()+e.getRowSpan();n++)for(var i=e.getColumn();i<e.getColumn()+e.getColumnSpan();i++)t.call(e,i,n)},i.prototype.getWidgetBelow=function(e){var t=this.getWidgetsAtPosition(e.getColumn(),e.getRow()+e.getRowSpan(),!0);return t.length>0?t[0]:null},i.prototype.getColumnCount=function(){return this.stacked?1:this.options.columns},i.prototype.onShiftStart=function(t){this.onDragStart({direction:e.ActionDirection.Move,widget:t})},i.prototype.onShift=function(t,n){var i=0,o=0;switch(n){case e.ActionDirection.Top:o=-this.getRowHeight();break;case e.ActionDirection.Right:i=this.getColumnWidth();break;case e.ActionDirection.Bottom:o=this.getRowHeight();break;case e.ActionDirection.Left:i=-this.getColumnWidth()}var r={x:t.x+i,y:t.y+o,width:t.width,height:t.height};this.setPlaceholderBounds(!1,r.x,r.y,r.width,r.height);var a=this.placeholder$.value;t.setBounds(a.x-this.options.padding,a.y-this.options.padding,r.width,r.height),this.setDashboardHeight()},i.prototype.onShiftEnd=function(){this.shiftWidgets(),this.setDashboardHeight(),this.onDragEnd()},i.prototype.onResize=function(t,n){if(!this.stacked){var i=0,o=0;switch(n){case e.ActionDirection.Top:o=-this.getRowHeight();break;case e.ActionDirection.Right:i=this.getColumnWidth();break;case e.ActionDirection.Bottom:o=this.getRowHeight();break;case e.ActionDirection.Left:i=-this.getColumnWidth()}var r={x:t.x,y:t.y,width:t.width+i,height:t.height+o},a=t.x+t.width,s=t.y+t.height;r.x<0&&(r.x=0,r.width=a),r.y<0&&(r.y=0,r.height=s),r.x+r.width>this.getColumnWidth()*this.getColumnCount()&&(r.width=t.width),r.width<this.getColumnWidth()&&(r.x=t.x,r.width=this.getColumnWidth()),r.height<this.getRowHeight()&&(r.y=t.y,r.height=this.getRowHeight());var c=this.getColumnWidth()*t.minColSpan;r.width<c&&(r.x=t.x,r.width=c);var l=this.options.rowHeight*t.minRowSpan;r.height<l&&(r.y=t.y,r.height=l),t.setBounds(r.x,r.y,r.width,r.height),this.setPlaceholderBounds(!1,r.x,r.y,r.width,r.height),this.setDashboardHeight()}},i.prototype.getSurroundingWidgets=function(t,n){for(var i=[],o=t.getColumn();o<t.getColumn()+t.getColumnSpan();o++)switch(n){case e.ActionDirection.Top:i=A(i,this.getWidgetsAtPosition(o,t.getRow()-1));break;case e.ActionDirection.Bottom:i=A(i,this.getWidgetsAtPosition(o,t.getRow()+t.getRowSpan()))}return i},i.prototype.moveWidget=function(e,t,n){var i={x:e.x+t,y:e.y+n,width:e.width,height:e.height};this.restoreWidgets(!0),e.setBounds(i.x,i.y,i.width,i.height),this.setPlaceholderBounds(!0,i.x,i.y,i.width,i.height),this.shiftWidgets(),this.setDashboardHeight()},i.decorators=[{type:n.Injectable}],i.ctorParameters=function(){return[]},i}(),Ct={columns:5,padding:5,minWidth:100,minHeight:100,emptyRow:!0};(xt=e.ActionDirection||(e.ActionDirection={}))[xt.Top=0]="Top",xt[xt.TopRight=1]="TopRight",xt[xt.Right=2]="Right",xt[xt.BottomRight=3]="BottomRight",xt[xt.Bottom=4]="Bottom",xt[xt.BottomLeft=5]="BottomLeft",xt[xt.Left=6]="Left",xt[xt.TopLeft=7]="TopLeft",xt[xt.Move=8]="Move",(wt=e.Rounding||(e.Rounding={}))[wt.RoundDown=0]="RoundDown",wt[wt.RoundDownBelowHalf=1]="RoundDownBelowHalf",wt[wt.RoundUp=2]="RoundUp",wt[wt.RoundUpOverHalf=3]="RoundUpOverHalf";var Dt=function(){function e(e){var n=this;this.dashboardService=e,this.colSpan=1,this.rowSpan=1,this.resizable=!1,this.widgetAriaLabel=this.getDefaultAriaLabel,this.x=0,this.y=0,this.width=100,this.height=100,this.padding=0,this.zIndex=0,this.isDragging=!1,this.isGrabbing=!1,this.isResizing=!1,this.isDraggable=!1,this._column={regular:void 0,stacked:void 0},this._row={regular:void 0,stacked:void 0},this._columnSpan={regular:1,stacked:1},this._rowSpan={regular:1,stacked:1},this._minColSpan=1,this._minRowSpan=1,this._autoPositioning=!0,this._onDestroy=new t.Subject,e.options$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return n.update()})),e.layout$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return n.ariaLabel=n.getAriaLabel()})),e.isDragging$.pipe(s.takeUntil(this._onDestroy),s.map((function(e){return e===n}))).subscribe((function(e){return n.isDragging=e})),e.isGrabbing$.pipe(s.takeUntil(this._onDestroy),s.map((function(e){return e===n}))).subscribe((function(e){return n.isGrabbing=e}))}return Object.defineProperty(e.prototype,"col",{get:function(){return this.getColumn()},set:function(e){null!=e&&(this.setColumn(a.coerceNumberProperty(e)),this.dashboardService.renderDashboard())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"row",{get:function(){return this.getRow()},set:function(e){void 0===e&&null===e||(this.setRow(a.coerceNumberProperty(e)),this.dashboardService.renderDashboard())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minColSpan",{get:function(){return this._minColSpan},set:function(e){this._minColSpan=a.coerceNumberProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minRowSpan",{get:function(){return this._minRowSpan},set:function(e){this._minRowSpan=a.coerceNumberProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoPositioning",{get:function(){return this._autoPositioning},set:function(e){this._autoPositioning=a.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this._columnSpan.regular=this.colSpan,this._rowSpan.regular=this.rowSpan,this._rowSpan.stacked=this.rowSpan,this._row.regular=this.row,this._row.stacked=this.row,this._column.regular=this.col,this._column.stacked=this.col,this.id||(console.warn("Dashboard Widget is missing an ID."),this.id=Math.floor(1e5*Math.random()).toString())},e.prototype.ngAfterViewInit=function(){this.dashboardService.addWidget(this),this.update()},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete(),this.dashboardService.removeWidget(this)},e.prototype.update=function(){var e=this.dashboardService.options,t=e.columns;this.padding=e.padding,this._columnSpan.stacked=t},e.prototype.render=function(){this.x=this.getColumn()*this.dashboardService.getColumnWidth(),this.y=this.getRow()*this.dashboardService.getRowHeight(),this.width=this.getColumnSpan()*this.dashboardService.getColumnWidth(),this.height=this.getRowSpan()*this.dashboardService.getRowHeight()},e.prototype.getColumn=function(e){switch(void 0===e&&(e=ct.Auto),e){case ct.Auto:return this.getStackableValue(this._column);case ct.Regular:return this._column.regular;case ct.Stacked:return this._column.stacked}},e.prototype.getRow=function(e){switch(void 0===e&&(e=ct.Auto),e){case ct.Auto:return this.getStackableValue(this._row);case ct.Regular:return this._row.regular;case ct.Stacked:return this._row.stacked}},e.prototype.setColumn=function(e,t){void 0===t&&(t=!0),this.setStackableValue(this._column,e),t&&this.render()},e.prototype.setRow=function(e,t){void 0===t&&(t=!0),this.setStackableValue(this._row,e),t&&this.render()},e.prototype.getColumnSpan=function(){return this.getStackableValue(this._columnSpan)},e.prototype.getRowSpan=function(){return this.getStackableValue(this._rowSpan)},e.prototype.setColumnSpan=function(e,t){void 0===t&&(t=!0),this.setStackableValue(this._columnSpan,e),t&&this.render()},e.prototype.setRowSpan=function(e,t){void 0===t&&(t=!0),this.setStackableValue(this._rowSpan,e),t&&this.render()},e.prototype.bringToFront=function(){this.zIndex=1},e.prototype.sendToBack=function(){this.zIndex=0},e.prototype.setBounds=function(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i},e.prototype.dragstart=function(e,t,n){this.isResizing=!0,this.dashboardService.isGrabbing$.next(null),this.dashboardService.onResizeStart({widget:this,direction:n,event:t,handle:e})},e.prototype.drag=function(e,t,n){this.dashboardService.onResizeDrag({widget:this,direction:n,event:t,handle:e})},e.prototype.dragend=function(){this.isResizing=!1,this.dashboardService.onResizeEnd()},e.prototype.getAriaLabel=function(){return this.widgetAriaLabel&&"string"==typeof this.widgetAriaLabel?this.widgetAriaLabel:this.widgetAriaLabel&&"function"==typeof this.widgetAriaLabel?this.widgetAriaLabel(this):this.ariaLabel},e.prototype.getDefaultAriaLabel=function(e){var t="";return e.resizable&&e.isDraggable?t="It can be moved and resized.":e.resizable?t="It can be resized.":e.isDraggable&&(t="It can be moved."),e.name+" panel in row "+e.getRow()+", column "+e.getColumn()+", is "+e.getColumnSpan()+" columns wide and "+e.getRowSpan()+" rows high. "+t},e.prototype.setStackableValue=function(e,t){this.dashboardService.stacked?e.stacked=t:e.regular=t},e.prototype.getStackableValue=function(e){return this.dashboardService.stacked?e.stacked:e.regular},e.ctorParameters=function(){return[{type:St}]},e.decorators=[{type:n.Component,args:[{selector:"ux-dashboard-widget",template:'<div class="widget-content widget-col-span-{{ getColumnSpan() }} widget-row-span-{{ getRowSpan() }}">\n    <ng-content></ng-content>\n</div>\n\n<div uxDrag\n     #handleTop\n     class="resizer-handle handle-top"\n     (onDragStart)="dragstart(handleTop, $event, 0)"\n     (onDrag)="drag(handleTop, $event, 0)"\n     (onDragEnd)="dragend()"\n     [style.top.px]="padding"\n     [hidden]="!resizable">\n</div>\n\n<div uxDrag\n     #handleTopRight\n     class="resizer-handle handle-top-right"\n     (onDragStart)="dragstart(handleTopRight, $event, 1)"\n     (onDrag)="drag(handleTopRight, $event, 1)"\n     (onDragEnd)="dragend()"\n     [style.top.px]="padding"\n     [style.right.px]="padding"\n     [hidden]="!resizable && !(dashboardService.stacked$ | async)">\n</div>\n\n<div uxDrag\n     #handleRight\n     class="resizer-handle handle-right"\n     (onDragStart)="dragstart(handleRight, $event, 2)"\n     (onDrag)="drag(handleRight, $event, 2)"\n     (onDragEnd)="dragend()"\n     [style.right.px]="padding"\n     [hidden]="!resizable || (dashboardService.stacked$ | async)">\n</div>\n\n<div uxDrag\n     #handleBottomRight\n     class="resizer-handle handle-bottom-right"\n     (onDragStart)="dragstart(handleBottomRight, $event, 3)"\n     (onDrag)="drag(handleBottomRight, $event, 3)"\n     (onDragEnd)="dragend()"\n     [style.bottom.px]="padding"\n     [style.right.px]="padding"\n     [hidden]="!resizable && !(dashboardService.stacked$ | async)">\n</div>\n\n<div uxDrag\n     #handleBottom\n     class="resizer-handle handle-bottom"\n     (onDragStart)="dragstart(handleBottom, $event, 4)"\n     (onDrag)="drag(handleBottom, $event, 4)"\n     (onDragEnd)="dragend()"\n     [style.bottom.px]="padding"\n     [hidden]="!resizable">\n</div>\n\n<div uxDrag\n     #handleBottomLeft\n     class="resizer-handle handle-bottom-left"\n     (onDragStart)="dragstart(handleBottomLeft, $event, 5)"\n     (onDrag)="drag(handleBottomLeft, $event, 5)"\n     (onDragEnd)="dragend()"\n     [style.bottom.px]="padding"\n     [style.left.px]="padding"\n     [hidden]="!resizable && !(dashboardService.stacked$ | async)">\n</div>\n\n<div uxDrag\n     #handleLeft\n     class="resizer-handle handle-left"\n     (onDragStart)="dragstart(handleLeft, $event, 6)"\n     (onDrag)="drag(handleLeft, $event, 6)"\n     (onDragEnd)="dragend()"\n     [style.left.px]="padding"\n     [hidden]="!resizable || (dashboardService.stacked$ | async)">\n</div>\n\n<div uxDrag\n     #handleTopLeft\n     class="resizer-handle handle-top-left"\n     (onDragStart)="dragstart(handleTopLeft, $event, 7)"\n     (onDrag)="drag(handleTopLeft, $event, 7)"\n     (onDragEnd)="dragend()"\n     [style.top.px]="padding"\n     [style.left.px]="padding"\n     [hidden]="!resizable && !(dashboardService.stacked$ | async)">\n</div>'}]}],e.ctorParameters=function(){return[{type:St}]},e.propDecorators={id:[{type:n.Input}],name:[{type:n.Input}],col:[{type:n.Input}],row:[{type:n.Input}],colSpan:[{type:n.Input}],rowSpan:[{type:n.Input}],minColSpan:[{type:n.Input}],minRowSpan:[{type:n.Input}],resizable:[{type:n.Input}],autoPositioning:[{type:n.Input}],widgetAriaLabel:[{type:n.Input}],x:[{type:n.HostBinding,args:["style.left.px"]}],y:[{type:n.HostBinding,args:["style.top.px"]}],width:[{type:n.HostBinding,args:["style.width.px"]}],height:[{type:n.HostBinding,args:["style.height.px"]}],padding:[{type:n.HostBinding,args:["style.padding.px"]}],zIndex:[{type:n.HostBinding,args:["style.z-index"]}],ariaLabel:[{type:n.HostBinding,args:["attr.aria-label"]}],isDragging:[{type:n.HostBinding,args:["class.dragging"]}],isGrabbing:[{type:n.HostBinding,args:["class.grabbing"]}],isResizing:[{type:n.HostBinding,args:["class.resizing"]}]},e}(),kt=function(){function e(e){var n=this;this._dashboard=e,this._handles=[],this._onDestroy=new t.Subject,e.layout$.pipe(s.takeUntil(this._onDestroy),s.filter((function(){return!n._dashboard.isGrabbing$.value}))).subscribe((function(){return n.setFirstItemFocusable()}))}return e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.addHandle=function(e){var t=this;this._handles=this.getHandlesInOrder(A(this._handles,[e])),requestAnimationFrame((function(){return t.ensureFocusable()}))},e.prototype.removeHandle=function(e){this._handles=this._handles.filter((function(t){return t!==e})),this.ensureFocusable()},e.prototype.setFirstItemFocusable=function(){this.setItemFocus(0,!1)},e.prototype.setItemFocus=function(e,t){if(void 0===t&&(t=!0),this._handles&&0!==this._handles.length){if(e<0)return this.setItemFocus(0);if(e>this._handles.length-1)return this.setItemFocus(this._handles.length-1);this.getHandlesInOrder().forEach((function(n,i){return i===e?n.focus(t):n.blur()})),this.ensureFocusable()}},e.prototype.setPreviousItemFocus=function(e){this.setItemFocus(this.getHandleIndex(e)-1)},e.prototype.setNextItemFocus=function(e){this.setItemFocus(this.getHandleIndex(e)+1)},e.prototype.setSiblingItemFocus=function(e,t){var n=this,i=this._dashboard.getSurroundingWidgets(e,t).map((function(e){return n._handles.find((function(t){return t.widget===e}))})).filter((function(e){return!!e})).reduce((function(e,t){return!e||t.widget.getColumn()>e.widget.getColumn()?t:e}),null);if(i){var o=this.getHandleIndex(i);this.setItemFocus(o)}},e.prototype.getHandlesInOrder=function(e){void 0===e&&(e=this._handles);var t=this._dashboard.getWidgetsByOrder();return e.sort((function(e,n){return t.indexOf(e.widget)-t.indexOf(n.widget)}))},e.prototype.getHandleIndex=function(e){return this.getHandlesInOrder().findIndex((function(t){return t===e}))},e.prototype.ensureFocusable=function(){this._handles.find((function(e){return 0===e.tabIndex}))||this.setFirstItemFocusable()},e.ctorParameters=function(){return[{type:St}]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:St}]},e}(),It=function(){function i(e,n,i,o,r){var a=this;if(this.widget=e,this._dashboard=n,this._handle=i,this._elementRef=o,this._announcer=r,this.uxGrabAllowMove=!0,this.uxGrabAllowResize=!0,this.uxGrabAriaLabel=this.getDefaultAriaLabel.bind(this),this.uxGrabChangeSuccessAnnouncement=this.getChangeSuccessAnnouncement.bind(this),this.uxGrabStartAnnouncement=this.getStartAnnouncement.bind(this),this.uxGrabMoveFailAnnouncement=this.getMoveFailAnnouncement.bind(this),this.uxGrabResizeFailAnnouncement=this.getResizeFailAnnouncement.bind(this),this.uxGrabConfirmAnnouncement=this.getConfirmAnnouncement.bind(this),this.uxGrabCancelAnnouncement=this.getCancellationAnnouncement.bind(this),this.tabIndex=-1,this.isGrabbing=!1,this._onDestroy=new t.Subject,!e)throw new Error("uxDashboardGrabHandle must be used within a dashboard widget");i.addHandle(this),n.isGrabbing$.pipe(s.takeUntil(this._onDestroy),s.map((function(t){return t===e}))).subscribe((function(e){return a.isGrabbing=e}))}return i.prototype.ngOnInit=function(){var e=this;this.widget.name||console.warn("Dashboard widget "+this.widget.id+" must have a valid 'name' to use uxDashboardGrabHandle"),this.ariaLabel=this.getAnnouncement(this.uxGrabAriaLabel),this._dashboard.layout$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.ariaLabel=e.getAnnouncement(e.uxGrabAriaLabel)}))},i.prototype.ngOnDestroy=function(){this._handle.removeHandle(this),this._onDestroy.next(),this._onDestroy.complete()},i.prototype.enableDragMode=function(){this.isGrabbing||(this._cache=this._lastMovement=this._dashboard.cacheWidgets(),this._dashboard.isGrabbing$.next(this.widget),this._dashboard.onShiftStart(this.widget),this._announcer.announce(this.getAnnouncement(this.uxGrabStartAnnouncement)))},i.prototype.disableDragMode=function(){this.isGrabbing&&(this._dashboard.isGrabbing$.next(null),this._lastMovement=null,this._dashboard.onShiftEnd(),this._announcer.announce(this.getAnnouncement(this.uxGrabConfirmAnnouncement)))},i.prototype.cancelDragMode=function(){this.isGrabbing&&(this._dashboard.onShiftEnd(),this._dashboard.restoreWidgets(!1,this._cache,!0),this._dashboard.setDashboardHeight(),this._dashboard.layout$.next(this._dashboard.getLayoutData()),this._dashboard.isGrabbing$.next(null),this._announcer.announce(this.getAnnouncement(this.uxGrabCancelAnnouncement)))},i.prototype.toggleDragMode=function(){this.isGrabbing?this.disableDragMode():this.enableDragMode()},i.prototype.focus=function(e){void 0===e&&(e=!0),this.tabIndex=0,e&&this._elementRef.nativeElement.focus()},i.prototype.blur=function(){this.tabIndex=-1},i.prototype.onBlur=function(){this.disableDragMode()},i.prototype.onKeydown=function(e,t,n){switch(t){case l.ESCAPE:this.cancelDragMode();break;case l.SPACE:case l.ENTER:this.toggleDragMode(),e.preventDefault(),e.stopPropagation();break;case l.UP_ARROW:case l.RIGHT_ARROW:case l.DOWN_ARROW:case l.LEFT_ARROW:this.isGrabbing?n?this.resizeWidget(e,t):this.moveWidget(e,t):this.moveFocus(e,t)}},i.prototype.getAnnouncement=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"function"==typeof e?e.apply(void 0,A([this.widget],t)):e},i.prototype.moveWidget=function(e,t){if(this.widget.isDraggable&&this.uxGrabAllowMove){this._dashboard.onShift(this.widget,this.getDirectionFromKey(t));var n=this.getLayoutDiff();this._announcer.announce(n.length>0?this.getAnnouncement(this.uxGrabChangeSuccessAnnouncement,n):this.getAnnouncement(this.uxGrabMoveFailAnnouncement,this.getDirectionFromKey(t))),this._lastMovement=this._dashboard.cacheWidgets(),e.preventDefault(),e.stopPropagation()}},i.prototype.resizeWidget=function(e,t){if(this.widget.resizable&&this.uxGrabAllowResize){this._dashboard.onResize(this.widget,this.getDirectionFromKey(t));var n=this.getLayoutDiff();this._announcer.announce(n.length>0?this.getAnnouncement(this.uxGrabChangeSuccessAnnouncement,n):this.getAnnouncement(this.uxGrabResizeFailAnnouncement,this.getDirectionFromKey(t))),this._lastMovement=this._dashboard.cacheWidgets(),e.preventDefault(),e.stopPropagation()}},i.prototype.moveFocus=function(t,n){switch(n){case l.UP_ARROW:this._handle.setSiblingItemFocus(this.widget,e.ActionDirection.Top);break;case l.RIGHT_ARROW:this._handle.setNextItemFocus(this);break;case l.DOWN_ARROW:this._handle.setSiblingItemFocus(this.widget,e.ActionDirection.Bottom);break;case l.LEFT_ARROW:this._handle.setPreviousItemFocus(this)}t.preventDefault(),t.stopPropagation()},i.prototype.getDirectionFromKey=function(t){switch(t){case l.UP_ARROW:return e.ActionDirection.Top;case l.RIGHT_ARROW:return e.ActionDirection.Right;case l.DOWN_ARROW:return e.ActionDirection.Bottom;case l.LEFT_ARROW:return e.ActionDirection.Left}},i.prototype.getDefaultAriaLabel=function(e){return e.resizable&&this.uxGrabAllowResize&&e.isDraggable&&this.uxGrabAllowMove?"Press space to move and resize the "+e.name+" panel.":e.resizable&&this.uxGrabAllowResize?"Press space to resize the "+e.name+" panel.":e.isDraggable&&this.uxGrabAllowMove?"Press space to move the "+e.name+" panel.":void 0},i.prototype.getChangeSuccessAnnouncement=function(){return this.getDiffAnnouncements().join(" ")+" Use the cursor keys to continue moving and resizing, enter to commit, or escape to cancel."},i.prototype.getDiffAnnouncements=function(){return this.getLayoutDiff().map((function(e){var t=[];return e.isMovedHorizontally&&e.isMovedVertically?t.push("moved to row "+e.currentRow+", column "+e.currentColumn):e.isMovedDown?t.push("moved down to row "+e.currentRow+", column "+e.currentColumn):e.isMovedUp?t.push("moved up to row "+e.currentRow+", column "+e.currentColumn):e.isMovedLeft?t.push("moved left to row "+e.currentRow+", column "+e.currentColumn):e.isMovedRight&&t.push("moved right to row "+e.currentRow+", column "+e.currentColumn),e.isResized&&t.push("resized to "+e.currentColumnSpan+" columns wide and "+e.currentRowSpan+" rows high"),e.widget.name+" panel is "+t.join(" and ")+"."}))},i.prototype.getMoveFailAnnouncement=function(t,n){switch(n){case e.ActionDirection.Top:return"Cannot move the "+t.name+" panel up, because it is at the top edge of the dashboard";case e.ActionDirection.Bottom:return"Cannot move the "+t.name+" panel down, because it is at the bottom edge of the dashboard";case e.ActionDirection.Right:return"Cannot move the "+t.name+" panel right, because it is at the right edge of the dashboard";case e.ActionDirection.Left:return"Cannot move the "+t.name+" panel left, because it is at the left edge of the dashboard"}},i.prototype.getResizeFailAnnouncement=function(t,n){switch(n){case e.ActionDirection.Top:return"Cannot make the "+t.name+" panel shorter, because it is currently at its minimum height.";case e.ActionDirection.Bottom:return"Cannot make the "+t.name+" panel taller, because it is currently at its maximum height.";case e.ActionDirection.Right:return"Cannot make the "+t.name+" panel wider, because it is at the right edge of the dashboard.";case e.ActionDirection.Left:return"Cannot make the "+t.name+" panel narrower, because it is currently at its minimum width."}},i.prototype.getStartAnnouncement=function(e){return e.isDraggable&&e.resizable&&this.uxGrabAllowMove&&this.uxGrabAllowResize?e.name+" panel is currently on row "+e.getRow()+", column "+e.getColumn()+" and is "+e.getColumnSpan()+" columns wide and "+e.getRowSpan()+" rows high. Use the cursor keys to move the widget and the cursor keys with the control modifier to resize the widget. Press enter to commit changes and press escape to cancel changes.":e.isDraggable&&this.uxGrabAllowMove?e.name+" panel is currently on row "+e.getRow()+", column "+e.getColumn()+". Use the cursor keys to move the widget. Press enter to commit changes and press escape to cancel changes.":e.resizable&&this.uxGrabAllowResize?e.name+" panel is currently on row "+e.getRow()+", column "+e.getColumn()+" and is "+e.getColumnSpan()+" columns wide and "+e.getRowSpan()+" rows high. Use the cursor keys with the control modifier to resize the widget. Press enter to commit changes and press escape to cancel changes.":void 0},i.prototype.getConfirmAnnouncement=function(e){return e.isDraggable&&e.resizable&&this.uxGrabAllowMove&&this.uxGrabAllowResize?"Moving and resizing complete. "+this.getDiffAnnouncements().join(" ")+" "+this.getAnnouncement(this.uxGrabAriaLabel):e.isDraggable&&this.uxGrabAllowMove?"Moving complete. "+this.getDiffAnnouncements().join(" ")+" "+this.getAnnouncement(this.uxGrabAriaLabel):e.resizable&&this.uxGrabAllowResize?"Resizing complete. "+this.getDiffAnnouncements().join(" ")+" "+this.getAnnouncement(this.uxGrabAriaLabel):void 0},i.prototype.getCancellationAnnouncement=function(e){return e.isDraggable&&e.resizable&&this.uxGrabAllowMove&&this.uxGrabAllowResize?"Moving and resizing cancelled. "+this.getDashboardAriaLabel()+" "+this.getAnnouncement(this.uxGrabAriaLabel):e.isDraggable&&this.uxGrabAllowMove?"Moving cancelled. "+this.getDashboardAriaLabel()+" "+this.getAnnouncement(this.uxGrabAriaLabel):e.resizable&&this.uxGrabAllowResize?"Resizing cancelled. "+this.getDashboardAriaLabel()+" "+this.getAnnouncement(this.uxGrabAriaLabel):void 0},i.prototype.getDashboardAriaLabel=function(){return"Dashboard with "+this._dashboard.options.columns+" columns, containing "+this._dashboard.widgets.length+" panels. "+this._dashboard.widgets.map(this.getWidgetAriaLabel).join(" ")},i.prototype.getWidgetAriaLabel=function(e){return e.name+" panel in row "+e.getRow()+", column "+e.getColumn()+", is "+e.getColumnSpan()+" columns wide and "+e.getRowSpan()+" rows high."},i.prototype.getLayoutDiff=function(){var e=this,t=this._dashboard.getLayoutData().map((function(t){var n=e._lastMovement||e._cache,i=e._dashboard.widgets.find((function(e){return e.id===t.id})),o=n.find((function(e){return e.id===t.id}));return t.row=Number(t.row),t.rowSpan=Number(t.rowSpan),t.col=Number(t.col),t.colSpan=Number(t.colSpan),o.row=Number(o.row),o.rowSpan=Number(o.rowSpan),o.column=Number(o.column),o.columnSpan=Number(o.columnSpan),{widget:i,currentRow:t.row,currentColumn:t.col,currentRowSpan:t.rowSpan,currentColumnSpan:t.colSpan,previousColumn:o.column,previousRow:o.row,previousColumnSpan:o.columnSpan,previousRowSpan:o.rowSpan,isMovedLeft:t.col<o.column,isMovedRight:t.col>o.column,isMovedUp:t.row<o.row,isMovedDown:t.row>o.row,isMovedHorizontally:t.col!==o.column,isMovedVertically:t.row!==o.row,isMoved:t.col!==o.column||t.row!==o.row,isResized:o.columnSpan!==t.colSpan||o.rowSpan!==t.rowSpan}})),n=this._handle.getHandlesInOrder().map((function(e){return e.widget}));return t.filter((function(e){return e.isMoved||e.isResized})).sort((function(t,i){return t.widget===e.widget?-1:i.widget===e.widget?1:n.indexOf(t.widget)<n.indexOf(i.widget)?-1:1}))},i.ctorParameters=function(){return[{type:Dt},{type:St},{type:kt},{type:n.ElementRef},{type:o.LiveAnnouncer}]},i.decorators=[{type:n.Directive,args:[{selector:"[uxDashboardGrabHandle]",exportAs:"ux-dashboard-grab-handle"}]}],i.ctorParameters=function(){return[{type:Dt},{type:St},{type:kt},{type:n.ElementRef},{type:o.LiveAnnouncer}]},i.propDecorators={uxGrabAllowMove:[{type:n.Input}],uxGrabAllowResize:[{type:n.Input}],uxGrabAriaLabel:[{type:n.Input}],uxGrabChangeSuccessAnnouncement:[{type:n.Input}],uxGrabStartAnnouncement:[{type:n.Input}],uxGrabMoveFailAnnouncement:[{type:n.Input}],uxGrabResizeFailAnnouncement:[{type:n.Input}],uxGrabConfirmAnnouncement:[{type:n.Input}],uxGrabCancelAnnouncement:[{type:n.Input}],ariaLabel:[{type:n.HostBinding,args:["attr.aria-label"]}],tabIndex:[{type:n.HostBinding,args:["tabIndex"]}],onBlur:[{type:n.HostListener,args:["blur"]}],onKeydown:[{type:n.HostListener,args:["keydown",["$event","$event.which","$event.ctrlKey"]]}]},i}(),Ot=function(){function e(e,i){var o=this;this.dashboardService=e,this._changeDetector=i,this.isGrabbing=!1,this.customAriaLabel=this.getDefaultAriaLabel,this.layoutChange=new n.EventEmitter,this._onDestroy=new t.Subject,e.layout$.pipe(s.takeUntil(this._onDestroy),s.tap((function(){return o.ariaLabel=o.getAriaLabel()}))).subscribe((function(){return i.markForCheck()})),e.userLayoutChange$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){return o.layoutChange.emit(e)})),e.isGrabbing$.pipe(s.takeUntil(this._onDestroy),s.map((function(e){return!!e}))).subscribe((function(e){return o.isGrabbing=e}))}return Object.defineProperty(e.prototype,"layout",{set:function(e){e&&this.dashboardService.layout$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{set:function(e){this.dashboardService.options$.next(O(O({},Ct),e))},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.dashboardService.setDimensions(this.dashboardElement.nativeElement.offsetWidth,this.dashboardElement.nativeElement.offsetHeight)},e.prototype.ngAfterContentInit=function(){this.dashboardService.initialized$.next(!0)},e.prototype.ngOnChanges=function(){this.dashboardService.renderDashboard()},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.onResize=function(e){this.dashboardService.setDimensions(e.width,e.height)},e.prototype.getAriaLabel=function(){return this.customAriaLabel&&"string"==typeof this.customAriaLabel?this.customAriaLabel:this.customAriaLabel&&"function"==typeof this.customAriaLabel?this.customAriaLabel(this.dashboardService.widgets,this.dashboardService.options):this.ariaLabel},e.prototype.refreshLayout=function(){this.dashboardService.shiftWidgetsUp()&&(this.dashboardService.setDashboardHeight(),this.layoutChange.emit(this.dashboardService.layout$.value))},e.prototype.getDefaultAriaLabel=function(e,t){return"Dashboard with "+t.columns+" columns, containing "+e.length+" panels. "+e.map(this.getWidgetAriaLabel).join(" ")},e.prototype.getWidgetAriaLabel=function(e){return e.name+" panel in row "+e.getRow()+", column "+e.getColumn()+", is "+e.getColumnSpan()+" columns wide and "+e.getRowSpan()+" rows high."},e.ctorParameters=function(){return[{type:St},{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-dashboard",template:'<div #dashboard class="dashboard-container" [style.height.px]="dashboardService.height$ | async">\n    <div (uxResize)="onResize($event)" [throttle]="16" class="dashboard">\n        <ng-content></ng-content>\n    </div>\n\n    \x3c!-- Wrap with ngIf so we only have one subscription rather than one for each property --\x3e\n    <ng-container *ngIf="dashboardService.placeholder$ | async; let placeholder">\n        <div class="position-indicator"\n            *ngIf="placeholder.visible"\n            [style.left.px]="placeholder.x"\n            [style.top.px]="placeholder.y"\n            [style.width.px]="placeholder.width"\n            [style.height.px]="placeholder.height">\n        </div>\n    </ng-container>\n</div>',changeDetection:n.ChangeDetectionStrategy.OnPush,providers:[St,kt]}]}],e.ctorParameters=function(){return[{type:St},{type:n.ChangeDetectorRef}]},e.propDecorators={customAriaLabel:[{type:n.Input,args:["aria-label"]}],layout:[{type:n.Input}],options:[{type:n.Input}],layoutChange:[{type:n.Output}],ariaLabel:[{type:n.HostBinding,args:["attr.aria-label"]}],dashboardElement:[{type:n.ViewChild,args:["dashboard",{static:!0}]}],handles:[{type:n.ContentChildren,args:[It,{descendants:!0}]}]},e}(),Pt=function(t){function i(n,i,o,r,a,c,l){var u=t.call(this,o,r,a,c,l)||this;return n.isDraggable=!0,u.onDragStart.pipe(s.takeUntil(u._onDestroy),s.tap((function(){return i.isGrabbing$.next(null)}))).subscribe((function(t){return i.onDragStart({widget:n,direction:e.ActionDirection.Move,event:t})})),u.onDrag.pipe(s.takeUntil(u._onDestroy)).subscribe((function(t){return i.onDrag({widget:n,direction:e.ActionDirection.Move,event:t})})),u.onDragScroll.pipe(s.takeUntil(u._onDestroy)).subscribe((function(e){return i.onDragScroll(n,e)})),u.onDragEnd.pipe(s.takeUntil(u._onDestroy)).subscribe((function(){return i.onDragEnd()})),u}return D(i,t),i.ctorParameters=function(){return[{type:Dt},{type:St},{type:n.ElementRef},{type:n.NgZone},{type:n.Renderer2},{type:y.ScrollDispatcher},{type:mt}]},i.decorators=[{type:n.Directive,args:[{selector:"[uxDashboardWidgetDragHandle], [ux-dashboard-widget-drag-handle]"}]}],i.ctorParameters=function(){return[{type:Dt},{type:St},{type:n.ElementRef},{type:n.NgZone},{type:n.Renderer2},{type:y.ScrollDispatcher},{type:mt}]},i}(vt),Tt=[Ot,Dt,Pt,It],Et=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[o.A11yModule,i.CommonModule,$e,_t],exports:Tt,declarations:Tt,providers:[St]}]}],e}();function Rt(e,t){e=e.slice(0);for(var n=[];e.length;)n.push(e.splice(0,t));return n}function At(e,t){for(var n=[],i=e;i<=t;i++)n.push(i);return n}function Mt(e,t){e=new Date(e);for(var n=[];e<=t;)n.push(new Date(e)),e.setDate(e.getDate()+1);return n}function Lt(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function $t(e,t){return!(!e&&t||e&&!t||(e||t)&&e.getTime()!==t.getTime())}function Ft(e,t,n){if(void 0===n&&(n=!0),!e||!t)return null;var i=new Date(e.getTime()<t.getTime()?e:t),o=new Date(e.getTime()>t.getTime()?e:t);return n&&(i.setHours(0,0,0,0),o.setHours(23,59,59,0)),Math.round((o.getTime()-i.getTime())/864e5)}function Ht(e,t){return e.name===t.name&&e.offset===t.offset}function jt(e){var t=new Date(e);return t.setHours(0,0,0,0),t}function Bt(e,t,n){return void 0===n&&(n=!1),n?jt(e).getTime()>=jt(t).getTime():jt(e).getTime()>jt(t).getTime()}function Nt(e,t,n){return void 0===n&&(n=!1),n?jt(e).getTime()<=jt(t).getTime():jt(e).getTime()<jt(t).getTime()}var zt,Vt=["January","February","March","April","May","June","July","August","September","October","November","December"],Wt=Vt.map((function(e){return e.substring(0,3)})),Ut=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Gt=Ut.map((function(e){return e.substring(0,3)})),Kt=["AM","PM"],qt=[{name:"GMT-11",offset:660},{name:"GMT-10",offset:600},{name:"GMT-9",offset:540},{name:"GMT-8",offset:480},{name:"GMT-7",offset:420},{name:"GMT-6",offset:360},{name:"GMT-5",offset:300},{name:"GMT-4",offset:240},{name:"GMT-3",offset:180},{name:"GMT-2",offset:120},{name:"GMT-1",offset:60},{name:"GMT",offset:0},{name:"GMT+1",offset:-60},{name:"GMT+2",offset:-120},{name:"GMT+3",offset:-180},{name:"GMT+4",offset:-240},{name:"GMT+5",offset:-300},{name:"GMT+6",offset:-360},{name:"GMT+7",offset:-420},{name:"GMT+8",offset:-480},{name:"GMT+9",offset:-540},{name:"GMT+10",offset:-600},{name:"GMT+11",offset:-660},{name:"GMT+12",offset:-720}],Yt=function(){function i(){this.isRange=!1,this.direction=e.DateRangePicker.Start,this.onStartChange=new t.Subject,this.onEndChange=new t.Subject,this.onRangeChange=new t.Subject,this.onHoverChange=new t.Subject,this.onClear=new t.Subject,this.showTime=!1,this.startPickerAriaLabel="Selecting the start date",this.endPickerAriaLabel="Selecting the end date",this.isChangingTime=!1,this.startTime={hours:0,minutes:0,seconds:0},this.endTime={hours:23,minutes:59,seconds:59}}return i.prototype.setStartDate=function(e){e&&this.end&&Bt(e,this.end)&&this.clear(),this.start=e,this.onStartChange.next(this.start),this.onRangeChange.next()},i.prototype.setEndDate=function(e){e&&this.start&&Nt(e,this.start)&&this.clear(),this.end=e,this.onEndChange.next(this.end),this.onRangeChange.next()},i.prototype.clear=function(){this.setStartDate(null),this.setEndDate(null),this.onClear.next()},i.prototype.setDateMouseEnter=function(e){this.hover=e,this.onHoverChange.next()},i.prototype.setDateMouseLeave=function(e){e&&this.hover&&Lt(e,this.hover)&&this.setDateMouseEnter(null)},i.decorators=[{type:n.Injectable}],i}();(zt=e.DateRangePicker||(e.DateRangePicker={})).Start="start",zt.End="end";var Xt,Zt,Qt,Jt=function(){function e(e){var o=this;this.rangeService=e,this.showSeconds=!1,this.showMeridian=!0,this.showSpinners=!0,this.weekdays=["S","M","T","W","T","F","S"],this.showNowBtn=!1,this.selectStartTitle="Select Start Date",this.selectEndTitle="Select End Date",this.nowBtnAriaLabel="Set date to now",this.timezones=qt,this.startTimezone=this.getCurrentTimezone(),this.endTimezone=this.getCurrentTimezone(),this.startOfWeek=i.WeekDay.Sunday,this.durationTitle=this.getDurationTitle,this.startChange=new n.EventEmitter,this.endChange=new n.EventEmitter,this.startTimezoneChange=new n.EventEmitter,this.endTimezoneChange=new n.EventEmitter,this.startChange$=new t.Subject,this.endChange$=new t.Subject,this._onDestroy=new t.Subject,this.startChange$.pipe(s.takeUntil(this._onDestroy),s.debounceTime(0)).subscribe((function(e){return o.onStartChange(e)})),this.endChange$.pipe(s.takeUntil(this._onDestroy),s.debounceTime(0)).subscribe((function(e){return o.onEndChange(e)}))}return Object.defineProperty(e.prototype,"start",{set:function(e){this.rangeService.start=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{set:function(e){this.rangeService.end=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startPickerAriaLabel",{set:function(e){this.rangeService.startPickerAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endPickerAriaLabel",{set:function(e){this.rangeService.endPickerAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showTime",{get:function(){return this.rangeService.showTime},set:function(e){this.rangeService.showTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_duration",{get:function(){return this.rangeService.start&&this.rangeService.end?Ft(this.rangeService.start,this.rangeService.end,!1):this.rangeService.start&&!this.rangeService.end&&this.rangeService.hover?((e=new Date(this.rangeService.hover)).setHours(this.rangeService.endTime.hours,this.rangeService.endTime.minutes,this.rangeService.endTime.seconds),this.rangeService.start.getTime()<=e.getTime()?Ft(this.rangeService.start,e,!1):null):this.rangeService.end&&!this.rangeService.start&&this.rangeService.hover?((e=new Date(this.rangeService.hover)).setHours(this.rangeService.startTime.hours,this.rangeService.startTime.minutes,this.rangeService.startTime.seconds),this.rangeService.end.getTime()>=e.getTime()?Ft(this.rangeService.end,e,!1):null):void 0;var e},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.clear=function(){this.rangeService.clear()},e.prototype.getCurrentTimezone=function(){return this.timezones.find((function(e){return e.offset===(new Date).getTimezoneOffset()}))},e.prototype.onStartChange=function(e){this.rangeService.setStartDate(e),this.startChange.emit(e)},e.prototype.onEndChange=function(e){this.rangeService.setEndDate(e),this.endChange.emit(e)},e.prototype.getDurationTitle=function(e){return e+" "+(e>1?"days":"day")},e.ctorParameters=function(){return[{type:Yt}]},e.decorators=[{type:n.Component,args:[{selector:"ux-date-range-picker",template:'<div class="range-header">\n\n    <div class="header-section">\n        <div *ngIf="!rangeService.start" class="select-header">{{ selectStartTitle }}</div>\n        <div *ngIf="rangeService.start" class="date-header">\n            {{ rangeService.start | formatDate: dateFormat || \'d MMMM y\' }}\n        </div>\n        <div [style.visibility]="rangeService.start && showTime ? \'visible\' : \'hidden\'" class="time-header">\n            {{ rangeService.start | formatDate: timeFormat || (showMeridian ? \'shortTime\' : \'HH:mm\') }}\n        </div>\n    </div>\n\n    <div class="header-separator">\n        <ux-icon name="link-next"></ux-icon>\n        <p class="duration"\n           [style.visibility]="_duration !== null && _duration !== undefined ? \'visible\' : \'hidden\'">\n            {{ durationTitle(_duration || 0) }}\n        </p>\n    </div>\n\n    <div class="header-section">\n        <div *ngIf="!rangeService.end" class="select-header">{{ selectEndTitle }}</div>\n        <div *ngIf="rangeService.end" class="date-header">\n            {{ rangeService.end | formatDate: dateFormat || \'d MMMM y\'}}\n        </div>\n        <div [style.visibility]="rangeService.end && showTime ? \'visible\' : \'hidden\'" class="time-header">\n            {{ rangeService.end | formatDate: timeFormat || (showMeridian ? \'shortTime\' : \'HH:mm\') }}\n        </div>\n    </div>\n\n</div>\n\n<div class="content">\n    <ux-date-time-picker\n        uxDateRangePicker\n        picker="start"\n        class="start-date-picker"\n        [date]="rangeService.start"\n        (dateChange)="startChange$.next($event)"\n        [min]="min"\n        [max]="max"\n        [weekdays]="weekdays"\n        [startOfWeek]="startOfWeek"\n        [showTime]="showTime"\n        [showTimezone]="showTimezone"\n        [showSeconds]="showSeconds"\n        [showMeridian]="showMeridian"\n        [showSpinners]="showSpinners"\n        [months]="months"\n        [monthsShort]="monthsShort"\n        [meridians]="meridians"\n        [nowBtnText]="nowBtnText"\n        [showNowBtn]="showNowBtn"\n        [nowBtnAriaLabel]="nowBtnAriaLabel"\n        [timezones]="timezones"\n        [(timezone)]="startTimezone"\n        (timezoneChange)="startTimezoneChange.emit($event)">\n    </ux-date-time-picker>\n\n    <ux-date-time-picker\n        uxDateRangePicker\n        picker="end"\n        class="end-date-picker"\n        [date]="rangeService.end"\n        (dateChange)="endChange$.next($event)"\n        [min]="min"\n        [max]="max"\n        [weekdays]="weekdays"\n        [startOfWeek]="startOfWeek"\n        [showTime]="showTime"\n        [showTimezone]="showTimezone"\n        [showSeconds]="showSeconds"\n        [showMeridian]="showMeridian"\n        [showSpinners]="showSpinners"\n        [months]="months"\n        [monthsShort]="monthsShort"\n        [meridians]="meridians"\n        [nowBtnText]="nowBtnText"\n        [showNowBtn]="showNowBtn"\n        [nowBtnAriaLabel]="nowBtnAriaLabel"\n        [timezones]="timezones"\n        [(timezone)]="endTimezone"\n        (timezoneChange)="endTimezoneChange.emit($event)">\n    </ux-date-time-picker>\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,providers:[Yt]}]}],e.ctorParameters=function(){return[{type:Yt}]},e.propDecorators={start:[{type:n.Input}],end:[{type:n.Input}],dateFormat:[{type:n.Input}],timeFormat:[{type:n.Input}],min:[{type:n.Input}],max:[{type:n.Input}],showTimezone:[{type:n.Input}],showSeconds:[{type:n.Input}],showMeridian:[{type:n.Input}],showSpinners:[{type:n.Input}],weekdays:[{type:n.Input}],months:[{type:n.Input}],monthsShort:[{type:n.Input}],meridians:[{type:n.Input}],nowBtnText:[{type:n.Input}],showNowBtn:[{type:n.Input}],selectStartTitle:[{type:n.Input}],selectEndTitle:[{type:n.Input}],nowBtnAriaLabel:[{type:n.Input}],startPickerAriaLabel:[{type:n.Input}],endPickerAriaLabel:[{type:n.Input}],showTime:[{type:n.Input}],timezones:[{type:n.Input}],startTimezone:[{type:n.Input}],endTimezone:[{type:n.Input}],startOfWeek:[{type:n.Input}],durationTitle:[{type:n.Input}],startChange:[{type:n.Output}],endChange:[{type:n.Output}],startTimezoneChange:[{type:n.Output}],endTimezoneChange:[{type:n.Output}]},e}(),en=function(){this.picker=e.DateRangePicker.Start},tn=function(){function e(e){this._options=e}return Object.defineProperty(e.prototype,"picker",{set:function(e){this._options.picker=e},enumerable:!1,configurable:!0}),e.ctorParameters=function(){return[{type:en,decorators:[{type:n.Self}]}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxDateRangePicker]",providers:[en]}]}],e.ctorParameters=function(){return[{type:en,decorators:[{type:n.Self}]}]},e.propDecorators={picker:[{type:n.Input}]},e}(),nn=function(){function e(){}return e.prototype.transform=function(e,t){return e?"function"==typeof t?t(e):i.formatDate(e,t,navigator.language):""},e.decorators=[{type:n.Pipe,args:[{name:"formatDate"}]}],e}(),on=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[nn],declarations:[nn]}]}],e}(),rn=function(){function e(){this.showDate=!0,this.showTime=!0,this.showTimezone=!0,this.showSeconds=!1,this.showMeridian=!0,this.showSpinners=!0,this.showNowBtn=!0,this.weekdays=Gt,this.nowBtnText="Today",this.timezones=qt,this.months=Vt,this.monthsShort=Wt,this.meridians=Kt,this.min=null,this.max=null}return e.decorators=[{type:n.Injectable}],e}(),an=function(){function o(n,o,r){var a=this;this._config=n,this.mode$=new t.BehaviorSubject(e.DatePickerMode.Day),this.date$=new t.BehaviorSubject(new Date),this.timezone$=new t.BehaviorSubject(null),this.selected$=new t.BehaviorSubject(new Date),this.month$=new t.BehaviorSubject((new Date).getMonth()),this.year$=new t.BehaviorSubject((new Date).getFullYear()),this.showDate$=new t.BehaviorSubject(!this._config||this._config.showDate),this.showTime$=new t.BehaviorSubject(!this._config||this._config.showTime),this.showTimezone$=new t.BehaviorSubject(!this._config||this._config.showTimezone),this.showSeconds$=new t.BehaviorSubject(!!this._config&&this._config.showSeconds),this.showMeridian$=new t.BehaviorSubject(!this._config||this._config.showMeridian),this.showSpinners$=new t.BehaviorSubject(!this._config||this._config.showSpinners),this.showNowBtn$=new t.BehaviorSubject(!this._config||this._config.showNowBtn),this.weekdays$=new t.BehaviorSubject(this._config?this._config.weekdays:Gt),this.nowBtnText$=new t.BehaviorSubject(this._config?this._config.nowBtnText:"Today"),this.timezones$=new t.BehaviorSubject(this._config?this._config.timezones:qt),this.min$=new t.BehaviorSubject(this._config?this._config.min:null),this.max$=new t.BehaviorSubject(this._config?this._config.max:null),this.header$=new t.BehaviorSubject(null),this.headerEvent$=new t.Subject,this.modeDirection=e.ModeDirection.None,this.startOfWeek$=new t.BehaviorSubject(i.WeekDay.Sunday),this.months=this._config?this._config.months:Vt,this.monthsShort=this._config?this._config.monthsShort:Wt,this.meridians=this._config?this._config.meridians:Kt,this.initialised=!1,this._subscription=this.selected$.subscribe((function(e){e instanceof Date&&(a.setViewportMonth(e.getMonth()),a.setViewportYear(e.getFullYear())),$t(e,a.date$.value)||(o?"start"===r.picker?o.setStartDate(e):o.setEndDate(e):a.date$.next(e))}))}return o.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},o.prototype.setViewportMonth=function(e){e<0?(this.month$.next(11),this.year$.next(this.year$.value-1)):e>11?(this.month$.next(0),this.year$.next(this.year$.value+1)):this.month$.next(e)},o.prototype.setViewportYear=function(e){this.year$.next(e)},o.prototype.setDate=function(e,t,n,i,o,r){var a=new Date(this.selected$.value);a.setFullYear(n),a.setMonth(t,e),void 0!==i&&a.setHours(i),void 0!==o&&a.setMinutes(o),void 0!==r&&a.setSeconds(r),this.isInRange(a)&&this.selected$.next(a)},o.prototype.setDateToNow=function(){var e=new Date;this.isInRange(e)&&this.selected$.next(e)},o.prototype.setViewportMode=function(e){this.mode$.next(e)},o.prototype.goToChildMode=function(){switch(this.modeDirection=e.ModeDirection.Descend,this.mode$.value){case e.DatePickerMode.Year:return this.setViewportMode(e.DatePickerMode.Month);case e.DatePickerMode.Month:return this.setViewportMode(e.DatePickerMode.Day)}},o.prototype.goToParentMode=function(){switch(this.modeDirection=e.ModeDirection.Ascend,this.mode$.value){case e.DatePickerMode.Day:return this.setViewportMode(e.DatePickerMode.Month);case e.DatePickerMode.Month:return this.setViewportMode(e.DatePickerMode.Year)}},o.prototype.goToNext=function(){this.headerEvent$.next(e.DatePickerHeaderEvent.Next)},o.prototype.goToPrevious=function(){this.headerEvent$.next(e.DatePickerHeaderEvent.Previous)},o.prototype.setHeader=function(e){this.header$.next(e)},o.prototype.isTimezoneAvailable=function(e){return!(!e||!this.timezones$.value)&&-1!==this.timezones$.value.findIndex((function(t){return t.offset===e.offset&&t.name===e.name}))},o.prototype.getDefaultTimezone=function(){var e=(new Date).getTimezoneOffset();return this.timezones$.value.find((function(t){return t.offset===e}))||this.timezones$.value.find((function(e){return 0===e.offset}))||{name:"GMT",offset:0}},o.prototype.isInRange=function(e){return(!this.min$.value||e>=this.min$.value)&&(!this.max$.value||e<=this.max$.value)},o.ctorParameters=function(){return[{type:rn,decorators:[{type:n.Optional}]},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},o.decorators=[{type:n.Injectable}],o.ctorParameters=function(){return[{type:rn,decorators:[{type:n.Optional}]},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},o}();(Xt=e.DatePickerMode||(e.DatePickerMode={}))[Xt.Day=0]="Day",Xt[Xt.Month=1]="Month",Xt[Xt.Year=2]="Year",(Zt=e.ModeDirection||(e.ModeDirection={}))[Zt.None=0]="None",Zt[Zt.Ascend=1]="Ascend",Zt[Zt.Descend=2]="Descend",(Qt=e.DatePickerHeaderEvent||(e.DatePickerHeaderEvent={}))[Qt.Previous=0]="Previous",Qt[Qt.Next=1]="Next";var sn,cn=function(){function i(i,o,r){var a=this;this.datepicker=i,this._rangeService=o,this._rangeOptions=r,this.nowBtnAriaLabel="Set date to now",this.dateChange=new n.EventEmitter,this.timezoneChange=new n.EventEmitter,this.DatePickerMode=e.DatePickerMode,this._onDestroy=new t.Subject,i.selected$.pipe(s.distinctUntilChanged($t),s.takeUntil(this._onDestroy)).subscribe((function(e){return a.dateChange.emit(e)}))}return Object.defineProperty(i.prototype,"showDate",{set:function(e){void 0!==e&&this.datepicker.showDate$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showTime",{set:function(e){void 0!==e&&this.datepicker.showTime$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showTimezone",{set:function(e){void 0!==e&&this.datepicker.showTimezone$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showSeconds",{set:function(e){void 0!==e&&this.datepicker.showSeconds$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showMeridian",{set:function(e){void 0!==e&&this.datepicker.showMeridian$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showSpinners",{set:function(e){void 0!==e&&this.datepicker.showSpinners$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"weekdays",{set:function(e){void 0!==e&&this.datepicker.weekdays$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"months",{set:function(e){void 0!==e&&(this.datepicker.months=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"monthsShort",{set:function(e){void 0!==e&&(this.datepicker.monthsShort=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"meridians",{set:function(e){void 0!==e&&(this.datepicker.meridians=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"nowBtnText",{set:function(e){void 0!==e&&this.datepicker.nowBtnText$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showNowBtn",{set:function(e){void 0!==e&&this.datepicker.showNowBtn$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"timezones",{set:function(e){void 0!==e&&this.datepicker.timezones$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"startOfWeek",{set:function(e){void 0!==e&&this.datepicker.startOfWeek$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"date",{set:function(e){e&&!$t(e,this.datepicker.date$.value)&&(this._isRangeMode?(this.datepicker.date$.next(new Date(e)),this.datepicker.selected$.next(new Date(e))):this.datepicker.selected$.next(new Date(e)))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"timezone",{set:function(e){this.setTimezone(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"min",{set:function(e){this.datepicker.min$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"max",{set:function(e){this.datepicker.max$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeMode",{get:function(){return!!this._rangeOptions},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeStart",{get:function(){return this._isRangeMode&&this._rangeOptions.picker===e.DateRangePicker.Start},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeEnd",{get:function(){return this._isRangeMode&&this._rangeOptions.picker===e.DateRangePicker.End},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isTodayDisabled",{get:function(){var e=this.datepicker.min$.value,t=this.datepicker.max$.value;return!(!e&&!t)&&(e&&!t?Nt(new Date,e):!e&&t?Bt(new Date,t):Nt(new Date,e)||Bt(new Date,t))},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){this.setTimezone(this.datepicker.timezone$.value)},i.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){return e.datepicker.initialised=!0}))},i.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},i.prototype.setToNow=function(){if(this._isRangeMode){var e=new Date;this._isRangeStart&&!this._rangeService.showTime?this.datepicker.setDate(e.getDate(),e.getMonth(),e.getFullYear(),0,0,0):this._isRangeEnd&&!this._rangeService.showTime?this.datepicker.setDate(e.getDate(),e.getMonth(),e.getFullYear(),23,59,59):this.datepicker.setDate(e.getDate(),e.getMonth(),e.getFullYear(),this.datepicker.hours,this.datepicker.minutes,this.datepicker.seconds)}else this.datepicker.setDateToNow()},i.prototype._onTimezoneChange=function(e){Ht(this.datepicker.timezone$.value,e)||this.timezoneChange.emit(e)},i.prototype.setTimezone=function(e){if(!e)return this.datepicker.timezone$.next(this.datepicker.getDefaultTimezone()),void this.timezoneChange.emit(this.datepicker.timezone$.value);if(this.datepicker.isTimezoneAvailable(e))this.datepicker.timezone$.next(e);else{console.warn("ux-date-time-picker: specified timezone "+JSON.stringify(e)+" is not present in the timezones array.");var t=this.datepicker.getDefaultTimezone();this.datepicker.timezone$.value&&Ht(t,this.datepicker.timezone$.value)||(this.datepicker.timezone$.next(t),this.timezoneChange.emit(t))}},i.ctorParameters=function(){return[{type:an},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},i.decorators=[{type:n.Component,args:[{selector:"ux-date-time-picker",template:'<div class="calendar-container">\n\n  <ux-date-time-picker-header></ux-date-time-picker-header>\n\n  <ng-container *ngIf="datepicker.showDate$ | async" [ngSwitch]="datepicker.mode$ | async">\n\n        \x3c!-- Display days in the current month --\x3e\n        <ux-date-time-picker-day-view *ngSwitchCase="DatePickerMode.Day"></ux-date-time-picker-day-view>\n\n        \x3c!-- Display the months in the current year --\x3e\n        <ux-date-time-picker-month-view *ngSwitchCase="DatePickerMode.Month"></ux-date-time-picker-month-view>\n\n        \x3c!-- Display a decade --\x3e\n        <ux-date-time-picker-year-view *ngSwitchCase="DatePickerMode.Year"></ux-date-time-picker-year-view>\n\n  </ng-container>\n\n  \x3c!-- Display a Time Picker --\x3e\n  <ux-date-time-picker-time-view (timezoneChange)="_onTimezoneChange($event)"\n                                 *ngIf="datepicker.showTime$ | async"></ux-date-time-picker-time-view>\n\n</div>\n\n<button type="button"\n    *ngIf="datepicker.showNowBtn$ | async"\n    uxFocusIndicator\n    class="now-button"\n    [attr.aria-label]="nowBtnAriaLabel"\n    [disabled]="_isTodayDisabled"\n    (click)="setToNow()">\n    {{ datepicker.nowBtnText$ | async }}\n</button>',providers:[an],changeDetection:n.ChangeDetectionStrategy.OnPush}]}],i.ctorParameters=function(){return[{type:an},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},i.propDecorators={showDate:[{type:n.Input}],showTime:[{type:n.Input}],showTimezone:[{type:n.Input}],showSeconds:[{type:n.Input}],showMeridian:[{type:n.Input}],showSpinners:[{type:n.Input}],weekdays:[{type:n.Input}],months:[{type:n.Input}],monthsShort:[{type:n.Input}],meridians:[{type:n.Input}],nowBtnText:[{type:n.Input}],showNowBtn:[{type:n.Input}],timezones:[{type:n.Input}],startOfWeek:[{type:n.Input}],nowBtnAriaLabel:[{type:n.Input}],dateChange:[{type:n.Output}],timezoneChange:[{type:n.Output}],date:[{type:n.Input}],timezone:[{type:n.Input}],min:[{type:n.Input}],max:[{type:n.Input}]},i}(),ln=function(){function e(e){this._elementRef=e,this.focusIfDelay=0,this.focusIfScroll=!0,this._timeout=null}return Object.defineProperty(e.prototype,"focusIf",{set:function(e){var t=this;e||null===this._timeout||(clearTimeout(this._timeout),this._timeout=null),e&&null===this._timeout&&(this._timeout=window.setTimeout((function(){t._elementRef.nativeElement.focus({preventScroll:!t.focusIfScroll}),t._timeout=null}),this.focusIfDelay))},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){null!==this._timeout&&clearTimeout(this._timeout)},e.ctorParameters=function(){return[{type:n.ElementRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[focusIf]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef}]},e.propDecorators={focusIfDelay:[{type:n.Input}],focusIfScroll:[{type:n.Input}],focusIf:[{type:n.Input}]},e}(),un=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[ln],declarations:[ln]}]}],e}(),pn={provide:h.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return hn})),multi:!0},hn=function(){function e(e){this._changeDetector=e,this.type="text",this.placeholder="",this.disabled=!1,this.spinners=!0,this.readOnly=!0,this.scrolling=!0,this.arrowkeys=!0,this.maxLength=1/0,this.valueChange=new n.EventEmitter,this.increment=new n.EventEmitter,this.decrement=new n.EventEmitter,this.onTouchedCallback=function(){},this.onChangeCallback=function(){},this._regexKeypress=RegExp(/^[0-9.,-]+$/),this._regexPaste=RegExp(/^\-?\d+(\.\d+)?$/)}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.onChangeCallback(e),this.onTouchedCallback()},enumerable:!1,configurable:!0}),e.prototype.scroll=function(e){this.scrolling&&(e.deltaY>0?this.triggerDecrement():this.triggerIncrement(),e.preventDefault())},e.prototype.triggerIncrement=function(){this.disabled||this.increment.emit()},e.prototype.triggerDecrement=function(){this.disabled||this.decrement.emit()},e.prototype.writeValue=function(e){this.value=e,this._changeDetector.markForCheck()},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetector.markForCheck()},e.prototype.onKeypress=function(e){if("number"===this.type)return!!this._regexKeypress.test(e.key)},e.prototype.onPaste=function(e){if("number"===this.type){var t=e.clipboardData.getData("text");if(!this._regexPaste.test(t)){var n=parseFloat(t);isNaN(n)||(this.value=n),e.stopPropagation(),e.preventDefault()}}},e.prototype.onValueChange=function(e,t){"string"==typeof t&&t.length>this.maxLength&&("number"===this.type&&(t=parseFloat(t).toString()),t=t.substring(0,this.maxLength),e.value=t),this.valueChange.emit(t)},e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-spin-button",template:'<button type="button"\n        uxFocusIndicator\n        class="spin-button"\n        *ngIf="spinners"\n        tabindex="-1"\n        [disabled]="disabled"\n        [attr.aria-label]="incrementAriaLabel"\n        [attr.aria-disabled]="disabled"\n        (click)="triggerIncrement()">\n\n    <ux-icon name="up" class="spin-button-up-icon"></ux-icon>\n</button>\n\n<input #input\n       type="text"\n       role="spinbutton"\n       [min]="min"\n       [max]="max"\n       [tabindex]="0"\n       class="form-control"\n       [placeholder]="placeholder"\n       [readOnly]="readOnly"\n       [disabled]="disabled"\n       [attr.aria-label]="inputAriaLabel"\n       [attr.aria-disabled]="disabled"\n       [attr.aria-valuemin]="min"\n       [attr.aria-valuenow]="value"\n       [attr.aria-valuemax]="max"\n       [attr.aria-readonly]="readOnly"\n       [ngModel]="value"\n       (ngModelChange)="onValueChange(input, $event)"\n       (wheel)="scroll($event)"\n       (keypress)="onKeypress($event)"\n       (paste)="onPaste($event)"\n       (keydown.arrowup)="arrowkeys ? triggerIncrement() : null; $event.preventDefault()"\n       (keydown.arrowdown)="arrowkeys ? triggerDecrement() : null; $event.preventDefault()">\n\n<button type="button"\n        uxFocusIndicator\n        class="spin-button"\n        *ngIf="spinners"\n        tabindex="-1"\n        [disabled]="disabled"\n        [attr.aria-label]="decrementAriaLabel"\n        [attr.aria-disabled]="disabled"\n        (click)="triggerDecrement()">\n\n    <ux-icon name="down" class="spin-button-down-icon"></ux-icon>\n</button>\n',encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush,providers:[pn]}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.propDecorators={value:[{type:n.Input}],type:[{type:n.Input}],min:[{type:n.Input}],max:[{type:n.Input}],placeholder:[{type:n.Input}],disabled:[{type:n.Input}],spinners:[{type:n.Input}],readOnly:[{type:n.Input}],scrolling:[{type:n.Input}],arrowkeys:[{type:n.Input}],maxLength:[{type:n.Input}],incrementAriaLabel:[{type:n.Input}],inputAriaLabel:[{type:n.Input}],decrementAriaLabel:[{type:n.Input}],valueChange:[{type:n.Output}],increment:[{type:n.Output}],decrement:[{type:n.Output}]},e}(),dn=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,h.FormsModule,Pe],exports:[hn],declarations:[hn]}]}],e}(),gn={provide:h.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return fn})),multi:!0},fn=function(){function e(e){this._changeDetector=e,this.arrowkeys=!0,this.mousewheel=!0,this.disabled=!1,this.readOnly=!1,this.showMeridian=!1,this.showHours=!0,this.showMinutes=!0,this.showSeconds=!1,this.showSpinners=!0,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.meridians=["AM","PM"],this.valueChange=new n.EventEmitter,this.isValid=new n.EventEmitter,this.onTouchedCallback=function(){},this.onChangeCallback=function(){},this._value=new Date,this._isValid=!0}return Object.defineProperty(e.prototype,"value",{get:function(){return new Date(this._value)},set:function(e){this._value=new Date(e),this.valueChange.emit(this._value),this.onChangeCallback(this._value),this.onTouchedCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_meridian",{get:function(){return this._value.getHours()<12?this.meridians[0]:this.meridians[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_valid",{get:function(){return this.checkValidity(this._value)},enumerable:!1,configurable:!0}),e.prototype.writeValue=function(e){this.value=e,this._changeDetector.markForCheck()},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetector.markForCheck()},e.prototype.getMeridianTime=function(e){return e>12?e-12:e},e.prototype.setHour=function(e){var t=this.value;t.setHours(e||0),this.value=t},e.prototype.setMinute=function(e){var t=this.value;t.setMinutes(e||0),this.value=t},e.prototype.setSeconds=function(e){var t=this.value;t.setSeconds(e||0),this.value=t},e.prototype.incrementHour=function(e){void 0===e&&(e=!1),this.disabled||e&&!this.arrowkeys||this.setHour(this.value.getHours()+this.hourStep)},e.prototype.decrementHour=function(e){void 0===e&&(e=!1),this.disabled||e&&!this.arrowkeys||this.setHour(this.value.getHours()-this.hourStep)},e.prototype.incrementMinute=function(e){void 0===e&&(e=!1),this.disabled||e&&!this.arrowkeys||this.setMinute(this.value.getMinutes()+this.minuteStep)},e.prototype.decrementMinute=function(e){void 0===e&&(e=!1),this.disabled||e&&!this.arrowkeys||this.setMinute(this.value.getMinutes()-this.minuteStep)},e.prototype.incrementSecond=function(e){void 0===e&&(e=!1),this.disabled||e&&!this.arrowkeys||this.setSeconds(this.value.getSeconds()+this.secondStep)},e.prototype.decrementSecond=function(e){void 0===e&&(e=!1),this.disabled||e&&!this.arrowkeys||this.setSeconds(this.value.getSeconds()-this.secondStep)},e.prototype.selectMeridian=function(e){var t=this.value.getHours();e===this.meridians[0]&&t>=12&&this.setHour(t-12),e===this.meridians[1]&&t<12&&this.setHour(t+12)},e.prototype.checkValidity=function(e){var t=!0,n=this.normalizeDate(this.min,e),i=this.normalizeDate(this.max,e);return(n&&e.getTime()<n.getTime()||i&&e.getTime()>i.getTime())&&(t=!1),t!==this._isValid&&(this._isValid=t,this.isValid.emit(t)),t},e.prototype.hourChange=function(e){if(!e||""!==e.trim()){var t=parseInt(e);isNaN(t)||(t<0&&(t=0),t>(this.showMeridian?12:23)&&(t=this.showMeridian?12:23));var n=this.value.getHours();t!==n&&(t=isNaN(t)?n:t,this.showMeridian&&(this._meridian===this.meridians[0]&&t>=12&&(t-=12),this._meridian===this.meridians[1]&&t<12&&(t+=12)),this.setHour(t))}},e.prototype.minuteChange=function(e){var t=parseInt(e),n=this.value.getMinutes();t!==n&&(isNaN(t)||(t<0&&(t=59),t>59&&(t=0)),this.setMinute(isNaN(t)?n:t))},e.prototype.secondChange=function(e){var t=parseInt(e),n=this.value.getSeconds();t!==n&&(isNaN(t)||(t<0&&(t=0),t>59&&(t=59)),this.setSeconds(isNaN(t)?n:t))},e.prototype.normalizeDate=function(e,t){if(!e)return null;var n=new Date(e);return n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()),n.setDate(t.getDate()),n},e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-time-picker",template:'<div class="time-picker" aria-label="Time picker">\n\n    <div class="time-picker-column time-hours-picker" [class.has-error]="!_valid" *ngIf="showHours">\n\n        <ux-spin-button\n            type="number"\n            class="time-spinner"\n            placeholder="HH"\n            [maxLength]="2"\n            [min]="0"\n            [max]="showMeridian ? 12 : 23"\n            [value]="value | date: showMeridian ? \'h\' : \'HH\'"\n            (valueChange)="hourChange($event)"\n            [spinners]="showSpinners"\n            [disabled]="disabled"\n            [readOnly]="readOnly"\n            inputAriaLabel="hour"\n            incrementAriaLabel="Increment the hour"\n            decrementAriaLabel="Decrement the hour"\n            (increment)="incrementHour()"\n            (decrement)="decrementHour()">\n        </ux-spin-button>\n\n    </div>\n\n    <div class="time-picker-separator" *ngIf="showMinutes">:</div>\n\n    <div class="time-picker-column time-minutes-picker" [class.has-error]="!_valid" *ngIf="showMinutes">\n\n        <ux-spin-button\n            type="number"\n            class="time-spinner"\n            placeholder="MM"\n            [maxLength]="2"\n            [min]="0"\n            [max]="59"\n            [value]="value | date: \'mm\'"\n            (valueChange)="minuteChange($event)"\n            [spinners]="showSpinners"\n            [disabled]="disabled"\n            [readOnly]="readOnly"\n            inputAriaLabel="minute"\n            incrementAriaLabel="Increment the minute"\n            decrementAriaLabel="Decrement the minute"\n            (increment)="incrementMinute()"\n            (decrement)="decrementMinute()">\n        </ux-spin-button>\n\n    </div>\n\n    <div class="time-picker-separator" *ngIf="showSeconds">:</div>\n\n    <div class="time-picker-column time-seconds-picker" [class.has-error]="!_valid" *ngIf="showSeconds">\n\n        <ux-spin-button\n            type="number"\n            class="time-spinner"\n            placeholder="SS"\n            [maxLength]="2"\n            [min]="0"\n            [max]="59"\n            [value]="value | date: \'ss\'"\n            (valueChange)="secondChange($event)"\n            [spinners]="showSpinners"\n            [disabled]="disabled"\n            [readOnly]="readOnly"\n            inputAriaLabel="seconds"\n            incrementAriaLabel="Increment the second"\n            decrementAriaLabel="Decrement the second"\n            (increment)="incrementSecond()"\n            (decrement)="decrementSecond()">\n        </ux-spin-button>\n\n    </div>\n</div>\n\n<div class="time-picker-meridian" *ngIf="showMeridian">\n\n    <div class="btn-group" role="radiogroup">\n\n        <button type="button"\n                class="btn button-toggle-accent"\n                *ngFor="let meridian of meridians"\n                role="radio"\n                tabindex="0"\n                [disabled]="disabled"\n                (click)="selectMeridian(meridian)"\n                [class.active]="meridian === _meridian"\n                [attr.aria-label]="meridian"\n                [attr.aria-checked]="meridian === _meridian"\n                [attr.aria-disabled]="disabled">\n                {{ meridian }}\n        </button>\n\n    </div>\n</div>\n',encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush,providers:[gn],host:{"aria-label":"Time Picker"}}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.propDecorators={arrowkeys:[{type:n.Input}],mousewheel:[{type:n.Input}],disabled:[{type:n.Input}],readOnly:[{type:n.Input}],showMeridian:[{type:n.Input}],showHours:[{type:n.Input}],showMinutes:[{type:n.Input}],showSeconds:[{type:n.Input}],showSpinners:[{type:n.Input}],hourStep:[{type:n.Input}],minuteStep:[{type:n.Input}],secondStep:[{type:n.Input}],min:[{type:n.Input}],max:[{type:n.Input}],meridians:[{type:n.Input}],value:[{type:n.Input}],valueChange:[{type:n.Output}],isValid:[{type:n.Output}]},e}(),yn=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,h.FormsModule,dn],exports:[fn],declarations:[fn]}]}],e}(),mn=function(){function o(e){var n=this;this._datepicker=e,this.grid$=new t.BehaviorSubject([[]]),this.focused$=new t.BehaviorSubject(null),this._subscription=t.combineLatest(e.month$,e.year$,e.startOfWeek$).subscribe((function(e){var t=R(e,2);return n.createDayGrid(t[0],t[1])}))}return o.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},o.prototype.setFocus=function(e,t,n){this.focused$.next({day:e,month:t,year:n}),this._datepicker.setViewportMonth(t),this._datepicker.setViewportYear(n)},o.prototype.createDayGrid=function(t,n){var o=this;this._datepicker.setHeader(this._datepicker.months[t]+" "+n);for(var r=new Date(n,t,1),a=new Date(n,t+1,0),s=Math.min(i.WeekDay.Saturday,Math.max(i.WeekDay.Sunday,this._datepicker.startOfWeek$.value));r.getDay()!==s;)r.setDate(r.getDate()-1);a.setDate(a.getDate()+(6-a.getDay()));var c=Mt(r,a).map((function(e){return{day:e.getDate(),month:e.getMonth(),year:e.getFullYear(),date:e,isToday:o.isToday(e),isActive:o.isActive(e),isCurrentMonth:e.getMonth()===t}})),l=Rt(c,7);if(this.grid$.next(l),(this._datepicker.modeDirection===e.ModeDirection.None||this._datepicker.modeDirection===e.ModeDirection.Descend)&&null===this.focused$.value){var u=c.find((function(e){return e.isCurrentMonth&&e.isActive}));if(u)this.setFocus(u.day,u.month,u.year);else{var p=c.find((function(e){return 1===e.day}));this.setFocus(p.day,p.month,p.year)}}},o.prototype.isToday=function(e){return Lt(new Date,e)},o.prototype.isActive=function(e){return!!this._datepicker.selected$.value&&Lt(this._datepicker.selected$.value,e)},o.ctorParameters=function(){return[{type:an}]},o.decorators=[{type:n.Injectable}],o.ctorParameters=function(){return[{type:an}]},o}(),vn=function(){function i(n,i,o,r,a,c,l){var u=this;this.datePicker=n,this.dayService=i,this._changeDetector=o,this._focusOrigin=r,this._liveAnnouncer=a,this._rangeService=c,this._rangeOptions=l,this._onDestroy=new t.Subject,n.headerEvent$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){return t===e.DatePickerHeaderEvent.Next?u.next():u.previous()})),c&&(t.merge(c.onRangeChange,c.onHoverChange).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return o.detectChanges()})),c.onStartChange.pipe(s.takeUntil(this._onDestroy),s.filter((function(e){return!!e&&u._isRangeEnd&&u.datePicker.initialised})),s.delay(0)).subscribe((function(e){return u.onRangeChange(e)})),c.onEndChange.pipe(s.takeUntil(this._onDestroy),s.filter((function(e){return!!e&&u._isRangeStart&&u.datePicker.initialised})),s.delay(0)).subscribe((function(e){return u.onRangeChange(e)})),c.onClear.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return u.datePicker.selected$.next(null)})))}return Object.defineProperty(i.prototype,"_isRangeMode",{get:function(){return!!this._rangeOptions},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeStart",{get:function(){return this._isRangeMode&&this._rangeOptions.picker===e.DateRangePicker.Start},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeEnd",{get:function(){return this._isRangeMode&&this._rangeOptions.picker===e.DateRangePicker.End},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_rangeStart",{get:function(){return this._isRangeMode&&this._rangeService?this._rangeService.start:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_rangeEnd",{get:function(){return this._isRangeMode&&this._rangeService?this._rangeService.end:null},enumerable:!1,configurable:!0}),i.prototype.ngAfterViewInit=function(){var e=this;t.merge(this.datePicker.min$,this.datePicker.max$).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e._changeDetector.detectChanges()})),!this.datePicker.initialised&&this._rangeStart&&!this._rangeEnd&&this._isRangeEnd&&this.onRangeChange(this._rangeStart),!this.datePicker.initialised&&this._rangeEnd&&!this._rangeStart&&this._isRangeStart&&this.onRangeChange(this._rangeEnd)},i.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},i.prototype.previous=function(){this.datePicker.setViewportMonth(this.datePicker.month$.value-1)},i.prototype.next=function(){this.datePicker.setViewportMonth(this.datePicker.month$.value+1)},i.prototype.select=function(e){return!this._isRangeMode||this._rangeStart||this._rangeEnd||this._rangeService.clear(),this._isRangeMode&&this._isRangeStart&&this._rangeStart&&Lt(this._rangeStart,e)?(this._rangeService.setStartDate(null),void this.datePicker.selected$.next(null)):this._isRangeMode&&this._isRangeEnd&&this._rangeEnd&&Lt(this._rangeEnd,e)?(this._rangeService.setEndDate(null),void this.datePicker.selected$.next(null)):(this._isRangeMode?this._isRangeStart&&!this._rangeService.showTime?this.datePicker.setDate(e.getDate(),e.getMonth(),e.getFullYear(),0,0,0):this._isRangeEnd&&!this._rangeService.showTime?this.datePicker.setDate(e.getDate(),e.getMonth(),e.getFullYear(),23,59,59):this.datePicker.setDate(e.getDate(),e.getMonth(),e.getFullYear(),this.datePicker.hours,this.datePicker.minutes,this.datePicker.seconds):this.datePicker.setDate(e.getDate(),e.getMonth(),e.getFullYear()),this.dayService.setFocus(e.getDate(),e.getMonth(),e.getFullYear()),this._isRangeMode&&this._isRangeStart&&this._rangeStart&&this._rangeEnd&&this._rangeStart.getTime()>this._rangeEnd.getTime()&&this._rangeService.setEndDate(null),void(this._isRangeMode&&this._isRangeEnd&&this._rangeStart&&this._rangeEnd&&this._rangeEnd.getTime()<this._rangeStart.getTime()&&this._rangeService.setStartDate(null)))},i.prototype.trackWeekByFn=function(e){return e},i.prototype.trackDayByFn=function(e,t){return t.day+" "+t.month+" "+t.year},i.prototype.focusDate=function(e,t){var n=new Date(e.date.setDate(e.date.getDate()+t));this._focusOrigin.setOrigin("keyboard"),this.dayService.setFocus(n.getDate(),n.getMonth(),n.getFullYear())},i.prototype.getTabbable=function(e){var t,n,i,o,r=this.dayService.focused$.value,a=this.dayService.grid$.value,s=this.datePicker.month$.value;if(r&&a.find((function(e){return!!e.find((function(e){return e.day===r.day&&e.month===r.month&&e.year===r.year&&e.month===s}))})))return r.day===e.day&&r.month===e.month&&r.year===e.year;if(a.find((function(e){return!!e.find((function(e){return e.isActive}))})))return e.isActive;try{for(var c=E(a),l=c.next();!l.done;l=c.next()){var u=l.value;try{for(var p=(i=void 0,E(u)),h=p.next();!h.done;h=p.next()){var d=h.value;if(d===e&&d.month===s&&!this.getDisabled(d.date))return!0}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return!1},i.prototype.getDisabled=function(e){if(this._isRangeMode){if(this._isRangeStart&&!this._rangeStart&&this._rangeEnd&&Bt(e,this._rangeEnd))return!0;if(this._isRangeEnd&&!this._rangeEnd&&this._rangeStart&&Nt(e,this._rangeStart))return!0}return!(!this.datePicker.min$.value||!Nt(e,this.datePicker.min$.value))||!(!this.datePicker.max$.value||!Bt(e,this.datePicker.max$.value))},i.prototype.isRangeStartDate=function(e){return this._isRangeMode&&this._rangeStart&&Lt(e,this._rangeStart)},i.prototype.isRangeEndDate=function(e){return this._isRangeMode&&this._rangeEnd&&Lt(e,this._rangeEnd)},i.prototype.isWithinRange=function(e){return this._isRangeMode&&this._rangeStart&&Bt(e,this._rangeStart)&&Nt(e,this._rangeEnd)},i.prototype.isDateHovered=function(e){if(this._isRangeMode&&this._rangeService.hover&&(!this._rangeStart||!this._rangeEnd))return this._rangeStart&&Bt(e,this._rangeStart)&&Nt(e,this._rangeService.hover,!0)||this._rangeEnd&&Nt(e,this._rangeEnd)&&Bt(e,this._rangeService.hover,!0)},i.prototype.isItemActive=function(e,t){return this._isRangeMode?this._isRangeStart&&this._rangeStart&&Lt(this._rangeStart,e)||this._isRangeEnd&&this._rangeEnd&&Lt(this._rangeEnd,e):t},i.prototype.onRangeMouseEnter=function(e){this._isRangeMode&&this._rangeService.setDateMouseEnter(e)},i.prototype.onRangeMouseLeave=function(e){this._isRangeMode&&this._rangeService.setDateMouseLeave(e)},i.prototype.announceRangeMode=function(){this._isRangeMode&&this._liveAnnouncer.announce(this._isRangeStart?this._rangeService.startPickerAriaLabel:this._rangeService.endPickerAriaLabel)},i.prototype.shouldFocus=function(e){if(!this.datePicker.initialised&&this._isRangeEnd||this._rangeService&&this._rangeService.isChangingTime)return!1;var t=this.dayService.focused$.value;return t.day===e.day&&t.month===e.month&&t.year===e.year&&e.isCurrentMonth},i.prototype.onRangeChange=function(e){if(this._isRangeStart&&!this._rangeStart||this._isRangeEnd&&!this._rangeEnd){var t=new Date(this.datePicker.year$.value,this.datePicker.month$.value),n=this._isRangeStart&&!this._rangeStart&&(t.getFullYear()>e.getFullYear()||t.getFullYear()===e.getFullYear()&&t.getMonth()>e.getMonth()),i=this._isRangeEnd&&!this._rangeEnd&&(t.getFullYear()<e.getFullYear()||t.getFullYear()===e.getFullYear()&&t.getMonth()<e.getMonth());(n||i)&&(this.datePicker.setViewportMonth(e.getMonth()),this.datePicker.setViewportYear(e.getFullYear()),this.dayService.setFocus(e.getDate(),e.getMonth(),e.getFullYear()),this._changeDetector.detectChanges())}},i.ctorParameters=function(){return[{type:an},{type:mn},{type:n.ChangeDetectorRef},{type:ne},{type:o.LiveAnnouncer},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},i.decorators=[{type:n.Component,args:[{selector:"ux-date-time-picker-day-view",template:'<table class="calendar">\n    <thead>\n        <tr>\n            <th *ngFor="let day of datePicker.weekdays$ | async | weekDaySort: (datePicker.startOfWeek$ | async)" class="weekday" [attr.aria-label]="day">{{ day }}</th>\n        </tr>\n    </thead>\n\n    <tbody role="grid">\n        <tr role="row" *ngFor="let row of dayService.grid$ | async; trackBy: trackWeekByFn">\n\n            <td *ngFor="let item of row; trackBy: trackDayByFn" class="date-cell" role="gridcell">\n\n                <button type="button"\n                        uxFocusIndicator\n                        uxFocusIndicatorOrigin\n                        class="date-button"\n                        [class.range-start]="isRangeStartDate(item.date)"\n                        [class.range-between]="isWithinRange(item.date) || isDateHovered(item.date)"\n                        [class.range-end]="isRangeEndDate(item.date)"\n                        [focusIf]="shouldFocus(item)"\n                        [attr.aria-label]="item.date | date"\n                        [attr.aria-selected]="isItemActive(item.date, item.isActive)"\n                        [attr.aria-hidden]="!item.isCurrentMonth"\n                        [class.current]="item.isToday"\n                        [class.active]="isItemActive(item.date, item.isActive) && !getDisabled(item.date)"\n                        [class.preview]="!item.isCurrentMonth"\n                        [tabindex]="getTabbable(item) ? 0 : -1"\n                        [disabled]="getDisabled(item.date)"\n                        (click)="select(item.date); $event.stopPropagation()"\n                        (mouseenter)="onRangeMouseEnter(item.date)"\n                        (mouseleave)="onRangeMouseLeave(item.date)"\n                        (keydown.ArrowLeft)="focusDate(item, -1); $event.preventDefault()"\n                        (keydown.ArrowRight)="focusDate(item, 1); $event.preventDefault()"\n                        (keydown.ArrowUp)="focusDate(item, -7); $event.preventDefault()"\n                        (keydown.ArrowDown)="focusDate(item, 7); $event.preventDefault()"\n                        (focus)="announceRangeMode()">\n\n                    {{ item.date.getDate() }}\n                </button>\n\n            </td>\n        </tr>\n    </tbody>\n</table>',providers:[mn],changeDetection:n.ChangeDetectionStrategy.OnPush}]}],i.ctorParameters=function(){return[{type:an},{type:mn},{type:n.ChangeDetectorRef},{type:ne},{type:o.LiveAnnouncer},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},i}(),bn=function(){function i(n,i,o,r){this.datepicker=n,this._changeDetector=i,this._rangeService=o,this._rangeOptions=r,this.canAscend$=this.datepicker.mode$.pipe(s.map((function(t){return t!==e.DatePickerMode.Year}))),this.mode$=this.datepicker.mode$.pipe(s.map((function(t){switch(t){case e.DatePickerMode.Day:return"Day";case e.DatePickerMode.Month:return"Month";case e.DatePickerMode.Year:return"Year"}}))),this.headerAria$=this.datepicker.mode$.pipe(s.map((function(t){switch(t){case e.DatePickerMode.Day:return"Switch to show months in the year";case e.DatePickerMode.Month:return"Switch to show years in the decade";case e.DatePickerMode.Year:return""}}))),this.previousAria$=this.datepicker.mode$.pipe(s.map((function(t){switch(t){case e.DatePickerMode.Day:return"Previous month";case e.DatePickerMode.Month:return"Previous year";case e.DatePickerMode.Year:return"Previous decade"}}))),this.nextAria$=this.datepicker.mode$.pipe(s.map((function(t){switch(t){case e.DatePickerMode.Day:return"Next month";case e.DatePickerMode.Month:return"Next year";case e.DatePickerMode.Year:return"Next decade"}}))),this._onDestroy=new t.Subject,this._rangeService&&this._rangeService.onRangeChange.pipe(s.delay(100),s.takeUntil(this._onDestroy)).subscribe((function(){return i.detectChanges()}))}return Object.defineProperty(i.prototype,"_isRangeMode",{get:function(){return!!this._rangeOptions},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeStart",{get:function(){return this._isRangeMode&&this._rangeOptions.picker===e.DateRangePicker.Start},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeEnd",{get:function(){return this._isRangeMode&&this._rangeOptions.picker===e.DateRangePicker.End},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_rangeStart",{get:function(){return this._isRangeMode&&this._rangeService?this._rangeService.start:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_rangeEnd",{get:function(){return this._isRangeMode&&this._rangeService?this._rangeService.end:null},enumerable:!1,configurable:!0}),i.prototype.ngAfterViewInit=function(){var e=this;t.merge(this.datepicker.min$,this.datepicker.max$).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e._changeDetector.detectChanges()}))},i.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},i.prototype.previous=function(){this.datepicker.goToPrevious()},i.prototype.ascend=function(){this.datepicker.goToParentMode()},i.prototype.next=function(){this.datepicker.goToNext()},i.prototype.isPreviousDisabled=function(){var e=this.datepicker.min$.value;return!(!e||!this._isBeforeView(e))||!(!this._isRangeMode||this._rangeStart&&this._rangeEnd||!this._rangeStart&&!this._rangeEnd||this._isRangeStart||this._isRangeEnd&&this._rangeEnd)&&!!this._isBeforeView(this._rangeStart)},i.prototype.isNextDisabled=function(){var e=this.datepicker.max$.value;return!(!e||!this._isAfterView(e))||!(!this._isRangeMode||this._rangeStart&&this._rangeEnd||!this._rangeStart&&!this._rangeEnd||this._isRangeStart&&this._rangeStart||this._isRangeEnd)&&!!this._isAfterView(this._rangeEnd)},i.prototype._isBeforeView=function(t){var n=this.datepicker.month$.value,i=this.datepicker.year$.value,o=this.datepicker.mode$.value,r=this.datepicker.yearRange;return o===e.DatePickerMode.Day?i<=t.getFullYear()&&n<=t.getMonth():o===e.DatePickerMode.Month?i<=t.getFullYear():o===e.DatePickerMode.Year?r.start<=t.getFullYear():void 0},i.prototype._isAfterView=function(t){var n=this.datepicker.month$.value,i=this.datepicker.year$.value,o=this.datepicker.mode$.value,r=this.datepicker.yearRange;return o===e.DatePickerMode.Day?i>=t.getFullYear()&&n>=t.getMonth():o===e.DatePickerMode.Month?i>=t.getFullYear():o===e.DatePickerMode.Year?r.end>=t.getFullYear():void 0},i.ctorParameters=function(){return[{type:an},{type:n.ChangeDetectorRef},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},i.decorators=[{type:n.Component,args:[{selector:"ux-date-time-picker-header",template:'<header class="header">\n\n  <button type="button"\n          uxFocusIndicator\n          [disabled]="isPreviousDisabled()"\n          class="header-navigation"\n          (click)="previous(); $event.stopPropagation()"\n          [attr.aria-label]="previousAria$ | async"\n          tabindex="0">\n\n    <ux-icon name="previous" class="header-navigation-previous-icon"></ux-icon>\n  </button>\n\n  <button type="button"\n          uxFocusIndicator\n          class="header-title"\n          [attr.aria-label]="headerAria$ | async"\n          [class.active]="canAscend$ | async"\n          (click)="ascend(); $event.stopPropagation()"\n          [tabindex]="(canAscend$ | async) ? 0 : -1">\n       {{ datepicker.header$ | async }}\n  </button>\n\n  <button type="button"\n          uxFocusIndicator\n          [disabled]="isNextDisabled()"\n          class="header-navigation"\n          (click)="next(); $event.stopPropagation()"\n          [attr.aria-label]="nextAria$ | async"\n          tabindex="0">\n\n    <ux-icon name="next" class="header-navigation-next-icon"></ux-icon>\n  </button>\n</header>',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],i.ctorParameters=function(){return[{type:an},{type:n.ChangeDetectorRef},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},i}(),_n=function(){function i(e){var n=this;this._datepicker=e,this.grid$=new t.BehaviorSubject([[]]),this.focused$=new t.BehaviorSubject(null),this._subscription=e.year$.subscribe((function(e){return n.createMonthGrid(e)}))}return i.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},i.prototype.setFocus=function(e,t){this.focused$.next({month:e,year:t}),this._datepicker.setViewportYear(t)},i.prototype.createMonthGrid=function(t){var n=this;this._datepicker.setHeader(t.toString());var i=(new Date).getMonth(),o=(new Date).getFullYear(),r=this._datepicker.selected$.value?this._datepicker.selected$.value.getMonth():null,a=this._datepicker.selected$.value?this._datepicker.selected$.value.getFullYear():null,s=At(0,11).map((function(e){return{name:n._datepicker.monthsShort[e],month:e,year:t,isCurrentMonth:t===o&&e===i,isActiveMonth:t===a&&e===r}})),c=Rt(s,4);if(this.grid$.next(c),this._datepicker.modeDirection===e.ModeDirection.Descend&&null===this.focused$.value){var l=s.find((function(e){return e.isActiveMonth}));this.setFocus(l?l.month:0,t)}},i.ctorParameters=function(){return[{type:an}]},i.decorators=[{type:n.Injectable}],i.ctorParameters=function(){return[{type:an}]},i}(),xn=function(){function i(n,i,o,r,a,c){var l,u,p,h,d=this;if(this._datePicker=n,this.monthService=i,this._liveAnnouncer=o,this._changeDetector=r,this._rangeService=a,this._rangeOptions=c,this._onDestroy=new t.Subject,n.headerEvent$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){return t===e.DatePickerHeaderEvent.Next?d.next():d.previous()})),this._rangeService&&this._rangeService.onRangeChange.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return r.detectChanges()})),this.monthService.focused$.value&&this.getDisabled(this.monthService.focused$.value))try{for(var g=E(this.monthService.grid$.value),f=g.next();!f.done;f=g.next()){var y=f.value;try{for(var m=(p=void 0,E(y)),v=m.next();!v.done;v=m.next()){var b=v.value;if(!this.getDisabled(b))return void this.monthService.setFocus(b.month,b.year)}}catch(_){p={error:_}}finally{try{v&&!v.done&&(h=m.return)&&h.call(m)}finally{if(p)throw p.error}}}}catch(x){l={error:x}}finally{try{f&&!f.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}}return Object.defineProperty(i.prototype,"_isRangeMode",{get:function(){return!!this._rangeOptions},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeStart",{get:function(){return this._isRangeMode&&this._rangeOptions.picker===e.DateRangePicker.Start},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeEnd",{get:function(){return this._isRangeMode&&this._rangeOptions.picker===e.DateRangePicker.End},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_rangeStart",{get:function(){return this._isRangeMode&&this._rangeService?this._rangeService.start:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_rangeEnd",{get:function(){return this._isRangeMode&&this._rangeService?this._rangeService.end:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_minMonth",{get:function(){return this._datePicker.min$.value?new Date(this._datePicker.min$.value.getFullYear(),this._datePicker.min$.value.getMonth()):null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_maxMonth",{get:function(){return this._datePicker.max$.value?new Date(this._datePicker.max$.value.getFullYear(),this._datePicker.max$.value.getMonth()):null},enumerable:!1,configurable:!0}),i.prototype.ngAfterViewInit=function(){var e=this;t.merge(this._datePicker.min$,this._datePicker.max$).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e._changeDetector.detectChanges()}))},i.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},i.prototype.getDisabled=function(e){var t=new Date(e.year,e.month);if(this._isRangeMode){if(this._isRangeStart&&!this._rangeStart&&this._rangeEnd&&Bt(t,new Date(this._rangeEnd.getFullYear(),this._rangeEnd.getMonth())))return!0;if(this._isRangeEnd&&!this._rangeEnd&&this._rangeStart&&Nt(t,new Date(this._rangeStart.getFullYear(),this._rangeStart.getMonth())))return!0}return!(!this._minMonth||!Nt(t,this._minMonth))||!(!this._maxMonth||!Bt(t,this._maxMonth))},i.prototype.previous=function(){this._datePicker.setViewportYear(this._datePicker.year$.value-1)},i.prototype.next=function(){this._datePicker.setViewportYear(this._datePicker.year$.value+1)},i.prototype.select=function(e){this._datePicker.setViewportMonth(e),this._datePicker.goToChildMode()},i.prototype.focusMonth=function(e,t){var n=e.month+t,i=e.year;n<0&&(n+=12,i-=1),n>=12&&(n-=12,i+=1),this.monthService.setFocus(n,i)},i.prototype.trackRowByFn=function(e){return e},i.prototype.trackMonthByFn=function(e,t){return t.month+" "+t.year},i.prototype.getTabbable=function(e){var t,n,i,o,r=this.monthService.focused$.value,a=this.monthService.grid$.value;if(r&&a.find((function(e){return!!e.find((function(e){return e.month===r.month&&e.year===r.year}))})))return r.month===e.month&&r.year===e.year;if(a.find((function(e){return!!e.find((function(e){return e.isActiveMonth}))})))return e.isActiveMonth;try{for(var s=E(a),c=s.next();!c.done;c=s.next()){var l=c.value;try{for(var u=(i=void 0,E(l)),p=u.next();!p.done;p=u.next()){var h=p.value;if(!this.getDisabled(h))return e===h}}catch(d){i={error:d}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!1},i.prototype.announceRangeMode=function(){this._isRangeMode&&this._liveAnnouncer.announce(this._isRangeStart?this._rangeService.startPickerAriaLabel:this._rangeService.endPickerAriaLabel)},i.prototype.shouldFocus=function(e){var t=this.monthService.focused$.value;if(t)return t.month===e.month&&t.year===e.year},i.ctorParameters=function(){return[{type:an},{type:_n},{type:o.LiveAnnouncer},{type:n.ChangeDetectorRef},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},i.decorators=[{type:n.Component,args:[{selector:"ux-date-time-picker-month-view",template:'<div class="calendar" role="grid">\n  <div class="calendar-row" *ngFor="let row of monthService.grid$ | async; trackBy: trackRowByFn" role="row">\n\n    <button type="button"\n         uxFocusIndicator\n         uxFocusIndicatorOrigin\n         [programmaticFocusIndicator]="true"\n         role="gridcell"\n         class="calendar-item"\n         *ngFor="let item of row; trackBy: trackMonthByFn"\n         [focusIf]="shouldFocus(item)"\n         [disabled]="getDisabled(item)"\n         [tabindex]="getTabbable(item) ? 0 : -1"\n         [attr.aria-label]="item.name + \' \' + item.year"\n         [attr.aria-selected]="item.isActiveMonth"\n         [class.active]="item.isActiveMonth && !getDisabled(item)"\n         [class.current]="item.isCurrentMonth"\n         (click)="select(item.month); $event.stopPropagation()"\n         (focus)="announceRangeMode()"\n         (keydown.ArrowLeft)="focusMonth(item, -1); $event.preventDefault()"\n         (keydown.ArrowRight)="focusMonth(item, 1); $event.preventDefault()"\n         (keydown.ArrowUp)="focusMonth(item, -4); $event.preventDefault()"\n         (keydown.ArrowDown)="focusMonth(item, 4); $event.preventDefault()">\n         {{ item.name }}\n    </button>\n  </div>\n</div>\n',providers:[_n],changeDetection:n.ChangeDetectionStrategy.OnPush}]}],i.ctorParameters=function(){return[{type:an},{type:_n},{type:o.LiveAnnouncer},{type:n.ChangeDetectorRef},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},i}(),wn=function(){function e(){}return e.prototype.transform=function(e,t){t=Math.max(i.WeekDay.Sunday,Math.min(i.WeekDay.Saturday,t));for(var n=A(e),o=0;o<t;o++)n.push(n.shift());return n},e.decorators=[{type:n.Pipe,args:[{name:"weekDaySort"}]}],e}(),Sn=function(){function i(e,i,o,r){var a=this;this.datepicker=e,this._changeDetector=i,this._rangeService=o,this._rangeOptions=r,this.min=null,this.max=null,this.timezoneChange=new n.EventEmitter,this._onDestroy=new t.Subject,e.date$.pipe(s.filter((function(e){return e&&a.value instanceof Date})),s.takeUntil(this._onDestroy)).subscribe((function(e){a.value=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()),i.detectChanges()})),this._isRangeMode||e.selected$.pipe(s.filter((function(e){return!!e})),s.takeUntil(this._onDestroy)).subscribe((function(e){return a.value=new Date(e)})),this._isRangeMode&&this._isRangeStart&&(this.value=new Date,this._rangeStart?this.value.setHours(this._rangeStart.getHours(),this._rangeStart.getMinutes(),this._rangeStart.getSeconds()):this.value.setHours(0,0,0,0)),this._isRangeMode&&this._isRangeEnd&&(this.value=new Date,this._rangeEnd?this.value.setHours(this._rangeEnd.getHours(),this._rangeEnd.getMinutes(),this._rangeEnd.getSeconds()):this.value.setHours(23,59,59,0))}return Object.defineProperty(i.prototype,"_isRangeMode",{get:function(){return!!this._rangeOptions},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeStart",{get:function(){return this._isRangeMode&&this._rangeOptions.picker===e.DateRangePicker.Start},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeEnd",{get:function(){return this._isRangeMode&&this._rangeOptions.picker===e.DateRangePicker.End},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_rangeStart",{get:function(){return this._isRangeMode&&this._rangeService?this._rangeService.start:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_rangeEnd",{get:function(){return this._isRangeMode&&this._rangeService?this._rangeService.end:null},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){var e=this;t.combineLatest(this.datepicker.min$,this.datepicker.date$).pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){var n=R(t,2),i=n[0],o=n[1];e.min=i&&o&&Lt(o,i)?i:null,e._changeDetector.detectChanges()})),t.combineLatest(this.datepicker.max$,this.datepicker.date$).pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){var n=R(t,2),i=n[0],o=n[1];e.max=i&&o&&Lt(o,i)?i:null,e._changeDetector.detectChanges()}))},i.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},i.prototype.onTimeChange=function(e){if(this._isRangeMode){if(this.datepicker.hours=e.getHours(),this.datepicker.minutes=e.getMinutes(),this.datepicker.seconds=e.getSeconds(),this._isRangeStart?this._rangeService.startTime={hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()}:this._rangeService.endTime={hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()},this._isRangeStart&&this._rangeStart){var t=new Date(this._rangeStart);t.setHours(e.getHours(),e.getMinutes(),e.getSeconds()),this._rangeService.setStartDate(t)}if(this._isRangeEnd&&this._rangeEnd){var n=new Date(this._rangeEnd);n.setHours(e.getHours(),e.getMinutes(),e.getSeconds()),this._rangeService.setEndDate(n)}}else if(this.datepicker.selected$.value){var i=new Date(this.datepicker.selected$.value);i.setHours(e.getHours(),e.getMinutes(),e.getSeconds()),this.datepicker.selected$.next(i)}},i.prototype.selectTimezone=function(e){var t=this.datepicker.timezones$.value.find((function(t){return t.name===e}));t&&this.timezoneChange.emit(t)},i.prototype.incrementTimezone=function(){var e=this.datepicker.timezone$.value,t=this.datepicker.timezones$.value,n=t.findIndex((function(t){return t.name===e.name&&t.offset===e.offset}));this.timezoneChange.emit(t[n+1]?t[n+1]:t[n])},i.prototype.decrementTimezone=function(){var e=this.datepicker.timezone$.value,t=this.datepicker.timezones$.value,n=t.findIndex((function(t){return t.name===e.name&&t.offset===e.offset}));this.timezoneChange.emit(t[n-1]?t[n-1]:t[n])},i.prototype.onFocusWithin=function(){this._isRangeMode&&(this._rangeService.isChangingTime=!0)},i.prototype.onFocusOut=function(){this._isRangeMode&&(this._rangeService.isChangingTime=!1)},i.ctorParameters=function(){return[{type:an},{type:n.ChangeDetectorRef},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},i.decorators=[{type:n.Component,args:[{selector:"ux-date-time-picker-time-view",template:'<ux-time-picker *ngIf="datepicker.showTime$ | async"\n    [value]="value"\n    (valueChange)="onTimeChange($event)"\n    [showSeconds]="datepicker.showSeconds$ | async"\n    [showMeridian]="datepicker.showMeridian$ | async"\n    [showSpinners]="datepicker.showSpinners$ | async"\n    [meridians]="datepicker.meridians"\n    [min]="min"\n    [max]="max">\n</ux-time-picker>\n\n<ng-container *ngIf="datepicker.showTimezone$ | async">\n\n    <div class="time-zone-picker" *ngIf="datepicker.showSpinners$ | async">\n\n        <ux-spin-button\n            class="time-zone-spinner"\n            [value]="(datepicker.timezone$ | async)?.name"\n            [readOnly]="true"\n            (increment)="incrementTimezone()"\n            (decrement)="decrementTimezone()"\n            inputAriaLabel="Time Zone"\n            incrementAriaLabel="Switch to the next time zone"\n            decrementAriaLabel="Switch to the previous time zone">\n        </ux-spin-button>\n    </div>\n\n    <div class="time-zone-picker" *ngIf="!(datepicker.showSpinners$ | async)">\n\n        <select class="form-control time-zone-select"\n                tabindex="0"\n                [ngModel]="(datepicker.timezone$ | async)?.name"\n                (ngModelChange)="selectTimezone($event)"\n                aria-label="Timezone"\n                [attr.aria-valuenow]="(datepicker.timezone$ | async)?.name">\n\n            <option *ngFor="let zone of datepicker.timezones$ | async"\n                    [selected]="zone.name === (datepicker.timezone$ | async)?.name"\n                    [value]="zone.name">\n                {{ zone?.name }}\n            </option>\n\n        </select>\n    </div>\n\n</ng-container>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],i.ctorParameters=function(){return[{type:an},{type:n.ChangeDetectorRef},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},i.propDecorators={timezoneChange:[{type:n.Output}],onFocusWithin:[{type:n.HostListener,args:["focusin"]}],onFocusOut:[{type:n.HostListener,args:["focusout"]}]},i}(),Cn=function(){function i(n){var i=this;this._datepicker=n,this.grid$=new t.BehaviorSubject([[]]),this.focused$=new t.BehaviorSubject(null),this._year=(new Date).getFullYear(),this._subscription=new t.Subscription;var o=n.year$.subscribe((function(e){return i.createYearGrid(e)})),r=n.headerEvent$.subscribe((function(t){return t===e.DatePickerHeaderEvent.Next?i.goToNextDecade():i.goToPreviousDecade()}));this._subscription.add(o),this._subscription.add(r)}return i.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},i.prototype.setFocus=function(e){this.focused$.next(e),this.createYearGrid(e)},i.prototype.goToPreviousDecade=function(){this.createYearGrid(this._year-10)},i.prototype.goToNextDecade=function(){this.createYearGrid(this._year+10)},i.prototype.createYearGrid=function(e){var t=this;void 0===e&&(e=this._year),this._year=e;var n=this.getDecade(e),i=(new Date).getFullYear(),o=n.range.map((function(e){return{year:e,isCurrentYear:e===i,isActiveYear:e===t._datepicker.year$.value}}));this._datepicker.setHeader(n.start+" - "+n.end),this.grid$.next(Rt(o,4))},i.prototype.getDecade=function(e){var t=e-e%10,n=t+9;return this._datepicker.yearRange={start:t,end:n,range:At(t,n)},this._datepicker.yearRange},i.ctorParameters=function(){return[{type:an}]},i.decorators=[{type:n.Injectable}],i.ctorParameters=function(){return[{type:an}]},i}(),Dn=function(){function i(e,n,i,o,r,a){this._datePicker=e,this.yearService=n,this._liveAnnouncer=i,this._changeDetector=o,this._rangeService=r,this._rangeOptions=a,this._onDestroy=new t.Subject,this._rangeService&&this._rangeService.onRangeChange.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return o.detectChanges()}))}return Object.defineProperty(i.prototype,"_isRangeMode",{get:function(){return!!this._rangeOptions},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeStart",{get:function(){return this._isRangeMode&&this._rangeOptions.picker===e.DateRangePicker.Start},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isRangeEnd",{get:function(){return this._isRangeMode&&this._rangeOptions.picker===e.DateRangePicker.End},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_rangeStart",{get:function(){return this._isRangeMode&&this._rangeService?this._rangeService.start:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_rangeEnd",{get:function(){return this._isRangeMode&&this._rangeService?this._rangeService.end:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_minYear",{get:function(){return this._datePicker.min$.value?new Date(this._datePicker.min$.value.getFullYear(),0):null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_maxYear",{get:function(){return this._datePicker.max$.value?new Date(this._datePicker.max$.value.getFullYear(),0):null},enumerable:!1,configurable:!0}),i.prototype.ngAfterViewInit=function(){var e=this;t.merge(this._datePicker.min$,this._datePicker.max$).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e._changeDetector.detectChanges()}))},i.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},i.prototype.select=function(e){this._datePicker.setViewportYear(e),this._datePicker.goToChildMode()},i.prototype.getDisabled=function(e){var t=new Date(e.year,0);if(this._isRangeMode){if(this._isRangeStart&&!this._rangeStart&&this._rangeEnd&&Bt(t,new Date(this._rangeEnd.getFullYear(),0)))return!0;if(this._isRangeEnd&&!this._rangeEnd&&this._rangeStart&&Nt(t,new Date(this._rangeStart.getFullYear(),0)))return!0}return!(!this._minYear||!Nt(t,this._minYear))||!(!this._maxYear||!Bt(t,this._maxYear))},i.prototype.focusYear=function(e,t){this.yearService.setFocus(e.year+t)},i.prototype.trackRowByFn=function(e){return e},i.prototype.trackYearByFn=function(e,t){return t.year},i.prototype.getTabbable=function(e){var t,n,i,o,r=this.yearService.focused$.value,a=this.yearService.grid$.value;if(r&&a.find((function(e){return!!e.find((function(e){return e.year===r}))})))return r===e.year;if(a.find((function(e){return!!e.find((function(e){return e.isActiveYear}))})))return e.isActiveYear;try{for(var s=E(this.yearService.grid$.value),c=s.next();!c.done;c=s.next()){var l=c.value;try{for(var u=(i=void 0,E(l)),p=u.next();!p.done;p=u.next()){var h=p.value;if(!this.getDisabled(h))return e===h}}catch(d){i={error:d}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!1},i.prototype.announceRangeMode=function(){this._isRangeMode&&this._liveAnnouncer.announce(this._isRangeStart?this._rangeService.startPickerAriaLabel:this._rangeService.endPickerAriaLabel)},i.ctorParameters=function(){return[{type:an},{type:Cn},{type:o.LiveAnnouncer},{type:n.ChangeDetectorRef},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},i.decorators=[{type:n.Component,args:[{selector:"ux-date-time-picker-year-view",template:'<div class="calendar" role="grid">\n  <div class="calendar-row" role="row" *ngFor="let row of yearService.grid$ | async; trackBy: trackRowByFn">\n\n    <button *ngFor="let item of row; trackBy: trackYearByFn"\n         uxFocusIndicator\n         uxFocusIndicatorOrigin\n         [programmaticFocusIndicator]="true"\n         type="button"\n         role="gridcell"\n         class="calendar-item"\n         [focusIf]="(yearService.focused$ | async) === item.year"\n         [attr.aria-label]="item.year"\n         [attr.aria-selected]="item.isActiveYear"\n         [class.current]="item.isCurrentYear"\n         [class.active]="item.isActiveYear && !getDisabled(item)"\n         [disabled]="getDisabled(item)"\n         (click)="select(item.year); $event.stopPropagation()"\n         (focus)="announceRangeMode()"\n         (keydown.ArrowLeft)="focusYear(item, -1); $event.preventDefault()"\n         (keydown.ArrowRight)="focusYear(item, 1); $event.preventDefault()"\n         (keydown.ArrowUp)="focusYear(item, -4); $event.preventDefault()"\n         (keydown.ArrowDown)="focusYear(item, 4); $event.preventDefault()"\n         [tabindex]="getTabbable(item) ? 0 : -1">\n         {{ item.year }}\n    </button>\n  </div>\n</div>\n',providers:[Cn],changeDetection:n.ChangeDetectionStrategy.OnPush}]}],i.ctorParameters=function(){return[{type:an},{type:Cn},{type:o.LiveAnnouncer},{type:n.ChangeDetectorRef},{type:Yt,decorators:[{type:n.Optional}]},{type:en,decorators:[{type:n.Optional}]}]},i}(),kn=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[rn]}},e.decorators=[{type:n.NgModule,args:[{imports:[o.A11yModule,_e,i.CommonModule,un,h.FormsModule,Pe,dn,yn],exports:[cn],declarations:[cn,bn,vn,xn,Dn,Sn,wn]}]}],e}(),In=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,kn,Pe,on],declarations:[Jt,tn],exports:[Jt]}]}],e}(),On=function(){function e(){}return e.decorators=[{type:n.Component,args:[{selector:"ux-ebox",template:'<div class="ux-ebox-header">\n    <ng-content select="ux-ebox-header"></ng-content>\n</div>\n\n<div class="ux-ebox-content">\n    <ng-content select="ux-ebox-content"></ng-content>\n</div>',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e}(),Pn=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"ux-ebox-header"}]}],e}(),Tn=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"ux-ebox-content"}]}],e}(),En=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[On,Tn,Pn],declarations:[On,Tn,Pn]}]}],e}(),Rn=function(){function e(e,t){this.canExpand=!0,this.expanded=!0,this.expandedChange=new n.EventEmitter,this._focusIndicator=e.monitor(t.nativeElement)}return e.prototype.ngOnDestroy=function(){this._focusIndicator.destroy()},e.prototype.toggleExpand=function(){this.canExpand&&(this.expanded=!this.expanded,this.expandedChange.emit(this.expanded))},e.ctorParameters=function(){return[{type:ie},{type:n.ElementRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-facet-header",template:'<span class="facet-header-title">{{ header }}</span>\n<ux-icon *ngIf="canExpand" [name]="expanded ? \'down\' : \'previous\'" class="facet-header-icon"></ux-icon>\n',host:{role:"button",tabindex:"0","(click)":"toggleExpand()","(keyup.enter)":"toggleExpand()","[attr.aria-expanded]":"expanded","[attr.aria-label]":"header + ' Facet: Activate to ' + (expanded ? 'collapse' : 'expand')"}}]}],e.ctorParameters=function(){return[{type:ie},{type:n.ElementRef}]},e.propDecorators={header:[{type:n.Input}],canExpand:[{type:n.Input}],expanded:[{type:n.Input},{type:n.HostBinding,args:["class.expanded"]}],expandedChange:[{type:n.Output}]},e}(),An=function(e){this.facet=e},Mn=function(e){this.facet=e},Ln=function(){},$n=function(){function e(){this.facets$=new t.BehaviorSubject([]),this.events$=new t.Subject}return e.prototype.select=function(e){this.isSelected(e)||e.disabled||(this.facets$.next(A(this.facets$.value,[e])),this.events$.next(new An(e)))},e.prototype.deselect=function(e){this.isSelected(e)&&(this.facets$.next(this.facets$.value.filter((function(t){return t!==e}))),this.events$.next(new Mn(e)))},e.prototype.deselectAll=function(){this.facets$.next([]),this.events$.next(new Ln)},e.prototype.toggle=function(e){this.isSelected(e)?this.deselect(e):this.select(e)},e.prototype.isSelected=function(e){return this.facets$.value.indexOf(e)>-1},e.decorators=[{type:n.Injectable}],e}(),Fn=function(){function e(){this.facet=null,this.selected=!1,this.tabbable=!1,this.simplified=!1,this.selectedChange=new n.EventEmitter,this.itemFocus=new n.EventEmitter,this.itemBlur=new n.EventEmitter}return Object.defineProperty(e.prototype,"disabled",{get:function(){return this.facet&&this.facet.disabled},enumerable:!1,configurable:!0}),e.prototype.getLabel=function(){return this.facet?this.facet.title:""},e.prototype.focus=function(){this.option.nativeElement.focus()},e.decorators=[{type:n.Component,args:[{selector:"ux-facet-check-list-item",template:'<div #option\n    uxFocusIndicator\n    class="facet-check-list-item"\n    [class.facet-active]="selected"\n    [attr.aria-checked]="selected"\n    role="option"\n    [tabindex]="tabbable ? 0 : -1"\n    (focus)="itemFocus.emit()"\n    (blur)="itemBlur.emit()"\n    (click)="selectedChange.emit(facet)"\n    (keydown.enter)="selectedChange.emit(facet)"\n    (keydown.space)="selectedChange.emit(facet); $event.preventDefault()"\n    (keydown.spacebar)="selectedChange.emit(facet); $event.preventDefault()"\n    [class.disabled]="facet?.disabled">\n\n    \x3c!-- Show check icon to indicate the state --\x3e\n    <ux-checkbox [clickable]="false" [value]="selected" [simplified]="simplified" [tabindex]="-1" [disabled]="disabled" [id]="id + \'-checkbox\'">\n        <span class="facet-check-list-item-title">{{ facet?.title }}</span>\n        <span *ngIf="facet?.count !== undefined" class="facet-check-list-item-count">({{ facet?.count }})</span>\n    </ux-checkbox>\n</div>',changeDetection:n.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],e.propDecorators={id:[{type:n.Input},{type:n.HostBinding}],facet:[{type:n.Input}],selected:[{type:n.Input}],tabbable:[{type:n.Input}],simplified:[{type:n.Input}],selectedChange:[{type:n.Output}],itemFocus:[{type:n.Output}],itemBlur:[{type:n.Output}],option:[{type:n.ViewChild,args:["option",{static:!0}]}]},e}(),Hn=0,jn=function(){function e(e){var i=this;this.facetService=e,this.id="ux-facet-check-list-"+Hn++,this.facets=[],this.scrollbar=!0,this.simplified=!1,this.expanded=!0,this.events=new t.Subject,this.selectedChange=new n.EventEmitter,this.isFocused=!1,this.activeIndex=0,this._onDestroy=new t.Subject,e.events$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){e instanceof Ln&&(i.events.next(e),i.selectedChange.next([])),(e instanceof An||e instanceof Mn)&&i.isOwnFacet(e.facet)&&(i.events.next(e),i.selectedChange.next(i.getSelectedFacets()))}))}return Object.defineProperty(e.prototype,"selected",{set:function(e){var t=this;Array.isArray(e)&&e.forEach((function(e){return t.facetService.select(e)}))},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this._focusKeyManager=new o.FocusKeyManager(this.options).withVerticalOrientation(),this._focusKeyManager.change.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){return e.activeIndex=t}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.onFocus=function(e){-1===this._focusKeyManager.activeItemIndex&&this._focusKeyManager.setActiveItem(e)},e.prototype.onKeydown=function(e){this._focusKeyManager.onKeydown(e)},e.prototype.toggleFacet=function(e,t){this.facetService.toggle(t),this._focusKeyManager.setActiveItem(e)},e.prototype.getSelectedFacets=function(){var e=this;return this.facetService.facets$.value.filter((function(t){return e.isOwnFacet(t)}))},e.prototype.isOwnFacet=function(e){return-1!==this.facets.indexOf(e)},e.ctorParameters=function(){return[{type:$n}]},e.decorators=[{type:n.Component,args:[{selector:"ux-facet-check-list",template:'<ux-facet-header [header]="header" [(expanded)]="expanded"></ux-facet-header>\n\n\x3c!-- Create a container which will show when section is expanded --\x3e\n<div class="facet-check-list-container"\n    tabindex="-1"\n    role="listbox"\n    [class.facet-check-list-scrollbar]="scrollbar"\n    [class.facet-check-list-scrollbar-focused]="isFocused"\n    *ngIf="expanded">\n\n    \x3c!-- Iterate through each possible facet --\x3e\n    <ux-facet-check-list-item *ngFor="let facet of facets; let index = index"\n        [id]="id + \'-check-list-item-\' + index"\n        [facet]="facet"\n        [simplified]="simplified"\n        [tabbable]="activeIndex === index"\n        [selected]="facetService.isSelected(facet)"\n        (selectedChange)="toggleFacet(index, facet)"\n        (keydown)="onKeydown($event)"\n        (itemFocus)="isFocused = true; onFocus(index)"\n        (itemBlur)="isFocused = false">\n    </ux-facet-check-list-item>\n\n</div>'}]}],e.ctorParameters=function(){return[{type:$n}]},e.propDecorators={id:[{type:n.Input},{type:n.HostBinding}],selected:[{type:n.Input}],facets:[{type:n.Input}],header:[{type:n.Input}],scrollbar:[{type:n.Input}],simplified:[{type:n.Input}],expanded:[{type:n.Input}],events:[{type:n.Output}],selectedChange:[{type:n.Output}],options:[{type:n.ViewChildren,args:[Fn]}]},e}(),Bn=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxFacetClearButton]"}]}],e}(),Nn=function(){function e(e,i){var o=this;this._announcer=e,this.facetService=i,this.header="Selected",this.clearTooltip="Clear All",this.emptyText="No Items",this.facetsReorderable=!1,this.clearAriaLabel="Clear All",this.deselectFacetAriaLabel="Deselect Facet",this.facetsChange=new n.EventEmitter,this.events=new n.EventEmitter,this._onDestroy=new t.Subject,i.facets$.subscribe((function(e){return o.facetsChange.next(e)})),i.events$.subscribe((function(e){return o.triggerEvent(e)})),i.events$.pipe(s.filter((function(e){return e instanceof Mn}))).subscribe((function(e){return o._announcer.announce("Option "+e.facet.title+" deselected.","assertive")}))}return Object.defineProperty(e.prototype,"facets",{get:function(){return this.facetService.facets$.value},set:function(e){this.facetService.facets$.next(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.selectFacet=function(e){this.facetService.select(e)},e.prototype.deselectFacet=function(e,t){if(-1!==this.facets.findIndex((function(t){return e===t}))&&(this.facetService.deselect(e),this._announcer.announce("Option "+e.title+" deselected.","assertive"),t)){var n=t.previousElementSibling||t.nextElementSibling;n&&n.focus()}},e.prototype.deselectAllFacets=function(){this.facetService.deselectAll(),this._announcer.announce("All options deselected.","assertive")},e.prototype.trackBy=function(e,t){return t.id||t.title},e.prototype.shiftRight=function(e,t){!1!==this.facetsReorderable&&(this.shiftFacet(e,1),requestAnimationFrame((function(){return t.focus()})),this._announcer.announce("Option "+e.title+" moved down."))},e.prototype.shiftLeft=function(e,t){!1!==this.facetsReorderable&&(this.shiftFacet(e,-1),requestAnimationFrame((function(){return t.focus()})),this._announcer.announce("Option "+e.title+" moved up."))},e.prototype.shiftFacet=function(e,t){var n=this.facets.indexOf(e),i=n+t;i<0||i===this.facets.length||(this.facets.splice(n,1),this.facets.splice(i,0,e))},e.prototype.triggerEvent=function(e){this.events.next(e)},e.ctorParameters=function(){return[{type:o.LiveAnnouncer},{type:$n}]},e.decorators=[{type:n.Component,args:[{selector:"ux-facet-container",template:'\x3c!-- Display Any Selected Facets --\x3e\n<div class="facets-selected-container">\n\n    \x3c!-- Display Title an Clear Button --\x3e\n    <div class="facets-selected-header-container">\n\n        \x3c!-- Show The Selected Text --\x3e\n        <span class="facets-selected-header-label">{{ header }}</span>\n\n        \x3c!-- Add a Clear Button --\x3e\n        <ng-container *ngIf="(facetService.facets$ | async).length > 0" [ngTemplateOutlet]="clearButton || clearButtonDefault"></ng-container>\n\n    </div>\n\n    \x3c!-- Display Tags For Selected Items --\x3e\n    <div class="facets-selected-list"\n        cdkDropListOrientation="horizontal"\n        uxReorderable\n        role="list"\n        [reorderingDisabled]="!facetsReorderable"\n        [(reorderableModel)]="facets"\n        (reorderableModelChange)="facetsChange.emit(facets)">\n\n        \x3c!-- Show Selected Tags --\x3e\n        <div #tag\n            class="facet-selected-tag"\n            role="listitem"\n            tabindex="0"\n            uxReorderableHandle\n            *ngFor="let facet of (facetService.facets$ | async); trackBy: trackBy"\n            [attr.aria-label]="facet.title"\n            [uxReorderableModel]="facet"\n            (mousedown)="tag.focus()"\n            (touchmove)="$event.preventDefault()"\n            (keydown.ArrowRight)="shiftRight(facet, tag)"\n            (keydown.ArrowLeft)="shiftLeft(facet, tag)">\n\n            \x3c!-- Display Label --\x3e\n            <span class="facet-selected-tag-label">{{ facet.title }}</span>\n\n            \x3c!-- Display Remove Icon --\x3e\n            <button type="button"\n                uxFocusIndicator\n                class="facet-selected-remove-btn"\n                [attr.aria-label]="deselectFacetAriaLabel"\n                (click)="deselectFacet(facet, tag)">\n\n                <ux-icon name="close"></ux-icon>\n            </button>\n        </div>\n\n    </div>\n\n    \x3c!-- Show Message Here if No Facets Selected --\x3e\n    <p class="facets-selected-none-label" *ngIf="emptyText && (facetService.facets$ | async).length === 0">{{ emptyText }}</p>\n\n</div>\n\n\x3c!-- Any Facet Elements Should be Added Here By User --\x3e\n<div class="facets-region">\n    <ng-content></ng-content>\n</div>\n\n<ng-template #clearButtonDefault>\n    <button type="button"\n            class="btn btn-link btn-icon button-secondary"\n            tabindex="0"\n            [attr.aria-label]="clearAriaLabel"\n            [uxTooltip]="clearTooltip"\n            placement="left"\n            (click)="deselectAllFacets()">\n\n            <svg class="facets-selected-clear-graphic" focusable="false" viewBox="0 0 19 12" shape-rendering="geometricPrecision">\n                <rect class="light-grey" x="0" y="2" width="7" height="2"></rect>\n                <rect class="dark-grey" x="0" y="5" width="9" height="2"></rect>\n                <rect class="light-grey" x="0" y="8" width="7" height="2"></rect>\n                <path class="dark-grey" d="M9,1 h1 l9,9 v1 h-1 l-9,-9 v-1 Z"></path>\n                <path class="dark-grey" d="M9,11 v-1 l9,-9 h1 v1 l-9,9 h-1 Z"></path>\n            </svg>\n        </button>\n</ng-template>\n',providers:[$n],preserveWhitespaces:!1}]}],e.ctorParameters=function(){return[{type:o.LiveAnnouncer},{type:$n}]},e.propDecorators={header:[{type:n.Input}],clearTooltip:[{type:n.Input}],emptyText:[{type:n.Input}],facetsReorderable:[{type:n.Input}],facets:[{type:n.Input}],clearAriaLabel:[{type:n.Input}],deselectFacetAriaLabel:[{type:n.Input}],facetsChange:[{type:n.Output}],events:[{type:n.Output}],clearButton:[{type:n.ContentChild,args:[Bn,{read:n.TemplateRef,static:!1}]}]},e}(),zn=function(e,t){this.option=e,this.origin=t},Vn=function(){function e(){}return e.prototype.handleKey=function(e,t){if(t)switch(e.keyCode){case l.UP_ARROW:t.open?t.moveHighlight(-1):t.open=!0,e.preventDefault();break;case l.DOWN_ARROW:t.open?t.moveHighlight(1):t.open=!0,e.preventDefault();break;case l.ESCAPE:t.open=!1;break;case l.ENTER:t.selectOnEnter&&t.selectHighlighted()}},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e}(),Wn=function(){function e(){this.open$=new t.BehaviorSubject(!1),this.highlightedElement$=new t.BehaviorSubject(null)}return e.decorators=[{type:n.Injectable}],e}(),Un=function(){function e(e,t,n){this.elementRef=e,this._resizeService=t,this._viewportRuler=n}return e.prototype.createPopoverOrientationListener=function(e,t){return new Gn(e instanceof n.ElementRef?e.nativeElement:e,t instanceof n.ElementRef?t.nativeElement:e,this._resizeService,this._viewportRuler)},e.ctorParameters=function(){return[{type:n.ElementRef},{type:Me},{type:y.ViewportRuler}]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:Me},{type:y.ViewportRuler}]},e}(),Gn=function(){function e(e,n,i,o){var r=this;this._element=e,this._elementParent=n,this._resizeService=i,this._viewportRuler=o,this.orientation$=new t.BehaviorSubject(1),this.maxHeight=250,this._onDestroy=new t.Subject,this._resizeService.addResizeListener(this._element).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){r.onScrollOrResize()})),t.fromEvent(window,"scroll",{passive:!0}).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return r.onScrollOrResize()})),t.fromEvent(window,"resize",{passive:!0}).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return r.onScrollOrResize()}))}return e.prototype.destroy=function(){this.orientation$.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._resizeService.removeResizeListener(this._element)},e.prototype.onScrollOrResize=function(){this._rect=this._elementParent?this._elementParent.parentElement.getBoundingClientRect():this._element.parentElement.getBoundingClientRect();var e=this._element.offsetHeight||this.maxHeight,t=this._viewportRuler.getViewportSize();this.orientation$.next(t.height-this._rect.bottom-e<=0?0:1)},e}(),Kn=0,qn=function(){function e(e,i,o,r,a,c,l){var u=this;this.typeaheadElement=e,this._changeDetector=i,this._service=r,this._viewportRuler=a,this._renderer=c,this._resizeService=l,this.id="ux-typeahead-"+ ++Kn,this.dropDirection="down",this.multiselectable=!1,this.openOnFilterChange=!0,this.pageSize=20,this.selectFirst=!0,this.selectOnEnter=!1,this.loading=!1,this.recentOptionsMaxCount=5,this.openChange=new n.EventEmitter,this.optionSelected=new n.EventEmitter,this.highlightedChange=new n.EventEmitter,this.highlightedElementChange=new n.EventEmitter,this.recentOptionsChange=new n.EventEmitter,this.activeKey=null,this.clicking=!1,this.hasBeenOpened=!1,this.highlighted$=new t.BehaviorSubject(null),this.visibleOptions$=new t.BehaviorSubject([]),this.visibleRecentOptions$=new t.BehaviorSubject([]),this.allVisibleOptions=[],this._onDestroy=new t.Subject,this._maxHeight="250px",this.optionApi={getKey:this.getKey.bind(this),getDisplay:this.getDisplay.bind(this),getDisplayHtml:this.getDisplayHtml.bind(this),getDisabled:this.isDisabled.bind(this)},this.loadOptionsCallback=function(e,t,n){if("function"==typeof u.options){var i=u.options(e,t,n);return Promise.resolve(i).then((function(e){return Array.isArray(e)?u.getVisibleOptions(e,""):e}))}return null},this._service.open$.pipe(s.distinctUntilChanged(),s.takeUntil(this._onDestroy)).subscribe((function(e){u.openChange.emit(e),e&&(u.hasBeenOpened=!0,u.initOptions())})),this._popoverOrientationListener=o.createPopoverOrientationListener(this.typeaheadElement.nativeElement,this.typeaheadElement.nativeElement.parentElement),this._popoverOrientationListener.orientation$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){"auto"===u.dropDirection&&(u.dropUp=0===e)})),this.highlighted$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){u.highlightedChange.emit(e?e.value:null)})),t.combineLatest([this.visibleOptions$,this.visibleRecentOptions$]).pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){var t=R(e,2);u.allVisibleOptions=A(t[1],t[0])})),t.combineLatest([this._service.open$,this._service.highlightedElement$,this.visibleOptions$]).pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){var t=R(e,3);u.highlightedElementChange.emit(t[0]&&t[2].length>0?t[1]:null)}))}return Object.defineProperty(e.prototype,"open",{get:function(){return this._service.open$.getValue()},set:function(e){this._service.open$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){return this._maxHeight},set:function(e){this._maxHeight=e,this.maxHeight.endsWith("px")&&(this._popoverOrientationListener.maxHeight=Number(this.maxHeight.slice(0,-2)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{set:function(e){this.activeKey=this.getKey(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlighted",{get:function(){var e=this.highlighted$.getValue();return e?e.value:null},enumerable:!1,configurable:!0}),e.prototype.ngOnChanges=function(e){var t=this;if(e.filter&&this.openOnFilterChange&&e.filter.currentValue&&e.filter.currentValue.length>0){if(e.open&&!0===e.open.previousValue&&!1===e.open.currentValue)return;this.open=!0}(e.recentOptions||e.recentOptionsMaxCount)&&(this._recentOptions=this.recentOptions?this.recentOptions.slice(0,this.recentOptionsMaxCount):void 0,e.recentOptionsMaxCount&&setTimeout((function(){t.recentOptionsChange.emit(t._recentOptions)}))),e.dropDirection&&(this.dropUp="auto"===e.dropDirection.currentValue?0===this._popoverOrientationListener.orientation$.getValue():"up"===e.dropDirection.currentValue),this.updateOptions()},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete(),this._popoverOrientationListener.destroy()},e.prototype.mousedownHandler=function(e,t){this.clicking=!0,(e.clientX>=t.clientWidth||e.clientY>=t.clientHeight)&&e.preventDefault()},e.prototype.mouseupHandler=function(){this.clicking=!1},e.prototype.optionMousedownHandler=function(e){e.preventDefault()},e.prototype.optionClickHandler=function(e,t){this.select(t,"mouse")},e.prototype.getKey=function(e){return"function"==typeof this.key?this.key(e):"string"==typeof this.key&&e&&e.hasOwnProperty(this.key)?e[this.key]:this.getDisplay(e)},e.prototype.getDisplay=function(e){return"function"==typeof this.display?this.display(e):"string"==typeof this.display&&e&&e.hasOwnProperty(this.display)?e[this.display]:"string"==typeof e?e:void 0},e.prototype.getDisplayHtml=function(e){var t=this.getDisplay(e);if(!t)return"";var n=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(this.filter){var i=this.filter.length,o=t.toLowerCase().indexOf(this.filter.toLowerCase());if(o>=0){var r='<span class="ux-filter-match">'+t.substr(o,i)+"</span>";n=t.substr(0,o)+r+t.substr(o+i)}}return n},e.prototype.isInfiniteScroll=function(){return"function"==typeof this.options},e.prototype.select=function(e,t){this.isDisabled(e.value)||(this.optionSelected.emit(new zn(e.value,t)),this.highlighted$.next(null),this.open=!1,this.addToRecentOptions(e.value))},e.prototype.addToRecentOptions=function(e){this._recentOptions&&(this._recentOptions=A([e],this._recentOptions.filter((function(t){return t!==e}))).slice(0,this.recentOptionsMaxCount),this.recentOptionsChange.emit(this._recentOptions))},e.prototype.isDisabled=function(e){var t=this;return!!Array.isArray(this.disabledOptions)&&this.disabledOptions.some((function(n){return t.getKey(n)===t.getKey(e)}))},e.prototype.highlight=function(e){this.isDisabled(e.value)||(this.highlighted$.next(e),this._changeDetector.detectChanges())},e.prototype.moveHighlight=function(e){var t=this.indexOfVisibleOption(this.highlighted$.getValue()),n=!0,i=!0;do{n=(i=(t+=e)>=0&&t<this.allVisibleOptions.length)&&this.isDisabled(this.allVisibleOptions[t].value)}while(i&&n);return!n&&i&&this.highlight(this.allVisibleOptions[t]),this.highlighted},e.prototype.selectHighlighted=function(){this.highlighted$.getValue()&&this.select(this.highlighted$.getValue(),"keyboard")},e.prototype.initOptions=function(){this.highlighted$.next(null),this.selectFirst&&this.moveHighlight(1)},e.prototype.onLoadedHighlight=function(e){this.selectFirst&&this.options&&0===e.pageNumber&&this.moveHighlight(1)},e.prototype.updateOptions=function(){var e=(this.filter||"").toLowerCase();"object"==typeof this.options&&this.visibleOptions$.next(this.getVisibleOptions(this.options,e)),this.visibleRecentOptions$.next(this.getVisibleOptions(this._recentOptions,e,!0)),this.initOptions(),this._changeDetector.detectChanges()},e.prototype.getVisibleOptions=function(e,t,n){var i=this;return void 0===t&&(t=""),void 0===n&&(n=!1),e?e.filter((function(e){return i.getDisplay(e).toLowerCase().indexOf(t)>=0})).map((function(e){return{value:e,key:i.getKey(e),isRecentOption:n}})):[]},e.prototype.indexOfVisibleOption=function(e){return e?this.allVisibleOptions.findIndex((function(t){return t.key===e.key&&t.isRecentOption===e.isRecentOption})):-1},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ChangeDetectorRef},{type:Un},{type:Wn},{type:y.ViewportRuler},{type:n.Renderer2},{type:Me}]},e.decorators=[{type:n.Component,args:[{selector:"ux-typeahead",template:'<div class="ux-typeahead-options"\n     [uxInfiniteScroll]="loadOptionsCallback"\n     [collection]="visibleOptions$ | async"\n     (collectionChange)="visibleOptions$.next($event)"\n     [enabled]="hasBeenOpened && isInfiniteScroll()"\n     [filter]="filter"\n     [loadOnScroll]="true"\n     [pageSize]="pageSize"\n     [scrollElement]="typeaheadElement"\n     (loading)="loading = true"\n     (loaded)="loading = false; onLoadedHighlight($event)">\n\n     \x3c!-- Recent options --\x3e\n    <ux-typeahead-options-list\n        *ngIf="(visibleRecentOptions$ | async).length > 0"\n        class="ux-typeahead-recent-options"\n        [id]="id"\n        [options]="visibleRecentOptions$ | async"\n        [highlighted]="highlighted$ | async"\n        [activeKey]="activeKey"\n        [disabledOptions]="disabledOptions"\n        [isMultiselectable]="multiselectable"\n        [optionTemplate]="optionTemplate || defaultOptionTemplate"\n        [optionApi]="optionApi"\n        [typeaheadElement]="typeaheadElement"\n        (optionMouseover)="highlight($event.option)"\n        (optionMousedown)="optionMousedownHandler($event.event)"\n        (optionClick)="optionClickHandler($event.event, $event.option)"\n    ></ux-typeahead-options-list>\n\n    \x3c!-- All options --\x3e\n    <ux-typeahead-options-list\n        *ngIf="(visibleOptions$ | async).length > 0"\n        class="ux-typeahead-all-options"\n        [id]="id"\n        [startIndex]="(visibleRecentOptions$ | async).length"\n        [options]="visibleOptions$ | async"\n        [highlighted]="highlighted$ | async"\n        [activeKey]="activeKey"\n        [disabledOptions]="disabledOptions"\n        [isMultiselectable]="multiselectable"\n        [optionTemplate]="optionTemplate || defaultOptionTemplate"\n        [optionApi]="optionApi"\n        [typeaheadElement]="typeaheadElement"\n        (optionMouseover)="highlight($event.option)"\n        (optionMousedown)="optionMousedownHandler($event.event)"\n        (optionClick)="optionClickHandler($event.event, $event.option)"\n    ></ux-typeahead-options-list>\n\n    <div *uxInfiniteScrollLoading>\n        <ng-container [ngTemplateOutlet]="loadingTemplate || defaultLoadingTemplate"></ng-container>\n    </div>\n\n    <div *ngIf="isInfiniteScroll() === false && (visibleOptions$ | async).length === 0 && loading">\n        <ng-container [ngTemplateOutlet]="loadingTemplate || defaultLoadingTemplate"></ng-container>\n    </div>\n\n</div>\n<div *ngIf="(visibleOptions$ | async).length === 0 && !loading">\n    <ng-container [ngTemplateOutlet]="noOptionsTemplate || defaultNoOptionsTemplate">\n    </ng-container>\n</div>\n\n<ng-template #defaultLoadingTemplate>\n    <div class="ux-typeahead-loading">\n        <div class="spinner spinner-accent spinner-bounce-middle"></div>\n        <div>Loading...</div>\n    </div>\n</ng-template>\n\n<ng-template #defaultOptionTemplate let-option="option" let-api="api">\n    <span class="ux-typeahead-option" [innerHtml]="api.getDisplayHtml(option)"></span>\n</ng-template>\n\n<ng-template #defaultNoOptionsTemplate>\n    <span class="ux-typeahead-no-options">No results</span>\n</ng-template>',providers:[Wn,Un],changeDetection:n.ChangeDetectionStrategy.OnPush,host:{role:"listbox","[class.open]":"open","[style.maxHeight]":"maxHeight"}}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ChangeDetectorRef},{type:Un},{type:Wn},{type:y.ViewportRuler},{type:n.Renderer2},{type:Me}]},e.propDecorators={id:[{type:n.Input},{type:n.HostBinding,args:["attr.id"]}],options:[{type:n.Input}],filter:[{type:n.Input}],open:[{type:n.Input}],display:[{type:n.Input}],key:[{type:n.Input}],disabledOptions:[{type:n.Input}],dropDirection:[{type:n.Input}],maxHeight:[{type:n.Input}],multiselectable:[{type:n.Input},{type:n.HostBinding,args:["attr.aria-multiselectable"]}],openOnFilterChange:[{type:n.Input}],pageSize:[{type:n.Input}],selectFirst:[{type:n.Input}],selectOnEnter:[{type:n.Input}],loading:[{type:n.Input}],loadingTemplate:[{type:n.Input}],optionTemplate:[{type:n.Input}],noOptionsTemplate:[{type:n.Input}],active:[{type:n.Input}],recentOptions:[{type:n.Input}],recentOptionsMaxCount:[{type:n.Input}],openChange:[{type:n.Output}],optionSelected:[{type:n.Output}],highlightedChange:[{type:n.Output}],highlightedElementChange:[{type:n.Output}],recentOptionsChange:[{type:n.Output}],dropUp:[{type:n.HostBinding,args:["class.drop-up"]}],mousedownHandler:[{type:n.HostListener,args:["mousedown",["$event","$event.target"]]}],mouseupHandler:[{type:n.HostListener,args:["mouseup"]}]},e}(),Yn=function(){function e(e,n,i){this._template=e,this._viewContainer=n,this._renderer=i,this._visible=!1,this._load=new t.Subject,this.loading=this._load.asObservable()}return Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(e){if(e!==this._visible)if(e){var t=this._viewContainer.createEmbeddedView(this._template);this._renderer.listen(t.rootNodes[0],"click",this.onClick.bind(this))}else this._viewContainer.clear();this._visible=e},enumerable:!1,configurable:!0}),e.prototype.onClick=function(e){this._load.next(e)},e.ctorParameters=function(){return[{type:n.TemplateRef},{type:n.ViewContainerRef},{type:n.Renderer2}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxInfiniteScrollLoadButton]"}]}],e.ctorParameters=function(){return[{type:n.TemplateRef},{type:n.ViewContainerRef},{type:n.Renderer2}]},e.propDecorators={visible:[{type:n.Input,args:["uxInfiniteScrollLoadButton"]}],loading:[{type:n.Output}]},e}(),Xn=function(){function e(e,t){this._templateRef=e,this._viewContainer=t,this._visible=!1}return Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(e){e!==this._visible&&(e?this._viewContainer.createEmbeddedView(this._templateRef):this._viewContainer.clear()),this._visible=e},enumerable:!1,configurable:!0}),e.ctorParameters=function(){return[{type:n.TemplateRef},{type:n.ViewContainerRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxInfiniteScrollLoading]"}]}],e.ctorParameters=function(){return[{type:n.TemplateRef},{type:n.ViewContainerRef}]},e.propDecorators={visible:[{type:n.Input,args:["uxInfiniteScrollLoading"]}]},e}(),Zn=function(){function e(e){this._element=e,this._collection=[],this.enabled=!0,this.loadOnInit=!0,this.loadOnScroll=!0,this.pageSize=20,this.collectionChange=new n.EventEmitter,this.loadingEvent=new n.EventEmitter,this.loadedEvent=new n.EventEmitter,this.loadErrorEvent=new n.EventEmitter,this._nextPageNum=0,this._updateRequests=new t.Subject,this._isLoading=new t.BehaviorSubject(!1),this._isExhausted=new t.BehaviorSubject(!1),this._loadButtonEnabled=new t.BehaviorSubject(!1),this._subscriptions=[],this._loadButtonSubscriptions=[],this._onDestroy=new t.Subject,this._canLoadManually=this._isLoading.pipe(s.combineLatest(this._isExhausted,this._loadButtonEnabled,(function(e,t,n){return!e&&!t&&n})))}return Object.defineProperty(e.prototype,"collection",{get:function(){return this._collection},set:function(e){this.collectionChange.emit(e),this._collection=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollElement",{set:function(e){this._scrollElement=e instanceof n.ElementRef?e:new n.ElementRef(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this._scrollElement||(this._scrollElement=this._element),this._loadButtonEnabled.next(!this.loadOnScroll)},e.prototype.ngAfterContentInit=function(){var e=this;this._updateRequests.pipe(s.filter((function(e){return e.check})),s.auditTime(200),s.takeUntil(this._onDestroy)).subscribe(this.doRequest.bind(this)),this._updateRequests.pipe(s.filter((function(e){return!e.check})),s.takeUntil(this._onDestroy)).subscribe(this.doRequest.bind(this)),this.enabled&&this.attachEventHandlers(),this._canLoadManually.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){e._loadButtonQuery.forEach((function(e){e.visible=t}))})),this._isLoading.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){e._loadingIndicatorQuery.forEach((function(e){e.visible=t}))})),this.attachLoadButtonEvents(),this._loadButtonQuery.changes.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){e.attachLoadButtonEvents()})),this.loadOnInit&&this.loadNextPage()},e.prototype.ngOnChanges=function(e){var t=!0;e.enabled&&e.enabled.currentValue!==e.enabled.previousValue&&(e.enabled.currentValue?(this.attachEventHandlers(),this.reset(),t=!1):this.detachEventHandlers()),this.enabled&&(e.filter&&this.coerceFilter(e.filter.currentValue)!==this.coerceFilter(e.filter.previousValue)&&(this.reset(),t=!1),e.loadOnScroll&&this._loadButtonEnabled.next(!e.loadOnScroll.currentValue),e.pageSize&&e.pageSize.currentValue!==e.pageSize.previousValue&&(this.reset(),t=!1),this._updateRequests.next({check:t,pageNumber:this._nextPageNum,pageSize:this.pageSize,filter:this.coerceFilter(this.filter)}))},e.prototype.ngOnDestroy=function(){this.detachEventHandlers(),this._onDestroy.next(),this._onDestroy.complete()},e.prototype.loadNextPage=function(){this.enabled&&this._updateRequests.next({check:!1,pageNumber:this._nextPageNum,pageSize:this.pageSize,filter:this.coerceFilter(this.filter)})},e.prototype.check=function(){this.enabled&&this._updateRequests.next({check:!0,pageNumber:this._nextPageNum,pageSize:this.pageSize,filter:this.coerceFilter(this.filter)})},e.prototype.reset=function(){this.enabled&&(this._nextPageNum=0,this._pages=[],this.collection&&(this.collection.length=0),this._isExhausted.next(!1),this._subscriptions&&this._subscriptions.forEach((function(e){return e.unsubscribe()})))},e.prototype.reload=function(){var e=this;this._pages.forEach((function(t,n){return e.reloadPage(n)}))},e.prototype.reloadPage=function(e){this.enabled&&this._updateRequests.next({check:!1,pageNumber:e,pageSize:this.pageSize,filter:this.coerceFilter(this.filter),reload:!0})},e.prototype.coerceFilter=function(e){return null==e?"":e},e.prototype.attachEventHandlers=function(){var e=this._scrollElement.nativeElement instanceof HTMLHtmlElement?document:this._scrollElement.nativeElement;this._scrollEventSub=t.fromEvent(e,"scroll").subscribe(this.check.bind(this)),this._domObserver=new MutationObserver(this.check.bind(this)),this._domObserver.observe(this._scrollElement.nativeElement,{childList:!0,subtree:!0})},e.prototype.detachEventHandlers=function(){this._scrollEventSub&&(this._scrollEventSub.unsubscribe(),this._scrollEventSub=null),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null)},e.prototype.attachLoadButtonEvents=function(){var e=this;this._loadButtonSubscriptions.forEach((function(e){return e.unsubscribe()})),this._loadButtonSubscriptions=this._loadButtonQuery.map((function(t){return t.loading.subscribe(e.loadNextPage.bind(e))}))},e.prototype.doRequest=function(e){var n=this;if(this.needsData(e)&&this.beginLoading(e)){var i,o=this.load(e.pageNumber,e.pageSize,e.filter),r=Array.isArray(o)?t.of(o):t.from(o),a=!1;i=r.pipe(s.first()).subscribe((function(t){e.filter===n.coerceFilter(n.filter)&&e.pageSize===n.pageSize&&(t&&t.length&&n.setPageItems(e.pageNumber,t),n.endLoading(e,t))}),(function(t){n.endLoadingWithError(e,t)}),(function(){n._subscriptions=n._subscriptions.filter((function(e){return e!==i})),a=!0})),a||this._subscriptions.push(i)}},e.prototype.needsData=function(e){if(!this.enabled)return!1;if(!e.check)return!0;if(this._isExhausted.getValue()||this._isLoading.getValue())return!1;if(this._scrollElement&&this.loadOnScroll){var t=this._scrollElement.nativeElement;return t.scrollHeight>0&&t.scrollHeight-(t.scrollTop+t.clientHeight)<=t.clientHeight}return!1},e.prototype.beginLoading=function(e){var t=new Qn(e.pageNumber,e.pageSize,e.filter);return this.loadingEvent.emit(t),this._isLoading.next(!t.defaultPrevented()),!t.defaultPrevented()},e.prototype.setPageItems=function(e,t){this._pages[e]=t,this.collection=this._pages.reduce((function(e,t){return e.concat(t)}),[])},e.prototype.endLoading=function(e,t){this._isLoading.next(!1);var n=!!(t&&t.length<this.pageSize);this._isExhausted.next(n),this.loadedEvent.emit(new Jn(e.pageNumber,e.pageSize,e.filter,t,n)),e.reload||(this._nextPageNum+=1)},e.prototype.endLoadingWithError=function(e,t){this._isLoading.next(!1),this.loadErrorEvent.emit(new ei(e.pageNumber,e.pageSize,e.filter,t))},e.ctorParameters=function(){return[{type:n.ElementRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxInfiniteScroll]",exportAs:"uxInfiniteScroll"}]}],e.ctorParameters=function(){return[{type:n.ElementRef}]},e.propDecorators={load:[{type:n.Input,args:["uxInfiniteScroll"]}],_collection:[{type:n.Input,args:["collection"]}],scrollElement:[{type:n.Input}],enabled:[{type:n.Input}],filter:[{type:n.Input}],loadOnInit:[{type:n.Input}],loadOnScroll:[{type:n.Input}],pageSize:[{type:n.Input}],collectionChange:[{type:n.Output}],loadingEvent:[{type:n.Output,args:["loading"]}],loadedEvent:[{type:n.Output,args:["loaded"]}],loadErrorEvent:[{type:n.Output,args:["loadError"]}],_loadButtonQuery:[{type:n.ContentChildren,args:[Yn]}],_loadingIndicatorQuery:[{type:n.ContentChildren,args:[Xn]}]},e}(),Qn=function(){function e(e,t,n){this.pageNumber=e,this.pageSize=t,this.filter=n,this._defaultPrevented=!1}return e.prototype.preventDefault=function(){this._defaultPrevented=!0},e.prototype.defaultPrevented=function(){return this._defaultPrevented},e}(),Jn=function(e,t,n,i,o){this.pageNumber=e,this.pageSize=t,this.filter=n,this.data=i,this.exhausted=o},ei=function(e,t,n,i){this.pageNumber=e,this.pageSize=t,this.filter=n,this.error=i},ti=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[],exports:[Zn,Yn,Xn],declarations:[Zn,Yn,Xn],providers:[]}]}],e}(),ni=function(){function e(){}return e.prototype.scrollIntoView=function(e,t){var n=e.getBoundingClientRect().top+t.scrollTop-t.getBoundingClientRect().top;if(n<t.scrollTop)t.scrollTop=n;else{var i=n+e.offsetHeight;i>t.scrollTop+t.clientHeight&&(t.scrollTop=i-t.clientHeight)}},e.decorators=[{type:n.Injectable}],e}(),ii=function(){function e(e,t){this._element=e,this._scrollIntoViewService=t,this.condition=!1}return e.prototype.ngOnChanges=function(){var e=this;this.condition&&setTimeout((function(){return e._scrollIntoViewService.scrollIntoView(e._element.nativeElement,e.scrollParent)}))},e.ctorParameters=function(){return[{type:n.ElementRef},{type:ni}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxScrollIntoViewIf]",providers:[ni]}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:ni}]},e.propDecorators={condition:[{type:n.Input,args:["uxScrollIntoViewIf"]}],scrollParent:[{type:n.Input}]},e}(),oi=function(){function e(e){this._elementRef=e,this.uxScrollIntoView=!0,this.scrollIntoViewOptions=!0}return e.prototype.ngAfterViewInit=function(){this.uxScrollIntoView&&this._elementRef.nativeElement.scrollIntoView(this.scrollIntoViewOptions)},e.ctorParameters=function(){return[{type:n.ElementRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxScrollIntoView]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef}]},e.propDecorators={uxScrollIntoView:[{type:n.Input}],scrollIntoViewOptions:[{type:n.Input}]},e}(),ri=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[ii,oi],declarations:[ii,oi]}]}],e}(),ai=function(){function e(e,t){this._service=e,this._elementRef=t}return Object.defineProperty(e.prototype,"highlight",{set:function(e){e&&this._service.highlightedElement$.next(this._elementRef.nativeElement)},enumerable:!1,configurable:!0}),e.ctorParameters=function(){return[{type:Wn},{type:n.ElementRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxTypeaheadHighlight]"}]}],e.ctorParameters=function(){return[{type:Wn},{type:n.ElementRef}]},e.propDecorators={highlight:[{type:n.Input,args:["uxTypeaheadHighlight"]}]},e}(),si=function(){function e(){this.startIndex=0,this.isMultiselectable=!1,this.optionMouseover=new n.EventEmitter,this.optionMousedown=new n.EventEmitter,this.optionClick=new n.EventEmitter}return e.prototype.trackByFn=function(e,t){return t.key},e.decorators=[{type:n.Component,args:[{selector:"ux-typeahead-options-list",template:'<ol>\n\n    <li *ngFor="let option of options; let i = index; trackBy: trackByFn"\n        [attr.id]="id + \'-option-\' + (i + startIndex)"\n        [class.disabled]="optionApi.getDisabled(option.value)"\n        [class.highlighted]="highlighted?.key === option.key && highlighted?.isRecentOption === option.isRecentOption"\n        [class.active]="activeKey === option.key && !option.isRecentOption"\n        [attr.aria-selected]="isMultiselectable ? optionApi.getDisabled(option.value) : (activeKey === option.key ? true : null)"\n        [uxTypeaheadHighlight]="highlighted?.key === option.key && highlighted?.isRecentOption === option.isRecentOption"\n        [uxScrollIntoViewIf]="highlighted?.key === option.key && highlighted?.isRecentOption === option.isRecentOption"\n        [scrollParent]="typeaheadElement.nativeElement"\n        (mouseover)="optionMouseover.emit({ option: option, event: $event })"\n        (mousedown)="optionMousedown.emit({ option: option, event: $event })"\n        (click)="optionClick.emit({ option: option, event: $event })">\n\n        <ng-container [ngTemplateOutlet]="optionTemplate"\n            [ngTemplateOutletContext]="{option: option.value, api: optionApi}">\n        </ng-container>\n\n    </li>\n\n</ol>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.propDecorators={id:[{type:n.Input}],startIndex:[{type:n.Input}],options:[{type:n.Input}],highlighted:[{type:n.Input}],activeKey:[{type:n.Input}],disabledOptions:[{type:n.Input}],isMultiselectable:[{type:n.Input}],optionTemplate:[{type:n.Input}],optionApi:[{type:n.Input}],typeaheadElement:[{type:n.Input}],optionMouseover:[{type:n.Output}],optionMousedown:[{type:n.Output}],optionClick:[{type:n.Output}]},e}(),ci=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,ti,$e,ri],exports:[qn],declarations:[qn,ai,si],providers:[Un]}]}],e}(),li=function(){function e(){this.selected=!1,this.simplified=!1,this.tabbable=!1,this.itemFocus=new n.EventEmitter,this.selectedChange=new n.EventEmitter}return Object.defineProperty(e.prototype,"disabled",{get:function(){return this.facet&&this.facet.disabled},enumerable:!1,configurable:!0}),e.prototype.getLabel=function(){return this.facet?this.facet.title:null},e.prototype.focus=function(){this.option.nativeElement.focus()},e.decorators=[{type:n.Component,args:[{selector:"ux-facet-typeahead-list-item",template:'<div #option\n    uxFocusIndicator\n    role="option"\n    class="facet-typeahead-list-selected-option"\n    [attr.aria-checked]="selected"\n    [tabindex]="tabbable ? 0 : -1"\n    (focus)="itemFocus.emit()"\n    (click)="selectedChange.emit(facet)"\n    (keydown.enter)="selectedChange.emit(facet)"\n    (keydown.space)="selectedChange.emit(facet); $event.preventDefault()"\n    (keydown.spacebar)="selectedChange.emit(facet); $event.preventDefault()">\n\n    <ux-checkbox [clickable]="false" [value]="selected" [simplified]="simplified" [tabindex]="-1" [disabled]="disabled">\n        <span class="facet-typeahead-list-selected-option-title">{{ facet?.title }}</span>\n        <span *ngIf="facet?.count !== undefined" class="facet-typeahead-list-selected-option-count">({{ facet?.count }})</span>\n    </ux-checkbox>\n\n</div>',changeDetection:n.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],e.propDecorators={facet:[{type:n.Input}],selected:[{type:n.Input}],simplified:[{type:n.Input}],tabbable:[{type:n.Input}],itemFocus:[{type:n.Output}],selectedChange:[{type:n.Output}],option:[{type:n.ViewChild,args:["option",{static:!0}]}]},e}(),ui=1,pi=function(){function e(e,i,o){this.typeaheadKeyService=e,this.facetService=i,this._announcer=o,this.expanded=!0,this.suggestions=[],this.simplified=!0,this.queryChange=new n.EventEmitter,this.events=new t.Subject,this.selectedChange=new n.EventEmitter,this.query$=new t.BehaviorSubject(""),this.loading=!1,this.activeIndex=0,this.typeaheadId="ux-facet-typeahead-"+ui++,this.typeaheadOpen=!1,this.typeaheadOptions=[],this._facets=[],this._selected=[],this._onDestroy=new t.Subject,this._config={placeholder:"",maxResults:50,minCharacters:1}}return Object.defineProperty(e.prototype,"selected",{set:function(e){var t=this;Array.isArray(e)&&e.forEach((function(e){return t.facetService.select(e)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"query",{set:function(e){e!==this.query$.value&&this.query$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeaheadConfig",{get:function(){return this._config},set:function(e){this._config=O({placeholder:"",maxResults:50,minCharacters:1},e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.facetService.events$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){t instanceof Ln&&(e.events.next(t),e._selected=[],e.selectedChange.next(e._selected)),t instanceof Mn&&e.isOwnFacet(t.facet)&&-1!==e._selected.indexOf(t.facet)&&(e.events.next(t),e._selected=e._selected.filter((function(e){return e!==t.facet})),e.selectedChange.next(e._selected)),t instanceof An&&e.isOwnFacet(t.facet)&&-1===e._selected.indexOf(t.facet)&&(e.events.next(t),e._selected=A(e._selected,[t.facet]),e.selectedChange.next(e._selected))})),this.getFacetObservable().pipe(s.first()).subscribe((function(t){return e._facets=t}))},e.prototype.ngAfterViewInit=function(){var e=this;this.query$.pipe(s.takeUntil(this._onDestroy),s.distinctUntilChanged()).subscribe((function(t){return e.queryChange.emit(t)})),this.query$.pipe(s.takeUntil(this._onDestroy),L(),s.tap((function(){e.loading=!0,e.typeaheadOptions=[]})),s.mergeMap((function(){return e.getFacetObservable().pipe(s.map((function(t){return t.filter((function(t){return!t.disabled&&!e.facetService.facets$.value.find((function(e){return e===t}))})).slice(0,e._config.maxResults)})))}))).subscribe((function(t){e.loading=!1,e.typeaheadOptions=t})),this._focusKeyManager=new o.FocusKeyManager(this.options).withVerticalOrientation(),this._focusKeyManager.change.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){return e.activeIndex=t}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.onKeydown=function(e){this._focusKeyManager.onKeydown(e)},e.prototype.onFocus=function(e){-1===this._focusKeyManager.activeItemIndex&&this._focusKeyManager.setActiveItem(e)},e.prototype.toggleFacet=function(e,t){this.facetService.isSelected(t)?this.facetService.deselect(t):this.facetService.select(t),this._focusKeyManager.setActiveItem(e)},e.prototype.updateTypeahead=function(e){void 0===e&&(e=""),this.typeaheadOpen=e.length>=this._config.minCharacters},e.prototype.getFacetObservable=function(){return t.isObservable(this.facets)?this.facets:t.of(this.facets)},e.prototype.select=function(e){this.facetService.isSelected(e.option)||(this.facetService.select(e.option),this.query$.next(""),this._announcer.announce(e.option.title+" selected."))},e.prototype.isOwnFacet=function(e){return!!this._facets&&-1!==this._facets.indexOf(e)},e.ctorParameters=function(){return[{type:Vn},{type:$n},{type:o.LiveAnnouncer}]},e.decorators=[{type:n.Component,args:[{selector:"ux-facet-typeahead-list",template:'<ux-facet-header [header]="header" [(expanded)]="expanded"></ux-facet-header>\n\n<div class="facet-typeahead-list-container" role="listbox" *ngIf="expanded">\n\n    <div class="facet-typeahead-list-selected-container" tabindex="-1" *ngIf="suggestions?.length > 0">\n\n        <ux-facet-typeahead-list-item\n            *ngFor="let facet of suggestions; let index = index"\n            [facet]="facet"\n            [tabbable]="activeIndex === index"\n            [selected]="facetService.isSelected(facet)"\n            (selectedChange)="toggleFacet(index, facet)"\n            (keydown)="onKeydown($event)"\n            (itemFocus)="onFocus(index)">\n        </ux-facet-typeahead-list-item>\n\n    </div>\n\n    <div class="facet-typeahead-list-control">\n\n        \x3c!-- Create Typeahead Control --\x3e\n        <input type="text"\n            class="form-control"\n            [placeholder]="typeaheadConfig?.placeholder"\n            [attr.aria-activedescendant]="highlightedElement?.id"\n            aria-autocomplete="list"\n            aria-multiline="false"\n            [attr.aria-controls]="typeaheadId"\n            [ngModel]="query$ | async"\n            (ngModelChange)="query$.next($event); updateTypeahead($event)"\n            (keydown)="typeaheadKeyService.handleKey($event, typeahead)"\n            (blur)="typeaheadOpen = false">\n\n        <ux-typeahead #typeahead\n            [id]="typeaheadId"\n            [(open)]="typeaheadOpen"\n            [loading]="loading"\n            display="title"\n            [options]="typeaheadOptions"\n            [optionTemplate]="facetOptionTemplate"\n            [selectOnEnter]="true"\n            (optionSelected)="select($event)"\n            (highlightedElementChange)="highlightedElement = $event">\n        </ux-typeahead>\n\n    </div>\n\n</div>\n\n<ng-template #facetOptionTemplate let-option="option" let-api="api">\n    <p class="facet-typeahead-list-option" [attr.aria-label]="option.title">\n        <span [innerHTML]="option.title | facetTypeaheadHighlight: (query$ | async)"></span>\n        <span class="facet-typeahead-list-option-count"\n            *ngIf="option.count">\n            ({{ option.count }})\n        </span>\n    </p>\n</ng-template>'}]}],e.ctorParameters=function(){return[{type:Vn},{type:$n},{type:o.LiveAnnouncer}]},e.propDecorators={selected:[{type:n.Input}],facets:[{type:n.Input}],header:[{type:n.Input}],expanded:[{type:n.Input}],suggestions:[{type:n.Input}],simplified:[{type:n.Input}],query:[{type:n.Input}],queryChange:[{type:n.Output}],events:[{type:n.Output}],selectedChange:[{type:n.Output}],typeaheadConfig:[{type:n.Input}],options:[{type:n.ViewChildren,args:[li]}]},e}(),hi=function(){function e(){}return e.prototype.transform=function(e,t){var n=new RegExp(t,"i");return e.replace(n,'<b class="facet-typeahead-highlighted">'+e.match(n)+"</b>")},e.decorators=[{type:n.Pipe,args:[{name:"facetTypeaheadHighlight"}]}],e}(),di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.decorators=[{type:n.Directive,args:[{selector:"[uxReorderableHandle]"}]}],t}(m.CdkDragHandle),gi=function(e){function i(){var n=null!==e&&e.apply(this,arguments)||this;return n.previewClass="gu-mirror",n._widths=new Map,n._destroy$=new t.Subject,n}return D(i,e),Object.defineProperty(i.prototype,"uxReorderableModel",{set:function(e){this.data=e},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){var e=this,t=this.dropContainer;this._dragRef.beforeStarted.pipe(s.takeUntil(this._destroy$)).subscribe((function(){return e.captureTableCellStyles()})),this.started.pipe(s.takeUntil(this._destroy$)).subscribe((function(){t.reorderStart.emit({element:e.element.nativeElement,model:e.data}),e.setTableCellWidths()})),this.dropped.pipe(s.takeUntil(this._destroy$)).subscribe((function(n){n.container===n.previousContainer&&n.currentIndex===n.previousIndex?t.reorderCancel.emit({element:e.element.nativeElement,model:e.data}):t.reorderEnd.emit({element:e.element.nativeElement,model:e.data})}))},i.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this._destroy$.next(),this._destroy$.complete()},i.prototype.captureTableCellStyles=function(){var e=this;"TR"===this.element.nativeElement.tagName&&Array.from(this.element.nativeElement.children).forEach((function(t,n){e._widths.set(n,getComputedStyle(t).getPropertyValue("width"))}))},i.prototype.setTableCellWidths=function(){var e=this;"TR"===this.element.nativeElement.tagName&&Array.from(this._dragRef._preview.children).forEach((function(t,n){return t.style.minWidth=e._widths.get(n)}))},i.decorators=[{type:n.Directive,args:[{selector:"[uxReorderableModel]",host:{"[class.ux-reorderable-moving]":"_dragRef.isDragging()"}}]}],i.propDecorators={uxReorderableModel:[{type:n.Input}]},i}(m.CdkDrag),fi=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.reorderableModelChange=new n.EventEmitter,i.reorderStart=new n.EventEmitter,i.reorderCancel=new n.EventEmitter,i.reorderEnd=new n.EventEmitter,i._destroy$=new t.Subject,i}return D(i,e),Object.defineProperty(i.prototype,"reorderableGroup",{get:function(){return this._reorderableGroup},set:function(e){var t,n,o=i._groups$.value;this._reorderableGroup=e,i._groups$.next(O(O({},o),((t={})[e]=A(null!==(n=o[e])&&void 0!==n?n:[],[this.id]),t)))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"reorderingDisabled",{set:function(e){this.disabled=e},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){var e=this;this.dropped.subscribe((function(t){t.previousContainer===t.container?m.moveItemInArray(e.reorderableModel,t.previousIndex,t.currentIndex):m.transferArrayItem(t.previousContainer.reorderableModel,t.container.reorderableModel,t.previousIndex,t.currentIndex),e.reorderableModelChange.emit(e.reorderableModel)})),i._groups$.pipe(s.takeUntil(this._destroy$)).subscribe((function(t){var n;return e.connectedTo=(null!==(n=t[e.reorderableGroup])&&void 0!==n?n:[]).filter((function(t){return t!==e.id}))}))},i.prototype.ngOnDestroy=function(){this._destroy$.next(),this._destroy$.complete()},i._groups$=new t.BehaviorSubject({}),i.decorators=[{type:n.Directive,args:[{selector:"[uxReorderable]",providers:[{provide:m.CDK_DROP_LIST,useExisting:i}]}]}],i.propDecorators={reorderableModel:[{type:n.Input}],reorderableGroup:[{type:n.Input}],reorderingDisabled:[{type:n.Input}],reorderableModelChange:[{type:n.Output}],reorderStart:[{type:n.Output}],reorderCancel:[{type:n.Output}],reorderEnd:[{type:n.Output}]},i}(m.CdkDropList),yi=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,m.DragDropModule],declarations:[fi,di,gi],exports:[fi,di,gi]}]}],e}(),mi=[Nn,Rn,jn,Fn,pi,li,hi,Bn],vi=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[o.A11yModule,_e,Ue,i.CommonModule,h.FormsModule,Pe,yi,rt,ci],exports:mi,declarations:mi}]}],e}(),bi=function(e){this.filter=e},_i=function(){},xi=function(e){this.filter=e},wi=function(){function e(){this.filters$=new t.BehaviorSubject([]),this.events$=new t.Subject}return e.prototype.add=function(e){this.isSelected(e)||e.initial||(this.filters$.next(A(this.filters$.value,[e])),this.events$.next(new bi(e)))},e.prototype.remove=function(e){this.isSelected(e)&&(this.filters$.next(this.filters$.value.filter((function(t){return t!==e}))),this.events$.next(new xi(e)))},e.prototype.removeAll=function(){this.filters$.next([]),this.events$.next(new _i)},e.prototype.isSelected=function(e){return this.filters$.value.indexOf(e)>-1},e.decorators=[{type:n.Injectable}],e}(),Si=function(){function e(e){var i=this;this.filterService=e,this.clearAriaLabel="Clear All Filters",this.filtersChange=new n.EventEmitter,this.events=new n.EventEmitter,this._onDestroy=new t.Subject,e.filters$.pipe(s.distinctUntilChanged(),s.takeUntil(this._onDestroy)).subscribe((function(e){return i.filtersChange.emit(e)})),this.filterService.events$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){return i.events.emit(e)}))}return Object.defineProperty(e.prototype,"filters",{set:function(e){this.filterService.filters$.next(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.ctorParameters=function(){return[{type:wi}]},e.decorators=[{type:n.Component,args:[{selector:"ux-filter-container",template:'<ng-content></ng-content>\n\n\x3c!-- Add a Clear Button --\x3e\n<button type="button"\n    class="btn btn-link btn-secondary m-l-xs"\n    [class.table-filter-clear]="clearAllTemplate"\n    [class.btn-icon]="!clearAllTemplate"\n    tabindex="0"\n    [attr.aria-label]="clearAriaLabel"\n    *ngIf="(filterService.filters$ | async).length > 0"\n    [uxTooltip]="clearTooltip || \'Clear All\'"\n    (click)="filterService.removeAll()">\n    <ng-container [ngTemplateOutlet]="clearAllTemplate || defaultClearAllTemplate">\n    </ng-container>\n</button>\n\n<ng-template #defaultClearAllTemplate>\n    <svg class="filter-selected-clear-graphic" width="100%" viewBox="0 0 19 12" shape-rendering="geometricPrecision">\n        <rect class="light-grey" x="0" y="2" width="7" height="2"></rect>\n        <rect class="dark-grey" x="0" y="5" width="9" height="2"></rect>\n        <rect class="light-grey" x="0" y="8" width="7" height="2"></rect>\n        <path class="dark-grey" d="M9,1 h1 l9,9 v1 h-1 l-9,-9 v-1 Z"></path>\n        <path class="dark-grey" d="M9,11 v-1 l9,-9 h1 v1 l-9,9 h-1 Z"></path>\n    </svg>\n</ng-template>\n',providers:[wi],changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:wi}]},e.propDecorators={filters:[{type:n.Input}],clearTooltip:[{type:n.Input}],clearAriaLabel:[{type:n.Input}],filtersChange:[{type:n.Output}],events:[{type:n.Output}],clearAllTemplate:[{type:n.ContentChild,args:["clearAllTemplate",{static:!1}]}]},e}(),Ci=0,Di=function(){function e(e,n){var i=this;this._filterService=e,this._changeDetector=n,this._uniqueId=Ci++,this.filters=[],this._onDestroy=new t.Subject,e.events$.pipe(s.filter((function(e){return e instanceof _i})),s.takeUntil(this._onDestroy)).subscribe((function(){return i.removeFilter()})),e.filters$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){i.selected&&-1===e.indexOf(i.selected)&&i.removeFilter()}))}return Object.defineProperty(e.prototype,"filterId",{get:function(){var e;return null!==(e=this.id)&&void 0!==e?e:"ux-filter-dropdown-"+this._uniqueId},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.selected=this.initial,this._filterService.filters$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){t.forEach((function(t){-1!==e.filters.indexOf(t)&&(e.selected=t)})),e._changeDetector.markForCheck()}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.selectFilter=function(e,t){this.removeFilter(),this.selected=e,this._filterService.add(this.selected),t.stopPropagation(),t.preventDefault()},e.prototype.removeFilter=function(){this._filterService.remove(this.selected),this.selected=this.initial,this._changeDetector.markForCheck()},e.ctorParameters=function(){return[{type:wi},{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-filter-dropdown",template:'<div class="btn-group">\n    <button\n        type="button"\n        class="filter-dropdown btn dropdown-toggle"\n        [id]="filterId + \'-trigger\'"\n        [class.active]="selected !== initial"\n        [uxMenuTriggerFor]="menu">\n        {{ selected?.group }}\n        <span class="filter-header" *ngIf="selected !== initial">\n            ({{ selected?.name }})\n        </span>\n        <ux-icon name="down"></ux-icon>\n    </button>\n\n    <ux-menu #menu menuClass="ux-filter-menu">\n        <button\n            type="button"\n            *ngFor="let filter of filters; let index = index"\n            uxMenuItem\n            [id]="filter.id || filterId + \'-item-\' + index"\n            [attr.aria-selected]="filter === selected"\n            (click)="selectFilter(filter, $event)"\n            (keydown.enter)="selectFilter(filter, $event)">\n\n            <ux-icon\n                name="checkmark"\n                [style.visibility]="filter === selected ? \'visible\' : \'hidden\'">\n            </ux-icon>\n\n            <span class="filter-dropdown-title">{{ filter.name }}</span>\n        </button>\n    </ux-menu>\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:wi},{type:n.ChangeDetectorRef}]},e.propDecorators={id:[{type:n.Input}],filters:[{type:n.Input}],initial:[{type:n.Input}]},e}(),ki=0,Ii=function(){function e(e,n,i){var o=this;this.typeaheadKeyService=e,this._filterService=n,this._changeDetector=i,this._uniqueId=ki++,this.filters=[],this.typeaheadId="ux-filter-dynamic-typeahead-"+this._uniqueId,this.query$=new t.BehaviorSubject(""),this.showTypeahead=!0,this.typeaheadItems=[],this.typeaheadOpen=!1,this._defaultOptions={placeholder:"",minCharacters:3,maxResults:1/0},this._options=O({},this._defaultOptions),this._onDestroy=new t.Subject,n.events$.pipe(s.filter((function(e){return e instanceof _i})),s.takeUntil(this._onDestroy)).subscribe((function(){return o.removeFilter()})),n.filters$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){o.selected&&-1===e.indexOf(o.selected)&&o.removeFilter()}))}return Object.defineProperty(e.prototype,"options",{get:function(){return O(O({},this._defaultOptions),this._options)},set:function(e){this._options=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filterId",{get:function(){var e;return null!==(e=this.id)&&void 0!==e?e:"ux-filter-dynamic-"+this._uniqueId},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e,t=this;this.selected=this.initial,this._filterService.filters$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){e.forEach((function(e){-1!==t.filters.indexOf(e)&&(t.selected=e)})),t._changeDetector.markForCheck()})),this.typeaheadItems=this.getItems(),(null===(e=this.options)||void 0===e?void 0:e.maxIndividualItems)+1>=this.filters.length&&(this.showTypeahead=!1)},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.getItems=function(){var e=this,t=this.query$.value.toLowerCase();return this.filters.filter((function(n){return n!==e.initial&&-1!==n.name.toLowerCase().indexOf(t)})).map((function(e){return e.name})).slice(0,this._options.maxResults)},e.prototype.onClose=function(){this.query$.next("")},e.prototype.removeFilter=function(){this.selected!==this.initial&&(this._filterService.remove(this.selected),this.selected=this.initial),this.query$.next(""),this._changeDetector.markForCheck()},e.prototype.selectFilter=function(e){this.removeFilter(),this.selected=e,this._filterService.add(this.selected)},e.prototype.updateTypeahead=function(e){this.typeaheadOpen=e.length>=this._options.minCharacters,this.typeaheadItems=this.getItems()},e.prototype.select=function(e){var t=this.filters.find((function(t){return t.name===e.option}));t&&this.selectFilter(t)},e.ctorParameters=function(){return[{type:Vn},{type:wi},{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-filter-dynamic",template:'<div class="btn-group ux-dynamic-filter">\n\n    <button\n        type="button"\n        [class.active]="selected !== initial"\n        class="filter-dropdown btn dropdown-toggle"\n        [id]="filterId + \'-trigger\'"\n        [uxMenuTriggerFor]="menu"\n        #trigger="ux-menu-trigger">\n        {{ selected?.group }}\n        <span class="filter-header" *ngIf="selected !== initial">\n                ({{ selected?.name }})\n            </span>\n        <ux-icon name="down"></ux-icon>\n    </button>\n\n    <ux-menu #menu menuClass="ux-dynamic-filter-menu" (closed)="onClose()">\n        \x3c!-- Initial Option --\x3e\n        <button\n            uxMenuItem\n            *ngIf="showTypeahead"\n            [id]="initial.id || filterId + \'-initial-option\'"\n            (click)="removeFilter()"\n            (keydown.enter)="removeFilter()">\n            <ux-icon\n                name="checkmark"\n                [style.visibility]="initial === selected ? \'visible\' : \'hidden\'">\n            </ux-icon>\n            <span class="filter-dropdown-title">\n                {{ initial.name }}\n            </span>\n        </button>\n\n        \x3c!-- Selected Options --\x3e\n        <button uxMenuItem\n                *ngIf="selected !== initial && showTypeahead"\n                [id]="selected.id || filterId + \'-selection\'">\n            <ux-icon name="checkmark"></ux-icon>\n            <span class="filter-dropdown-title">{{ selected.name }}</span>\n        </button>\n\n        <ux-menu-divider *ngIf="showTypeahead"></ux-menu-divider>\n\n        <div *ngIf="showTypeahead" class="typeahead-box" role="none">\n\n            <input type="text"\n                   class="form-control"\n                   [placeholder]="options?.placeholder"\n                   [attr.aria-activedescendant]="highlightedElement?.id"\n                   [attr.aria-controls]="typeaheadId"\n                   aria-autocomplete="list"\n                   aria-multiline="false"\n                   [ngModel]="query$ | async"\n                   (ngModelChange)="query$.next($event); updateTypeahead($event)"\n                   (keydown)="typeaheadKeyService.handleKey($event, typeahead); $event.stopPropagation();"\n                   (keydown.enter)="$event.preventDefault()"\n                   (blur)="typeaheadOpen = false"\n                   (click)="$event.stopPropagation()">\n\n            <ux-typeahead #typeahead\n                          [id]="typeaheadId"\n                          [(open)]="typeaheadOpen"\n                          display="title"\n                          [selectOnEnter]="true"\n                          [options]="typeaheadItems"\n                          [optionTemplate]="filterOptionTemplate"\n                          (optionSelected)="select($event); trigger.closeMenu($event.origin)"\n                          (highlightedElementChange)="highlightedElement = $event">\n            </ux-typeahead>\n        </div>\n\n        <ng-container *ngIf="!showTypeahead">\n\n            <button\n                *ngFor="let filter of filters; let index = index"\n                type="button"\n                uxMenuItem\n                [id]="filter.id || filterId + \'-item-\' + index"\n                (click)="selectFilter(filter); trigger.closeMenu(\'mouse\')"\n                (keydown.enter)="selectFilter(filter); trigger.closeMenu(\'keyboard\')">\n\n                <ux-icon\n                    name="checkmark"\n                    [style.visibility]="filter === selected ? \'visible\' : \'hidden\'">\n                </ux-icon>\n\n                <span class="filter-dropdown-title">{{ filter.name }}</span>\n            </button>\n\n        </ng-container>\n\n    </ux-menu>\n</div>\n\n<ng-template #filterOptionTemplate let-option="option" let-api="api">\n    <span [attr.aria-label]="option" [innerHTML]="option | filterTypeaheadHighlight: (query$ | async)"></span>\n</ng-template>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:Vn},{type:wi},{type:n.ChangeDetectorRef}]},e.propDecorators={id:[{type:n.Input}],filters:[{type:n.Input}],initial:[{type:n.Input}],options:[{type:n.Input}]},e}(),Oi=function(){function e(){}return e.prototype.transform=function(e,t){var n=new RegExp(t,"i");return e.replace(n,'<b class="filter-typeahead-highlighted">'+e.match(n)+"</b>")},e.decorators=[{type:n.Pipe,args:[{name:"filterTypeaheadHighlight"}]}],e}(),Pi=function(){function e(){}return e.decorators=[{type:n.Component,args:[{selector:"ux-menu-divider",template:"",changeDetection:n.ChangeDetectionStrategy.OnPush,host:{role:"separator"}}]}],e}();!function(e){e[e.Default=0]="Default",e[e.Custom=1]="Custom"}(sn||(sn={}));var Ti,Ei=new n.InjectionToken("MENU_OPTIONS_TOKEN"),Ri=function(){function e(e,i){this._changeDetector=e,this._options=i,this.placement="bottom",this.alignment="start",this.animate=!this._options||!this._options.hasOwnProperty("animate")||this._options.animate,this.opening=new n.EventEmitter,this.opened=new n.EventEmitter,this.closing=new n.EventEmitter,this.closed=new n.EventEmitter,this.isMenuOpen=!1,this._isAnimating=!1,this._isSubMenu=!1,this._activeItem$=new t.BehaviorSubject(null),this._closeAll$=new t.Subject,this._onKeydown$=new t.Subject,this._isHovering$=new t.BehaviorSubject(!1),this._isFocused$=new t.BehaviorSubject(!1),this._items$=new t.BehaviorSubject([]),this._onDestroy$=new t.Subject,this._itemsList=new n.QueryList}return Object.defineProperty(e.prototype,"_isExpanded",{get:function(){return this._menuItems.pipe(s.switchMap((function(e){return t.merge.apply(void 0,A(e.map((function(e){return e.isExpanded$}))))})),s.takeUntil(this._onDestroy$))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_menuItemClick",{get:function(){return this._menuItems.pipe(s.switchMap((function(e){return t.merge.apply(void 0,A(e.map((function(e){return e.onClick$}))))})),s.takeUntil(this._onDestroy$))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_menuItems",{get:function(){return this._items$.pipe(s.map((function(e){return e.filter((function(e){return e.type===sn.Default}))})))},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this._items$.pipe(s.takeUntil(this._onDestroy$)).subscribe((function(t){!e._activeItem$.value&&t.length>0&&e._activeItem$.next(t[0]),e._itemsList.reset(t),e._itemsList.notifyOnChanges()})),this._keyManager=new o.FocusKeyManager(this._itemsList).withVerticalOrientation().withTypeAhead().withWrap(),this._keyManager.change.pipe(s.map((function(){return e._keyManager.activeItem})),s.takeUntil(this._onDestroy$)).subscribe((function(t){return e._activeItem$.next(t)}))},e.prototype.ngOnDestroy=function(){this._onDestroy$.next(),this._onDestroy$.complete(),this._closeAll$.complete(),this._isHovering$.complete(),this._isFocused$.complete(),this._activeItem$.complete(),this._items$.complete()},e.prototype._addItem=function(e){this.hasItem(e)||this._items$.next(A(this._items$.value,[e]))},e.prototype._removeItem=function(e){this.hasItem(e)&&this._items$.next(this._items$.value.filter((function(t){return t!==e})))},e.prototype.hasItem=function(e){return!!this._items$.value.find((function(t){return t===e}))},e.prototype._setMenuOpen=function(e){this.isMenuOpen=e,e||(this._isHovering$.next(!1),this._isFocused$.next(!1)),this._changeDetector.destroyed||this._changeDetector.detectChanges(),e?this.opening.emit():this.closing.emit()},e.prototype._onAnimationStart=function(){this._isAnimating=!0},e.prototype._onAnimationDone=function(){this._isAnimating=!1,this.isMenuOpen?this.opened.emit():this.closed.emit()},e.prototype._closeMenu=function(){this._setMenuOpen(!1)},e.prototype._onKeydown=function(e){this._keyManager.setFocusOrigin("keyboard").onKeydown(e),this._onKeydown$.next(e)},e.prototype._onHoverStart=function(){this._isHovering$.next(!0)},e.prototype._onHoverEnd=function(){this._isHovering$.next(!1)},e.prototype._onFocus=function(){this._isFocused$.next(!0)},e.prototype._onBlur=function(){this._isFocused$.next(!1)},e.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[Ei]}]}]},e.decorators=[{type:n.Component,args:[{selector:"ux-menu",template:'<ng-template>\n    <div\n        *ngIf="isMenuOpen"\n        class="ux-menu"\n        [class.ux-sub-menu]="_isSubMenu"\n        [class.ux-menu-placement-top]="placement === \'top\'"\n        [ngClass]="menuClass"\n        @menuAnimation\n        [@.disabled]="!animate"\n        (@menuAnimation.start)="_onAnimationStart()"\n        (@menuAnimation.done)="_onAnimationDone()"\n        (mouseenter)="_onHoverStart()"\n        (mouseover)="_onHoverStart()"\n        (mouseleave)="_onHoverEnd()"\n        (focusin)="_onFocus()"\n        (focusout)="_onBlur()">\n        <ng-content></ng-content>\n    </div>\n</ng-template>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,host:{role:"menu"},animations:[v.trigger("menuAnimation",[v.transition(":enter",[v.style({opacity:0,transform:"scaleY(0)"}),v.animate("200ms ease-out",v.style({opacity:1,transform:"none"}))]),v.transition(":leave",[v.animate("200ms ease-out",v.style({opacity:0,transform:"scaleY(0)"}))])])]}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[Ei]}]}]},e.propDecorators={placement:[{type:n.Input}],alignment:[{type:n.Input}],animate:[{type:n.Input}],menuClass:[{type:n.Input}],opening:[{type:n.Output}],opened:[{type:n.Output}],closing:[{type:n.Output}],closed:[{type:n.Output}],templateRef:[{type:n.ViewChild,args:[n.TemplateRef,{static:!1}]}]},e}(),Ai=function(){function e(e,i,o,r){this._menu=e,this._elementRef=i,this._focusIndicatorService=o,this._renderer=r,this.role="menuitem",this.activate=new n.EventEmitter,this.type=sn.Default,this.isHovered$=new t.BehaviorSubject(!1),this.isFocused$=new t.BehaviorSubject(!1),this.isExpanded$=new t.BehaviorSubject(!1),this.onClick$=new t.Subject,this._onDestroy$=new t.Subject,this._disabled=!1}return Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=a.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._menu.isMenuOpen},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._menu._addItem(this),this._focusIndicator=this._focusIndicatorService.monitor(this._elementRef.nativeElement),this._menu._activeItem$.pipe(s.takeUntil(this._onDestroy$)).subscribe((function(t){return e.setTabIndex(t===e)}))},e.prototype.ngOnDestroy=function(){this._menu._removeItem(this),this.isHovered$.complete(),this.isExpanded$.complete(),this.isFocused$.complete(),this.onClick$.complete(),this._focusIndicator.destroy(),this._onDestroy$.next(),this._onDestroy$.complete()},e.prototype.focus=function(e){this._focusIndicator.focus(e)},e.prototype.getLabel=function(){return this._elementRef.nativeElement.textContent.trim()},e.prototype._onMouseEnter=function(){this.isHovered$.next(!0)},e.prototype._onMouseLeave=function(){this.isHovered$.next(!1)},e.prototype._onFocus=function(){this.isFocused$.next(!0)},e.prototype._onBlur=function(){this.isFocused$.next(!1)},e.prototype._onClick=function(e){this.disabled||(this.onClick$.next($(e)?"keyboard":"mouse"),this.activate.emit(e))},e.prototype._onKeydown=function(e){this._menu._onKeydown(e)},e.prototype.setTabIndex=function(e){this._renderer.setAttribute(this._elementRef.nativeElement,"tabindex",e?"0":"-1")},e.ctorParameters=function(){return[{type:Ri},{type:n.ElementRef},{type:ie},{type:n.Renderer2}]},e.decorators=[{type:n.Component,args:[{selector:"[uxMenuItem]",template:"<ng-content></ng-content>\n",changeDetection:n.ChangeDetectionStrategy.OnPush,host:{"[attr.disabled]":'disabled ? "disabled" : null',"[attr.role]":"role","[class.disabled]":"disabled","[class.ux-menu-item]":"true","[class.open]":"isOpen"}}]}],e.ctorParameters=function(){return[{type:Ri},{type:n.ElementRef},{type:ie},{type:n.Renderer2}]},e.propDecorators={disabled:[{type:n.Input}],role:[{type:n.Input}],activate:[{type:n.Output}],_onMouseEnter:[{type:n.HostListener,args:["mouseenter"]}],_onMouseLeave:[{type:n.HostListener,args:["mouseleave"]}],_onFocus:[{type:n.HostListener,args:["focus"]}],_onBlur:[{type:n.HostListener,args:["blur"]}],_onClick:[{type:n.HostListener,args:["click",["$event"]]},{type:n.HostListener,args:["keydown.enter",["$event"]]}],_onKeydown:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),Mi=function(){function e(e,n,i,o){this._menu=e,this._elementRef=n,this._focusIndicatorService=i,this._renderer=o,this.disabled=!1,this.type=sn.Default,this._onDestroy$=new t.Subject}return e.prototype.ngOnInit=function(){var e=this;this._menu._addItem(this),this._focusIndicator=this._focusIndicatorService.monitor(this._elementRef.nativeElement),this._menu._activeItem$.pipe(s.takeUntil(this._onDestroy$)).subscribe((function(t){return e.setTabIndex(t===e)}))},e.prototype.ngOnDestroy=function(){this._onDestroy$.next(),this._onDestroy$.complete(),this._focusIndicator.destroy()},e.prototype.focus=function(e){this._focusIndicator.focus(e)},e.prototype.getLabel=function(){return this._elementRef.nativeElement.textContent.trim()},e.prototype._onKeydown=function(e){this._menu._onKeydown(e)},e.prototype.setTabIndex=function(e){this._renderer.setAttribute(this._elementRef.nativeElement,"tabindex",e?"0":"-1")},e.ctorParameters=function(){return[{type:Ri},{type:n.ElementRef},{type:ie},{type:n.Renderer2}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxMenuTabbableItem]"}]}],e.ctorParameters=function(){return[{type:Ri},{type:n.ElementRef},{type:ie},{type:n.Renderer2}]},e.propDecorators={disabled:[{type:n.Input}],_onKeydown:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),Li=function(){function e(e,n,i,o,r,a,s){this._overlay=e,this._elementRef=n,this._viewContainerRef=i,this._focusOrigin=o,this._focusIndicatorService=r,this._parentMenu=a,this._menuItem=s,this.disabled=!1,this._onDestroy$=new t.Subject}return Object.defineProperty(e.prototype,"_isSubmenuTrigger",{get:function(){return!!this._parentMenu},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_isRootTrigger",{get:function(){return!this._isSubmenuTrigger},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_menuShouldClose",{get:function(){return this._isSubmenuTrigger?t.combineLatest(this.menu._isHovering$,this.menu._isFocused$,this._menuItem.isHovered$,this.menu._isExpanded,this._menuItem.isFocused$).pipe(s.debounceTime(50),s.filter((function(e){var t=R(e,5);return!(t[0]||t[1]||t[2]||t[3]||t[4])}))):t.of()},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._focusIndicator=this._focusIndicatorService.monitor(this._elementRef.nativeElement),this._isSubmenuTrigger&&(this.menu._isSubMenu=!0,this.menu.placement="right"),this.menu.opened.pipe(s.takeUntil(this._onDestroy$)).subscribe((function(){return e.menuDidOpen()})),this.menu._closeAll$.pipe(s.takeUntil(this._onDestroy$)).subscribe((function(t){return e.closeMenu(t,!0)})),this.menu._onKeydown$.pipe(s.takeUntil(this._onDestroy$)).subscribe((function(t){return e.onMenuKeydown(t)}))},e.prototype.ngOnDestroy=function(){this.destroyMenu(),this._onDestroy$.next(),this._onDestroy$.complete()},e.prototype.openMenu=function(){var e=this;if(!this.menu.isMenuOpen&&!this.disabled){var t=this.getOverlay(),n=this.getPortal();t.hasAttached()||(t.attach(n),this.menu._setMenuOpen(!0),this._menuItem&&this._menuItem.isExpanded$.next(!0),this.menu._menuItemClick.pipe(s.take(1),s.takeUntil(this._onDestroy$)).subscribe((function(t){return e.closeMenu(t,!0)})),this.didMenuClose().pipe(s.take(1),s.takeUntil(this._onDestroy$)).subscribe((function(){return e.closeMenu()})),this.menu.closed.pipe(s.take(1),s.takeUntil(this._onDestroy$)).subscribe((function(){return e.destroyMenu()})))}},e.prototype.closeMenu=function(e,t){return void 0===t&&(t=!1),this.menu._setMenuOpen(!1),this._menuItem&&this._menuItem.isExpanded$.next(!1),t&&this._parentMenu&&this._parentMenu._closeAll$.next(e),this._isRootTrigger&&this._focusIndicator.focus(e),this.menu.closed},e.prototype.toggleMenu=function(e){if(!this._isSubmenuTrigger){if(!this.menu._isAnimating){var t=e instanceof KeyboardEvent?"keyboard":"mouse";this._focusOrigin.setOrigin(e?t:"program"),this.menu.isMenuOpen?this.closeMenu(t,!0):this.openMenu()}e&&e.preventDefault()}},e.prototype._onMouseEnter=function(){this._isSubmenuTrigger&&!this._parentMenu._isAnimating&&this.openMenu()},e.prototype._onEscape=function(){this.menu.isMenuOpen&&(this.closeMenu(),this._isRootTrigger&&this._focusIndicator.focus("keyboard"))},e.prototype._onKeydown=function(e){("right"===this.menu.placement&&e.keyCode===l.RIGHT_ARROW||"left"===this.menu.placement&&e.keyCode===l.LEFT_ARROW||"top"===this.menu.placement&&e.keyCode===l.UP_ARROW||"bottom"===this.menu.placement&&e.keyCode===l.DOWN_ARROW)&&(this._focusOrigin.setOrigin("keyboard"),this.menu.isMenuOpen?this.menu._keyManager.setFocusOrigin("keyboard").setFirstItemActive():this.openMenu(),e.preventDefault())},e.prototype.destroyMenu=function(){this._overlayRef&&this._overlayRef.detach()},e.prototype.getOverlay=function(){var e;if(this._overlayRef)return this._overlayRef;var t=this.getOrigin(),n=t.originX,i=t.originY,o=this.getOverlayPosition(),r=o.overlayX,a=o.overlayY;return this._overlayRef=this._overlay.create({hasBackdrop:!this._isSubmenuTrigger,backdropClass:"cdk-overlay-transparent-backdrop",scrollStrategy:this._overlay.scrollStrategies.reposition({scrollThrottle:0}),positionStrategy:this._overlay.position().flexibleConnectedTo(null!==(e=this.parent)&&void 0!==e?e:this._elementRef).withLockedPosition().withPositions([{originX:n,originY:i,overlayX:r,overlayY:a},{originX:"start"===this.menu.alignment?"end":"start",originY:i,overlayX:r,overlayY:a},{originX:n,originY:"bottom"===this.menu.placement?"top":"bottom",overlayX:r,overlayY:a},{originX:"start"===this.menu.alignment?"end":"start",originY:"bottom"===this.menu.placement?"top":"bottom",overlayX:r,overlayY:a}])}),this._overlayRef},e.prototype.getPortal=function(){return this._portal&&this.menu.templateRef===this._portal.templateRef||(this._portal=new f.TemplatePortal(this.menu.templateRef,this._viewContainerRef)),this._portal},e.prototype.getOrigin=function(){return this.menu.placement=this.menu.placement||"bottom","top"===this.menu.placement||"bottom"===this.menu.placement?{originX:this.menu.alignment,originY:this.menu.placement}:"left"===this.menu.placement?{originX:"start",originY:this.getVerticalAlignment()}:"right"===this.menu.placement?{originX:"end",originY:this.getVerticalAlignment()}:void 0},e.prototype.getOverlayPosition=function(){return this.menu.placement=this.menu.placement||"top","top"===this.menu.placement?{overlayX:this.menu.alignment,overlayY:"bottom"}:"bottom"===this.menu.placement?{overlayX:this.menu.alignment,overlayY:"top"}:"left"===this.menu.placement?{overlayX:"end",overlayY:this.getVerticalAlignment()}:"right"===this.menu.placement?{overlayX:"start",overlayY:this.getVerticalAlignment()}:void 0},e.prototype.getVerticalAlignment=function(){switch(this.menu.alignment){case"start":return"top";case"end":return"bottom";default:return this.menu.alignment}},e.prototype.didMenuClose=function(){return t.merge(this._overlayRef.backdropClick(),this._overlayRef.detachments(),this._parentMenu?this._parentMenu.closing:t.of(),this._menuShouldClose)},e.prototype.menuDidOpen=function(){"keyboard"===this._focusOrigin.getOrigin()&&this.menu._keyManager.setFocusOrigin("keyboard").setFirstItemActive()},e.prototype.onMenuKeydown=function(e){this._parentMenu&&("right"===this.menu.placement&&e.keyCode===l.LEFT_ARROW||"left"===this.menu.placement&&e.keyCode===l.RIGHT_ARROW||"top"===this.menu.placement&&e.keyCode===l.DOWN_ARROW||"bottom"===this.menu.placement&&e.keyCode===l.UP_ARROW)&&(this.closeMenu(),this._menuItem.focus("keyboard"))},e.ctorParameters=function(){return[{type:g.Overlay},{type:n.ElementRef},{type:n.ViewContainerRef},{type:ne},{type:ie},{type:Ri,decorators:[{type:n.Optional}]},{type:Ai,decorators:[{type:n.Optional},{type:n.Self}]}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxMenuTriggerFor]",exportAs:"ux-menu-trigger",host:{"[attr.disabled]":"disabled ? true : null","[attr.aria-haspopup]":"!!menu","[attr.aria-expanded]":"menu?.isMenuOpen"}}]}],e.ctorParameters=function(){return[{type:g.Overlay},{type:n.ElementRef},{type:n.ViewContainerRef},{type:ne},{type:ie},{type:Ri,decorators:[{type:n.Optional}]},{type:Ai,decorators:[{type:n.Optional},{type:n.Self}]}]},e.propDecorators={menu:[{type:n.Input,args:["uxMenuTriggerFor"]}],disabled:[{type:n.Input}],parent:[{type:n.Input,args:["uxMenuParent"]}],menuTriggers:[{type:n.ContentChildren,args:[e]}],toggleMenu:[{type:n.HostListener,args:["click",["$event"]]},{type:n.HostListener,args:["keydown.enter",["$event"]]}],_onMouseEnter:[{type:n.HostListener,args:["mouseenter"]}],_onEscape:[{type:n.HostListener,args:["document:keydown.escape"]}],_onKeydown:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),$i=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:Ei,useValue:t}]}},e.forChild=function(t){return e.forRoot(t)},e.decorators=[{type:n.NgModule,args:[{declarations:[Ri,Li,Ai,Pi,Mi],imports:[o.A11yModule,_e,i.CommonModule,g.OverlayModule],exports:[Ri,Li,Ai,Pi,Mi]}]}],e}(),Fi=[Si,Di,Ii,Oi],Hi=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[o.A11yModule,_e,i.CommonModule,h.FormsModule,Pe,$i,rt,ci],exports:Fi,declarations:Fi}]}],e}(),ji=function(){function e(e,t){this.direction="horizontal",this.trigger="hover",this.width=280,this.height=200,this.flipped=!1,this.flippedChange=new n.EventEmitter,this._focusIndicator=e.monitor(t.nativeElement)}return e.prototype.ngOnDestroy=function(){this._focusIndicator.destroy()},e.prototype.setFlipped=function(e){this.flipped=e,this.flippedChange.emit(this.flipped)},e.prototype.toggleFlipped=function(){this.setFlipped(!this.flipped)},e.prototype.clickTrigger=function(){"click"===this.trigger&&this.toggleFlipped()},e.prototype.hoverEnter=function(){"hover"===this.trigger&&this.setFlipped(!0)},e.prototype.hoverExit=function(){"hover"===this.trigger&&this.setFlipped(!1)},e.prototype.onKeyDown=function(e){"manual"!==this.trigger&&(this.toggleFlipped(),e.preventDefault())},e.ctorParameters=function(){return[{type:ie},{type:n.ElementRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-flippable-card",template:'<div class="ux-flipper"\n     [class.ux-flip-card]="flipped"\n     [style.width.px]="width"\n     [style.height.px]="height">\n\n    <div class="ux-flippable-card-front"\n         [style.width.px]="width"\n         [style.height.px]="height"\n         [attr.aria-hidden]="flipped">\n\n        <ng-content select="ux-flippable-card-front"></ng-content>\n    </div>\n\n    <div class="ux-flippable-card-back"\n         [style.width.px]="width"\n         [style.height.px]="height"\n         [attr.aria-hidden]="!flipped">\n\n        <ng-content select="ux-flippable-card-back"></ng-content>\n    </div>\n</div>',host:{tabindex:"0","[class.horizontal]":'direction === "horizontal"',"[class.vertical]":'direction === "vertical"'},exportAs:"ux-flippable-card",changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:ie},{type:n.ElementRef}]},e.propDecorators={direction:[{type:n.Input}],trigger:[{type:n.Input}],width:[{type:n.Input}],height:[{type:n.Input}],flipped:[{type:n.Input}],flippedChange:[{type:n.Output}],clickTrigger:[{type:n.HostListener,args:["click"]}],hoverEnter:[{type:n.HostListener,args:["mouseenter"]}],hoverExit:[{type:n.HostListener,args:["mouseleave"]}],onKeyDown:[{type:n.HostListener,args:["keydown.enter",["$event"]]},{type:n.HostListener,args:["keydown.space",["$event"]]},{type:n.HostListener,args:["keydown.spacebar",["$event"]]}]},e}(),Bi=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"ux-flippable-card-front"}]}],e}(),Ni=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"ux-flippable-card-back"}]}],e}(),zi=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e],exports:[ji,Ni,Bi],declarations:[ji,Ni,Bi]}]}],e}(),Vi=function(){function e(){this.open$=new t.BehaviorSubject(!1),this.direction$=new t.BehaviorSubject("top")}return e.prototype.open=function(){this.open$.next(!0)},e.prototype.toggle=function(){this.open$.next(!this.open$.getValue())},e.prototype.close=function(){this.open$.next(!1),this.setPrimaryButtonFocusable()},e.prototype.isHorizontal=function(){return"left"===this.direction$.value||"right"===this.direction$.value},e.prototype.isVertical=function(){return"top"===this.direction$.value||"bottom"===this.direction$.value},e.prototype.setButtons=function(e){var t=this;this._buttons=e,requestAnimationFrame((function(){return t.setPrimaryButtonFocusable()}))},e.prototype.setPrimaryButtonFocusable=function(){this._buttons.forEach((function(e){return e.tabindex$.next(e.primary?0:-1)}))},e.prototype.focusPrimaryButton=function(){this.focus(this._buttons.find((function(e){return e.primary})))},e.prototype.focus=function(e){e&&(this._buttons.forEach((function(t){return t.tabindex$.next(e===t?0:-1)})),e.focus())},e.prototype.focusSibling=function(e){if(!1!==this.open$.value){var t=this.getFocusedButton();if(e&&t===this._buttons.last)return this.focus(this._buttons.first);if(!e&&t===this._buttons.first)return this.focus(this._buttons.last);var n=this._buttons.toArray()[this.getButtonIndex(t)+(e?1:-1)];this.focus(n)}},e.prototype.getFocusedButton=function(){return this._buttons.find((function(e){return 0===e.tabindex$.value}))},e.prototype.getButtonIndex=function(e){return this._buttons.toArray().findIndex((function(t){return t===e}))},e.decorators=[{type:n.Injectable}],e}(),Wi=function(){function e(e,n,i){this.fab=n,this._tooltip=i,this.primary=!1,this.tabindex$=new t.BehaviorSubject(-1),this._onDestroy=new t.Subject,this.primary=null!==e}return e.prototype.ngAfterViewInit=function(){var e=this;this._tooltip&&this.fab.open$.pipe(s.takeUntil(this._onDestroy),s.filter((function(t){return!t&&!e.primary}))).subscribe((function(){return e._tooltip.hide()}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.focus=function(){this.button.nativeElement.focus()},e.prototype.onFocus=function(){this._tooltip&&this._tooltip.show()},e.prototype.onBlur=function(){this._tooltip&&this._tooltip.hide()},e.prototype.close=function(){this.fab.close()},e.prototype.onKeydown=function(e){switch(e.which){case l.UP_ARROW:this.fab.isVertical()&&(this.fab.focusSibling("bottom"!==this.fab.direction$.value),e.preventDefault());break;case l.DOWN_ARROW:this.fab.isVertical()&&(this.fab.focusSibling("bottom"===this.fab.direction$.value),e.preventDefault());break;case l.LEFT_ARROW:this.fab.isHorizontal()&&(this.fab.focusSibling("right"!==this.fab.direction$.value),e.preventDefault());break;case l.RIGHT_ARROW:this.fab.isHorizontal()&&(this.fab.focusSibling("right"===this.fab.direction$.value),e.preventDefault());break;case l.ENTER:this.fab.focusPrimaryButton();break;case l.ESCAPE:this.fab.focusPrimaryButton(),this.fab.close()}},e.ctorParameters=function(){return[{type:String,decorators:[{type:n.Attribute,args:["fab-primary"]}]},{type:Vi},{type:ot,decorators:[{type:n.Optional}]}]},e.decorators=[{type:n.Component,args:[{selector:"ux-floating-action-button",template:'<button #button\n        uxFocusIndicator\n        [programmaticFocusIndicator]="true"\n        type="button"\n        class="btn floating-action-button"\n        [class.button-primary]="primary"\n        [class.button-secondary]="!primary"\n        [attr.aria-label]="ariaLabel"\n        [tabIndex]="tabindex$ | async"\n        (focus)="onFocus()"\n        (blur)="onBlur()"\n        (click)="primary ? fab.toggle() : close()">\n\n    <ng-content></ng-content>\n\n</button>',changeDetection:n.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],e.ctorParameters=function(){return[{type:String,decorators:[{type:n.Attribute,args:["fab-primary"]}]},{type:Vi},{type:ot,decorators:[{type:n.Optional}]}]},e.propDecorators={ariaLabel:[{type:n.Input,args:["aria-label"]}],button:[{type:n.ViewChild,args:["button",{static:!0}]}],onKeydown:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),Ui=function(){function e(e,i){var o=this;this.fab=e,this._elementRef=i,this.openChange=new n.EventEmitter,this._subscription=new t.Subscription,this._subscription.add(this.fab.open$.subscribe((function(e){return o.openChange.emit(e)})))}return Object.defineProperty(e.prototype,"direction",{set:function(e){this.fab.direction$.next(e)},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.fab.setButtons(this.buttons)},e.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},e.prototype.close=function(e){this._elementRef.nativeElement.contains(e)||this.fab.close()},e.ctorParameters=function(){return[{type:Vi},{type:n.ElementRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-floating-action-buttons",template:'<ng-content select="[fab-primary]"></ng-content>\n\n<div class="floating-action-button-list" [@fabAnimation]="fab.open$ | async" [ngClass]="fab.direction$ | async" *ngIf="fab.open$ | async">\n    <ng-content></ng-content>\n</div>',providers:[Vi],changeDetection:n.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,animations:[v.trigger("fabAnimation",[v.transition("void => true",[v.query("ux-floating-action-button",v.style({opacity:0})),v.query("ux-floating-action-button",v.stagger(50,v.animate(250,v.style({opacity:1}))))]),v.transition("true => void",[v.query("ux-floating-action-button",v.stagger(-50,v.animate(250,v.style({opacity:0}))))])])]}]}],e.ctorParameters=function(){return[{type:Vi},{type:n.ElementRef}]},e.propDecorators={direction:[{type:n.Input}],openChange:[{type:n.Output}],buttons:[{type:n.ContentChildren,args:[Wi]}],close:[{type:n.HostListener,args:["document:click",["$event.target"]]}]},e}(),Gi=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,Pe],exports:[Ui,Wi],declarations:[Ui,Wi]}]}],e}(),Ki=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxHierarchyBarNodeIcon]"}]}],e}(),qi=function(){function e(){this.nodes$=new t.BehaviorSubject([]),this.popoverShowTriggers=["click"],this.popoverHideTriggers=["click","clickoutside","escape"],this.selection$=new t.Subject,this.showSiblingsAriaLabel="Show Siblings",this._nodes=[]}return e.prototype.setRootNode=function(e){e&&(this._root=e,this._nodes=this.getNodeList(e),this.nodes$.next(this.getSelectedChildren(e)))},e.prototype.selectNode=function(e){this.deselectAll(),e&&(this.select(e),this.nodes$.next(this.getSelectedChildren(this._root)),this.selection$.next(e))},e.prototype.getChildren=function(e){var n=this;if(Array.isArray(e.children))return t.of({loading:!1,children:e.children});var i=e.children;return t.Observable.create((function(t){t.next({loading:!0,children:[]}),i.pipe(s.first()).subscribe((function(i){e.children=i,n.setRootNode(n._root),t.next({loading:!1,children:i}),t.complete()}))}))},e.prototype.getSiblings=function(e){return e.parent?this.getChildren(e.parent):t.of({loading:!1,children:[]})},e.prototype.select=function(e){e.selected=!0,e.parent&&this.select(e.parent)},e.prototype.deselectAll=function(){this._nodes.forEach((function(e){return e.selected=!1}))},e.prototype.getNodeList=function(e){var n=this;if(!e.children||t.isObservable(e.children)||0===e.children.length)return[e];e.children.forEach((function(t){return t.parent=e}));var i=e.children.reduce((function(e,t){return A(e,n.getNodeList(t))}),[]);return A([e],i)},e.prototype.getSelectedChildren=function(e){if(t.isObservable(e.children))return[e];var n=(e.children||[]).find((function(e){return e.selected}));return n?A([e],this.getSelectedChildren(n)):[e]},e.decorators=[{type:n.Injectable}],e}(),Yi=function(){function e(e){var i=this;this._hierarchyBar=e,this.mode="standard",this.readonly=!1,this.selectedChange=new n.EventEmitter,this._onDestroy=new t.Subject,e.selection$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){return i.selectedChange.next(e)}))}return Object.defineProperty(e.prototype,"root",{set:function(e){this._hierarchyBar.setRootNode(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{set:function(e){this._hierarchyBar.selectNode(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loadingIndicator",{set:function(e){this._hierarchyBar.loadingIndicator=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overflowTemplate",{set:function(e){this._hierarchyBar.overflowTemplate=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"popoverShowTriggers",{set:function(e){this._hierarchyBar.popoverShowTriggers=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"popoverHideTriggers",{set:function(e){this._hierarchyBar.popoverHideTriggers=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showSiblingsAriaLabel",{set:function(e){this._hierarchyBar.showSiblingsAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"icon",{set:function(e){this._hierarchyBar.icon=e},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.ctorParameters=function(){return[{type:qi}]},e.decorators=[{type:n.Component,args:[{selector:"ux-hierarchy-bar",template:'\x3c!-- Hierarchy Bar - Standard Layout --\x3e\n<ux-hierarchy-bar-standard [readonly]="readonly" [mode]="mode" *ngIf="mode !== \'collapsed\'">\n\n    \x3c!-- Forward the content to the correct layout --\x3e\n    <ng-container ngProjectAs="left-addons" [ngTemplateOutlet]="leftAddons"></ng-container>\n    <ng-container ngProjectAs="trailing-addons" [ngTemplateOutlet]="trailingAddons"></ng-container>\n    <ng-container ngProjectAs="right-addons" [ngTemplateOutlet]="rightAddons"></ng-container>\n\n</ux-hierarchy-bar-standard>\n\n\x3c!-- Hierarchy Bar - Collapsed Layout --\x3e\n<ux-hierarchy-bar-collapsed [readonly]="readonly" *ngIf="mode === \'collapsed\'">\n\n    \x3c!-- Forward the content to the correct layout --\x3e\n    <ng-container ngProjectAs="left-addons" [ngTemplateOutlet]="leftAddons"></ng-container>\n    <ng-container ngProjectAs="trailing-addons" [ngTemplateOutlet]="trailingAddons"></ng-container>\n    <ng-container ngProjectAs="right-addons" [ngTemplateOutlet]="rightAddons"></ng-container>\n\n</ux-hierarchy-bar-collapsed>\n\n\x3c!-- We can only have one ng-content so this allows us to use it more than once --\x3e\n<ng-template #leftAddons>\n    <ng-content select="[uxHierarchyBarLeftAddon]"></ng-content>\n</ng-template>\n\n<ng-template #trailingAddons>\n    <ng-content select="[uxHierarchyBarTrailingAddon]"></ng-content>\n</ng-template>\n\n<ng-template #rightAddons>\n    <ng-content select="[uxHierarchyBarRightAddon]"></ng-content>\n</ng-template>',changeDetection:n.ChangeDetectionStrategy.OnPush,viewProviders:[qi]}]}],e.ctorParameters=function(){return[{type:qi}]},e.propDecorators={mode:[{type:n.Input}],readonly:[{type:n.Input}],root:[{type:n.Input}],selected:[{type:n.Input}],loadingIndicator:[{type:n.Input}],overflowTemplate:[{type:n.Input}],popoverShowTriggers:[{type:n.Input}],popoverHideTriggers:[{type:n.Input}],showSiblingsAriaLabel:[{type:n.Input}],selectedChange:[{type:n.Output}],icon:[{type:n.ContentChild,args:[Ki,{read:n.TemplateRef,static:!1}]}]},e}(),Xi=function(){function e(e){var t=this;this._elementRef=e,this.uxClickOutside=new n.EventEmitter,this._initialised=!1,setTimeout((function(){return t._initialised=!0}))}return e.prototype.click=function(e){this._initialised&&this._elementRef.nativeElement!==e.target&&!this._elementRef.nativeElement.contains(e.target)&&this.uxClickOutside.emit(e)},e.ctorParameters=function(){return[{type:n.ElementRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxClickOutside]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef}]},e.propDecorators={uxClickOutside:[{type:n.Output}],click:[{type:n.HostListener,args:["document:click",["$event"]]}]},e}(),Zi=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[Xi],declarations:[Xi]}]}],e}(),Qi=0,Ji=function(e){function i(n){var i=e.call(this,n)||this;return i.id="ux-popover-"+ ++Qi,i.clickOutside$=new t.Subject,i}return D(i,e),i.prototype.setTitle=function(e){this.title=e,this._changeDetectorRef.markForCheck()},i.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},i.decorators=[{type:n.Component,args:[{selector:"ux-popover",template:'<div class="popover show" [ngClass]="[positionClass, \'popover-align-\' + alignment, customClass]" [id]="id" [attr.role]="role" (uxClickOutside)="clickOutside$.next($event)">\n    <div class="arrow"></div>\n    <h3 class="popover-title" *ngIf="title">{{ title }}</h3>\n    <div class="popover-content" (cdkObserveContent)="reposition()">\n        <ng-container *ngIf="!isTemplateRef">{{ content }}</ng-container>\n        <ng-container *ngIf="isTemplateRef" [ngTemplateOutlet]="content" [ngTemplateOutletContext]="context"></ng-container>\n    </div>\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],i.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},i}(nt),eo=function(e){function i(t,n,i,o,r,a,s){var c=e.call(this,t,n,i,o,r,a,s)||this;return c.customClass="",c.role="tooltip",c.context={},c.delay=0,c.showTriggers=["click"],c.hideTriggers=["click","clickoutside","escape"],c.isVisible=!1,c._overlayClass="ux-overlay-pane",c._type="popover",c}return D(i,e),i.prototype.ngOnInit=function(){t.fromEvent(document,"keydown").pipe(s.takeUntil(this._onDestroy)).subscribe(this.onKeyDown.bind(this)),this._ariaDescribedBy=this._elementRef.nativeElement.hasAttribute("aria-describedby"),e.prototype.ngOnInit.call(this)},i.prototype.ngOnChanges=function(t){e.prototype.ngOnChanges.call(this,t),this._instance&&t.title&&this._instance.setTitle(t.title.currentValue)},i.prototype.createInstance=function(e){var t=e.attach(this._portal).instance;return t.setTitle(this.title),t.setContent(this.content),t.setPlacement(this.placement),t.setAlignment(this.alignment),t.setClass(this.customClass),t.setContext(this.context),t.setRole(this.role),this.setAriaDescribedBy(t.id),t.clickOutside$.pipe(s.takeUntil(this._onDestroy)).subscribe(this.onClickOutside.bind(this)),t},i.prototype.createPortal=function(){return this._portal||new f.ComponentPortal(Ji,this._viewContainerRef)},i.prototype.onKeyDown=function(e){this.isVisible&&e.keyCode===l.ESCAPE&&this.includes(this.hideTriggers,"escape")&&this.hide()},i.prototype.onClickOutside=function(){this.isVisible&&this.includes(this.hideTriggers,"clickoutside")&&this.hide()},i.prototype.setAriaDescribedBy=function(t){!1===this._ariaDescribedBy&&"string"==typeof this.content&&e.prototype.setAriaDescribedBy.call(this,t)},i.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ViewContainerRef},{type:g.Overlay},{type:g.ScrollDispatcher},{type:n.ChangeDetectorRef},{type:n.Renderer2},{type:it}]},i.decorators=[{type:n.Directive,args:[{selector:"[uxPopover]",exportAs:"ux-popover",host:{"[class.ux-tooltip-host]":"true"}}]}],i.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ViewContainerRef},{type:g.Overlay},{type:g.ScrollDispatcher},{type:n.ChangeDetectorRef},{type:n.Renderer2},{type:it}]},i.propDecorators={content:[{type:n.Input,args:["uxPopover"]}],title:[{type:n.Input,args:["popoverTitle"]}],disabled:[{type:n.Input,args:["popoverDisabled"]}],customClass:[{type:n.Input,args:["popoverClass"]}],role:[{type:n.Input,args:["popoverRole"]}],context:[{type:n.Input,args:["popoverContext"]}],delay:[{type:n.Input,args:["popoverDelay"]}],showTriggers:[{type:n.Input}],hideTriggers:[{type:n.Input}],isVisible:[{type:n.HostBinding,args:["attr.aria-expanded"]}]},i}(ot),to=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,g.OverlayModule,d.ObserversModule,Zi,rt],exports:[eo],declarations:[Ji,eo],entryComponents:[Ji]}]}],e}(),no=function(){function e(e,n,i,o,r){this.hierarchyBar=e,this._renderer=n,this._resizeService=i,this._elementRef=o,this._changeDetector=r,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"_siblings",{get:function(){return this.hierarchyBar.getSiblings(this._last)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_parents",{get:function(){var e=this;return this._nodes.filter((function(t){return t!==e._first&&t!==e._last}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_nodes",{get:function(){return this.hierarchyBar.nodes$.value},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this.hierarchyBar.nodes$.pipe(s.takeUntil(this._onDestroy)).subscribe(this.update.bind(this)),this._resizeService.addResizeListener(this._elementRef.nativeElement).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.updateOverflow()}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete(),this._resizeService.removeResizeListener(this._elementRef.nativeElement)},e.prototype.update=function(e){this._first=e[0],this._last=e.length>1?e[e.length-1]:null,this.updateOverflow(),this._changeDetector.detectChanges()},e.prototype.updateOverflow=function(){this._renderer.removeClass(this.nodeContainer.nativeElement,"hierarchy-bar-nodes-overflow"),this.nodeContainer.nativeElement.scrollWidth>this.nodeContainer.nativeElement.offsetWidth&&this._renderer.addClass(this.nodeContainer.nativeElement,"hierarchy-bar-nodes-overflow")},e.ctorParameters=function(){return[{type:qi},{type:n.Renderer2},{type:Me},{type:n.ElementRef},{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-hierarchy-bar-collapsed",template:'\x3c!-- Allow content to be placed on the left of the items --\x3e\n<div class="hierarchy-bar-addons">\n    <ng-content select="left-addons"></ng-content>\n</div>\n\n<div #nodes class="hierarchy-bar-nodes">\n\n    <ux-hierarchy-bar-node\n        *ngIf="_first"\n        [readonly]="readonly"\n        [popoverTemplate]="content"\n        [node]="_first"\n        (selected)="hierarchyBar.selectNode($event)">\n    </ux-hierarchy-bar-node>\n\n    <div class="hierarchy-bar-overflow" *ngIf="_parents.length > 0">\n        <div class="hierarchy-bar-overflow-container">\n            <ng-container [ngTemplateOutlet]="hierarchyBar.overflowTemplate || defaultOverflowTemplate"\n                          [ngTemplateOutletContext]="{ $implicit: _parents }">\n            </ng-container>\n        </div>\n\n        <button [attr.aria-label]="hierarchyBar.showSiblingsAriaLabel"\n            uxFocusIndicator\n            uxFocusIndicatorOrigin\n            class="hierarchy-bar-node-arrow"\n            placement="bottom"\n            [uxPopover]="siblingsTemplate"\n            popoverClass="hierarchy-bar-popover"\n            role="button"\n            tabindex="0"\n            [disabled]="readonly"\n            #popover="ux-popover"\n            [popoverContext]="{ popover: popover }"\n            [showTriggers]="hierarchyBar.popoverShowTriggers"\n            [hideTriggers]="hierarchyBar.popoverHideTriggers"\n            type="button">\n\n            <ux-icon name="next" class="hierarchy-bar-node-arrow-icon"></ux-icon>\n        </button>\n    </div>\n\n\n    <ux-hierarchy-bar-node\n        *ngIf="_last"\n        [readonly]="readonly"\n        [popoverTemplate]="content"\n        [node]="_last"\n        (selected)="hierarchyBar.selectNode($event)">\n    </ux-hierarchy-bar-node>\n\n    \x3c!-- Allow content to be placed after the last node --\x3e\n    <div class="hierarchy-bar-addons">\n        <ng-content select="trailing-addons"></ng-content>\n    </div>\n\n</div>\n\n\x3c!-- Allow content to be placed on the right of the items --\x3e\n<div class="hierarchy-bar-addons">\n    <ng-content select="right-addons"></ng-content>\n</div>\n\n\x3c!-- Template for the popover list --\x3e\n<ng-template #content let-node="node" let-popover="popover">\n    <ux-hierarchy-bar-popover\n        [loading]="(hierarchyBar.getChildren(node) | async)?.loading"\n        [nodes]="(hierarchyBar.getChildren(node) | async)?.children"\n        (selected)="hierarchyBar.selectNode($event); popover.hide()">\n    </ux-hierarchy-bar-popover>\n</ng-template>\n\n\x3c!-- Template for the siblings popover list --\x3e\n<ng-template #siblingsTemplate let-popover="popover">\n    <ux-hierarchy-bar-popover\n        [nodes]="(_siblings | async)?.children"\n        [loading]="(_siblings | async)?.loading"\n        (selected)="hierarchyBar.selectNode($event); popover.hide()">\n    </ux-hierarchy-bar-popover>\n</ng-template>\n\n\x3c!-- Template for the parents popover list --\x3e\n<ng-template #parentsTemplate let-popover="popover">\n    <ux-hierarchy-bar-popover\n        [nodes]="_parents"\n        [separator]="true"\n        (selected)="hierarchyBar.selectNode($event); popover.hide()">\n    </ux-hierarchy-bar-popover>\n</ng-template>\n\n\x3c!-- Default Overflow Template --\x3e\n<ng-template #defaultOverflowTemplate>\n    <button uxFocusIndicator\n            uxFocusIndicatorOrigin\n            [disabled]="readonly"\n            class="overflow-button"\n            aria-label="Show parents"\n            [uxPopover]="parentsTemplate"\n            popoverClass="hierarchy-bar-popover"\n            role="button"\n            tabindex="0"\n            #popover="ux-popover"\n            [popoverContext]="{ popover: popover }"\n            [showTriggers]="hierarchyBar.popoverShowTriggers"\n            [hideTriggers]="hierarchyBar.popoverHideTriggers"\n            placement="bottom"\n            type="button">\n            <ux-icon name="more"></ux-icon>\n    </button>\n</ng-template>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:qi},{type:n.Renderer2},{type:Me},{type:n.ElementRef},{type:n.ChangeDetectorRef}]},e.propDecorators={readonly:[{type:n.Input}],nodeContainer:[{type:n.ViewChild,args:["nodes",{static:!0}]}]},e}(),io=function(){function e(e){this.hierarchyBar=e,this.selected=new n.EventEmitter}return e.ctorParameters=function(){return[{type:qi}]},e.decorators=[{type:n.Component,args:[{selector:"ux-hierarchy-bar-node",template:'<div class="hierarchy-bar-node"\n     [class.hierarchy-bar-node-readonly]="readonly"\n     [class.hierarchy-bar-node-child-indicator]="node.children">\n\n    <ng-container\n        *ngIf="mode === \'dropdown\'; then dropdownMode; else standardClickMode">\n    </ng-container>\n\n</div>\n\n<ng-template #standardClickMode>\n    <button type="button"\n            uxFocusIndicator\n            class="hierarchy-bar-node-content"\n            [disabled]="readonly"\n            [attr.aria-label]="node.title"\n            (click)="selected.emit(node)">\n\n        \x3c!-- Show a custom icon if specified --\x3e\n        <div class="hierarchy-bar-node-icon" *ngIf="hierarchyBar.icon">\n            <ng-container [ngTemplateOutlet]="hierarchyBar.icon" [ngTemplateOutletContext]="{ node: node, $implicit: node }"></ng-container>\n        </div>\n\n        \x3c!-- Show an icon if specified --\x3e\n        <img class="hierarchy-bar-node-icon" *ngIf="node.icon && !hierarchyBar.icon" [src]="node.icon" alt="Hierarchy Bar Icon">\n\n        \x3c!-- Show the name of the current node --\x3e\n        <span class="hierarchy-bar-node-title">{{ node.title }}</span>\n\n    </button>\n\n    \x3c!-- Show a dropdown arrow if there are children --\x3e\n    <button type="button"\n            uxFocusIndicator\n            uxFocusIndicatorOrigin\n            *ngIf="node.children"\n            #popover="ux-popover"\n            aria-label="Show children"\n            role="button"\n            class="hierarchy-bar-node-arrow"\n            [disabled]="readonly"\n            [uxPopover]="popoverTemplate"\n            [popoverContext]="{ node: node, popover: popover }"\n            placement="bottom"\n            popoverClass="hierarchy-bar-popover"\n            [showTriggers]="hierarchyBar.popoverShowTriggers"\n            [hideTriggers]="hierarchyBar.popoverHideTriggers"\n            tabindex="0">\n        <ux-icon name="next"\n                 class="hierarchy-bar-node-arrow-icon">\n        </ux-icon>\n    </button>\n</ng-template>\n\n<ng-template #dropdownMode>\n    <button type="button"\n            uxFocusIndicator\n            uxFocusIndicatorOrigin\n            #popover="ux-popover"\n            aria-label="Show children"\n            class="hierarchy-bar-node-content"\n            [disabled]="readonly"\n            [uxPopover]="popoverTemplate"\n            [popoverContext]="{ node: node, popover: popover }"\n            placement="bottom"\n            popoverClass="hierarchy-bar-popover"\n            [showTriggers]="node.children ? hierarchyBar.popoverShowTriggers : []"\n            [hideTriggers]="node.children ? hierarchyBar.popoverHideTriggers : []"\n            tabindex="0"\n            [attr.aria-label]="node.title">\n\n        \x3c!-- Show a custom icon if specified --\x3e\n        <div class="hierarchy-bar-node-icon" *ngIf="hierarchyBar.icon">\n            <ng-container [ngTemplateOutlet]="hierarchyBar.icon" [ngTemplateOutletContext]="{ node: node, $implicit: node }"></ng-container>\n        </div>\n\n        \x3c!-- Show an icon if specified --\x3e\n        <img class="hierarchy-bar-node-icon" *ngIf="node.icon && !hierarchyBar.icon" [src]="node.icon" alt="Hierarchy Bar Icon">\n\n        \x3c!-- Show the name of the current node --\x3e\n        <span class="hierarchy-bar-node-title">{{ node.title }}</span>\n\n        \x3c!-- Show a dropdown arrow if there are children --\x3e\n        <div [class.readonly-arrow]="readonly" class="hierarchy-bar-node-arrow-icon-dropdown">\n            <ux-icon *ngIf="node.children" name="next"\n                     class="hierarchy-bar-node-arrow-icon">\n            </ux-icon>\n        </div>\n\n    </button>\n\n</ng-template>',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:qi}]},e.propDecorators={node:[{type:n.Input}],popoverTemplate:[{type:n.Input}],mode:[{type:n.Input}],readonly:[{type:n.Input}],selected:[{type:n.Output}]},e}(),oo=function(){function e(e,t,i,o){this.hierarchyBar=o,this.selected=new n.EventEmitter(!0),this._focusOrigin=new se(e,t,i)}return e.prototype.ngOnDestroy=function(){this._focusOrigin.destroy()},e.prototype.onSelect=function(){this.selected.emit(this.node)},e.ctorParameters=function(){return[{type:ne},{type:n.ElementRef},{type:n.Renderer2},{type:qi}]},e.decorators=[{type:n.Component,args:[{selector:"ux-hierarchy-bar-popover-item",template:'\x3c!-- Show an icon if specified --\x3e\n<img class="hierarchy-bar-node-icon" *ngIf="!hierarchyBar.icon && node?.icon" [src]="node.icon" alt="Hierarchy Bar Icon">\n\n\x3c!-- Show a custom icon if specified --\x3e\n<div class="hierarchy-bar-node-icon" *ngIf="hierarchyBar.icon">\n    <ng-container\n        [ngTemplateOutlet]="hierarchyBar.icon"\n        [ngTemplateOutletContext]="{ node: node, $implicit: node }">\n    </ng-container>\n</div>\n\n\x3c!-- Show the name of the current node --\x3e\n<span class="hierarchy-bar-node-title">{{ node?.title }}</span>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:ne},{type:n.ElementRef},{type:n.Renderer2},{type:qi}]},e.propDecorators={node:[{type:n.Input}],selected:[{type:n.Output}],onSelect:[{type:n.HostListener,args:["click"]},{type:n.HostListener,args:["keydown.enter"]}]},e}(),ro=function(){function e(e){this.hierarchyBar=e,this.nodes=[],this.separator=!1,this.selected=new n.EventEmitter}return e.ctorParameters=function(){return[{type:qi}]},e.decorators=[{type:n.Component,args:[{selector:"ux-hierarchy-bar-popover",template:'\x3c!-- Loading Indicator --\x3e\n<ul class="hierarchy-bar-node-list" *ngIf="loading">\n\n    <li class="hierarchy-bar-loading-indicator">\n        <ng-container [ngTemplateOutlet]="hierarchyBar.loadingIndicator || defaultLoadingIndicator"></ng-container>\n    </li>\n</ul>\n\n\x3c!-- List of children --\x3e\n<div class="hierarchy-bar-node-list"\n    [class.hierarchy-bar-node-list-separator]="separator"\n    *ngIf="!loading"\n    uxTabbableList\n    [returnFocus]="true">\n\n    <ux-hierarchy-bar-popover-item *ngFor="let node of nodes; let first = first"\n        uxFocusIndicator\n        [node]="node"\n        [focusIf]="first"\n        uxTabbableListItem\n        (selected)="selected.emit($event)">\n    </ux-hierarchy-bar-popover-item>\n\n</div>\n\n\x3c!-- Loading Indicator Template --\x3e\n<ng-template #defaultLoadingIndicator>\n    <div class="hierarchy-bar-loading-icon" alt="Hierarchy Bar Loading Indicator">\n        <div class="spinner spinner-accent spinner-bounce-middle"></div>\n    </div>\n\n    \x3c!-- Show the name of the current node --\x3e\n    <span class="hierarchy-bar-loading-title">Loading...</span>\n</ng-template>',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:qi}]},e.propDecorators={nodes:[{type:n.Input}],loading:[{type:n.Input}],separator:[{type:n.Input}],selected:[{type:n.Output}]},e}(),ao=function(){function e(e){var n=this;this.hierarchyBar=e,this.overflow$=new t.BehaviorSubject([]),this.isOverflowing$=new t.BehaviorSubject(!1),this._onDestroy=new t.Subject,e.nodes$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return requestAnimationFrame(n.scrollIntoView.bind(n))}))}return e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.scrollIntoView=function(){var e=this;if(this.nodelist){var t=this.nodelist.nativeElement,n=t.scrollWidth>t.offsetWidth;if(this.isOverflowing$.next(n),n){var i=t.scrollWidth-t.offsetWidth;this.overflow$.next(this.nodes.filter((function(e){return e.nativeElement.offsetLeft<i})).map((function(t,n){return e.hierarchyBar.nodes$.value[n]}))),this.nodelist.nativeElement.scrollLeft=i}}},e.ctorParameters=function(){return[{type:qi}]},e.decorators=[{type:n.Component,args:[{selector:"ux-hierarchy-bar-standard",template:'\x3c!-- Allow content to be placed on the left of the items --\x3e\n<div class="hierarchy-bar-addons">\n    <ng-content select="left-addons"></ng-content>\n</div>\n\n<div #nodelist class="hierarchy-bar-nodes" (uxResize)="scrollIntoView()">\n\n    <div *ngIf="isOverflowing$ | async"\n         #popover="ux-popover"\n         class="hierarchy-bar-overflow-indicator"\n         [style.left.px]="nodelist.scrollLeft"\n         [uxPopover]="overflow"\n         [showTriggers]="hierarchyBar.popoverShowTriggers"\n         [hideTriggers]="hierarchyBar.popoverHideTriggers"\n         [popoverContext]="{ popover: popover }"\n         placement="bottom"\n         popoverClass="hierarchy-bar-popover">\n        <ng-container [ngTemplateOutlet]="hierarchyBar.overflowTemplate || defaultOverflowTemplate"\n                      [ngTemplateOutletContext]="{ $implicit: overflow$ | async }">\n        </ng-container>\n    </div>\n\n    <ux-hierarchy-bar-node\n        [mode]="mode"\n        [readonly]="readonly"\n        *ngFor="let node of hierarchyBar.nodes$ | async"\n        [node]="node"\n        [popoverTemplate]="content"\n        (selected)="hierarchyBar.selectNode(node)">\n    </ux-hierarchy-bar-node>\n\n    \x3c!-- Allow content to be placed after the last node --\x3e\n    <div class="hierarchy-bar-addons">\n        <ng-content select="trailing-addons"></ng-content>\n    </div>\n\n</div>\n\n\x3c!-- Allow content to be placed on the right of the items --\x3e\n<div class="hierarchy-bar-addons">\n    <ng-content select="right-addons"></ng-content>\n</div>\n\n\x3c!-- Template for the popover list --\x3e\n<ng-template #content let-node="node" let-popover="popover">\n    <ux-hierarchy-bar-popover\n        [loading]="(hierarchyBar.getChildren(node) | async)?.loading"\n        [nodes]="(hierarchyBar.getChildren(node) | async)?.children"\n        (selected)="hierarchyBar.selectNode($event); popover.hide()">\n    </ux-hierarchy-bar-popover>\n</ng-template>\n\n\x3c!-- Template for the overflow popover list --\x3e\n<ng-template #overflow let-popover="popover">\n\n    <div uxTabbableList [returnFocus]="true">\n\n        <ux-hierarchy-bar-popover-item\n            *ngFor="let child of overflow$ | async; let first = first"\n            uxFocusIndicator\n            [node]="child"\n            [focusIf]="first"\n            uxTabbableListItem\n            (selected)="hierarchyBar.selectNode(child); popover.hide()">\n        </ux-hierarchy-bar-popover-item>\n    </div>\n</ng-template>\n\n\x3c!-- Default Overflow Template --\x3e\n<ng-template #defaultOverflowTemplate>\n    . . .\n</ng-template>',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:qi}]},e.propDecorators={mode:[{type:n.Input}],readonly:[{type:n.Input}],nodelist:[{type:n.ViewChild,args:["nodelist",{static:!0}]}],nodes:[{type:n.ViewChildren,args:[io,{read:n.ElementRef}]}]},e}(),so=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,un,Pe,to,$e],exports:[Yi,ao,no,Ki],declarations:[Yi,ao,no,io,ro,oo,Ki]}]}],e}();(Ti=e.\u0275ba||(e.\u0275ba={})).Closed="closed",Ti.Open="open",Ti.OpenImmediate="openImmediate";var co,lo,uo,po,ho,go,fo,yo,mo=v.trigger("panelState",[v.state(e.\u0275ba.Closed,v.style({visibility:"hidden"})),v.state(e.\u0275ba.Open+", "+e.\u0275ba.OpenImmediate,v.style({visibility:"visible",transform:"none"})),v.transition("void <=> "+e.\u0275ba.Open,v.animate("0.2s cubic-bezier(0.49, 1, 0.38, 0.98)")),v.transition("void <=> "+e.\u0275ba.OpenImmediate,v.animate("0s"))]),vo=function(){function e(){this.open$=new t.BehaviorSubject(!1)}return e.prototype.open=function(){this.open$.next(!0)},e.prototype.close=function(){this.open$.next(!1)},e.decorators=[{type:n.Injectable}],e}(),bo=function(){function i(i,o,r){this.service=i,this._elementRef=o,this._focusOrigin=r,this.inline=!1,this.attachTo="window",this.width="50%",this.top="0",this.modal=!1,this.animate=!1,this.closeOnExternalClick=!1,this.focusOnShow=!1,this.openChange=new n.EventEmitter,this.closeOnEscape=!0,this.animationPanelState=e.\u0275ba.Closed,this._onDestroy=new t.Subject}return Object.defineProperty(i.prototype,"open",{get:function(){return this.service.open$.value},set:function(e){this.service.open$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this.inline?"static":"container"===this.attachTo?"absolute":"fixed"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cssWidth",{get:function(){return"number"==typeof this.width?0===this.width?"0":this.width+"px":this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cssTop",{get:function(){return"number"==typeof this.top?0===this.top?"0":this.top+"px":this.top},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"componentWidth",{get:function(){return this.inline?this.open?this.cssWidth:"0":null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hostWidth",{get:function(){return this.inline?"100%":this.cssWidth},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){var t=this;this.service.open$.pipe(s.skip(1),s.distinctUntilChanged(),s.takeUntil(this._onDestroy)).subscribe((function(e){return t.openChange.emit(e)})),this.service.open$.pipe(s.distinctUntilChanged(),s.takeUntil(this._onDestroy)).subscribe((function(n){t.animationPanelState=n?t.animate?e.\u0275ba.Open:e.\u0275ba.OpenImmediate:e.\u0275ba.Closed}))},i.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},i.prototype.openPanel=function(){this.service.open()},i.prototype.closePanel=function(){this.service.close()},i.prototype._onDocumentEscape=function(){this.open&&this.closeOnEscape&&(this._focusOrigin.setOrigin("keyboard"),this.closePanel())},i.prototype._onDocumentClick=function(e){this.open&&this.closeOnExternalClick&&(!this._elementRef.nativeElement.contains(e)||e&&e.classList.contains("modal-backdrop"))&&this.closePanel()},i.ctorParameters=function(){return[{type:vo},{type:n.ElementRef},{type:ne}]},i.decorators=[{type:n.Component,args:[{selector:"ux-side-panel",exportAs:"ux-side-panel",template:'<div *ngIf="modal && open" class="modal-backdrop"\n    [style.position]="position"\n    [style.top]="cssTop"></div>\n\n<div class="ux-side-panel-host"\n    [class.modal-panel]="modal"\n    [style.position]="position"\n    [style.width]="hostWidth"\n    [style.top]="cssTop"\n    [tabindex]="open ? 0 : -1"\n    [@panelState]="animationPanelState"\n    [focusIf]="open && focusOnShow"\n    [focusIfScroll]="false"\n    [cdkTrapFocus]="open && modal"\n    *ngIf="open">\n    <ng-content></ng-content>\n</div>\n',providers:[vo],animations:[mo],changeDetection:n.ChangeDetectionStrategy.OnPush,host:{class:"ux-side-panel"}}]}],i.ctorParameters=function(){return[{type:vo},{type:n.ElementRef},{type:ne}]},i.propDecorators={open:[{type:n.Input},{type:n.HostBinding,args:["class.open"]}],inline:[{type:n.Input},{type:n.HostBinding,args:["class.inline"]}],attachTo:[{type:n.Input}],width:[{type:n.Input}],top:[{type:n.Input}],modal:[{type:n.Input},{type:n.HostBinding,args:["attr.aria-modal"]}],animate:[{type:n.Input},{type:n.HostBinding,args:["class.animate"]}],closeOnExternalClick:[{type:n.Input}],focusOnShow:[{type:n.Input}],openChange:[{type:n.Output}],closeOnEscape:[{type:n.Input}],componentWidth:[{type:n.HostBinding,args:["style.width"]}],_onDocumentEscape:[{type:n.HostListener,args:["document:keyup.escape"]}],_onDocumentClick:[{type:n.HostListener,args:["document:click",["$event.target"]]}]},i}(),_o=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxItemDisplayPanelContent]"}]}],e}(),xo=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxItemDisplayPanelFooter]"}]}],e}(),wo=function(e){function t(t,i,o){var r=e.call(this,t,i,o)||this;return r.boxShadow=!0,r.closeVisible=!0,r.closeAriaLabel="Close",r.shadow=!1,r.visibleChange=new n.EventEmitter,r.animate=!1,r.closeOnExternalClick=!0,r}return D(t,e),Object.defineProperty(t.prototype,"preventClose",{get:function(){return!this.closeOnExternalClick},set:function(e){this.closeOnExternalClick=!e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.open},set:function(e){this.open=e},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.service.open$.pipe(s.distinctUntilChanged(),s.takeUntil(this._onDestroy)).subscribe((function(e){return t.visibleChange.emit(e)}))},t.prototype.focus=function(){this.panel&&this.panel.nativeElement.focus()},t.ctorParameters=function(){return[{type:vo},{type:n.ElementRef},{type:ne}]},t.decorators=[{type:n.Component,args:[{selector:"ux-item-display-panel",template:'<div class="ux-side-panel-host ux-item-display-panel" #panel\n    [class.box-shadow]="boxShadow"\n    [style.position]="position"\n    [style.width]="hostWidth"\n    [style.top]="cssTop"\n    [@panelState]="animationPanelState"\n    [tabindex]="open ? 0 : -1"\n    [focusIf]="open && focusOnShow"\n    *ngIf="open">\n\n    <div class="ux-side-panel-header" [class.item-display-panel-shadow]="shadow">\n        <h3>{{ header }}</h3>\n\n        <button *ngIf="closeVisible"\n                uxFocusIndicator\n                [attr.aria-label]="closeAriaLabel"\n                type="button"\n                class="btn btn-lg btn-link btn-icon button-secondary"\n                (click)="visible = false">\n\n            <ux-icon name="close"></ux-icon>\n        </button>\n    </div>\n\n    <div class="ux-side-panel-content">\n        <ng-content select="[uxItemDisplayPanelContent]"></ng-content>\n    </div>\n\n    <div class="ux-side-panel-footer" *ngIf="footer">\n        <ng-content select="[uxItemDisplayPanelFooter]"></ng-content>\n    </div>\n\n</div>\n',providers:[vo],animations:[mo],host:{class:"ux-side-panel ux-item-display-panel"}}]}],t.ctorParameters=function(){return[{type:vo},{type:n.ElementRef},{type:ne}]},t.propDecorators={header:[{type:n.Input}],boxShadow:[{type:n.Input}],closeVisible:[{type:n.Input}],preventClose:[{type:n.Input}],closeAriaLabel:[{type:n.Input}],shadow:[{type:n.Input}],visibleChange:[{type:n.Output}],footer:[{type:n.ContentChild,args:[xo,{static:!1}]}],panel:[{type:n.ViewChild,args:["panel",{static:!0}]}],visible:[{type:n.Input}]},t}(bo),So=[wo,_o,xo],Co=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,un,Pe],exports:So,declarations:So}]}],e}(),Do=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxMarqueeWizardStepIcon]"}]}],e}(),ko=function(){function e(){this.validChange$=new t.Subject}return e.decorators=[{type:n.Injectable}],e}(),Io=function(){function e(e,t){this._wizardService=e,this._changeDetector=t,this._valid=!0,this.visited=!1,this.visitedChange=new n.EventEmitter,this._active=!1}return Object.defineProperty(e.prototype,"valid",{get:function(){return this._valid},set:function(e){this.setValid(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(e){var t=a.coerceBooleanProperty(e);this._active=t,t&&!this.visited&&this.setVisitedAndEmitChangeEvent(!0),this._changeDetector.markForCheck()},enumerable:!1,configurable:!0}),e.prototype.setVisitedAndEmitChangeEvent=function(e){e!==this.visited&&(this.visited=e,this.visitedChange.emit(e))},e.prototype.setValid=function(e){this._valid!==e&&(this._valid=e,this._wizardService.validChange$.next({step:this,valid:e}))},e.ctorParameters=function(){return[{type:ko},{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-wizard-step",template:'<ng-container *ngIf="active">\n    <ng-content></ng-content>\n</ng-container>',changeDetection:n.ChangeDetectionStrategy.OnPush,host:{role:"tabpanel"}}]}],e.ctorParameters=function(){return[{type:ko},{type:n.ChangeDetectorRef}]},e.propDecorators={header:[{type:n.Input}],disableNextWhenInvalid:[{type:n.Input}],valid:[{type:n.Input}],validator:[{type:n.Input}],visited:[{type:n.Input}],visitedChange:[{type:n.Output}]},e}(),Oo=0,Po=function(){function e(e){this._wizardService=e,this.orientation="horizontal",this.nextText="Next",this.previousText="Previous",this.cancelText="Cancel",this.finishText="Finish",this.nextTooltip="Go to the next step",this.previousTooltip="Go to the previous step",this.cancelTooltip="Cancel the wizard",this.finishTooltip="Finish the wizard",this.nextAriaLabel="Go to the next step",this.previousAriaLabel="Go to the previous step",this.cancelAriaLabel="Cancel the wizard",this.finishAriaLabel="Finish the wizard",this.nextDisabled=!1,this.previousDisabled=!1,this.cancelDisabled=!1,this.finishDisabled=!1,this.nextVisible=!0,this.previousVisible=!0,this.cancelVisible=!0,this.finishVisible=!0,this.cancelAlwaysVisible=!1,this.finishAlwaysVisible=!1,this.disableNextWhenInvalid=!1,this.resetVisitedOnValidationError=!1,this.sequential=!0,this.onNext=new n.EventEmitter,this.onPrevious=new n.EventEmitter,this.onCancel=new n.EventEmitter,this.onFinishing=new n.EventEmitter,this.onFinish=new n.EventEmitter,this.stepChanging=new n.EventEmitter,this.stepChange=new n.EventEmitter,this.stepError=new n.EventEmitter,this.steps=new n.QueryList,this.id="ux-wizard-"+Oo++,this.invalidIndicator=!1,this._step=0,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(e){"number"==typeof e&&(this._step=e,this.update(),this.stepChange.next(this.step),this.invalidIndicator=!1)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;setTimeout(this.update.bind(this)),this._wizardService.validChange$.pipe(s.filter((function(e){return!e.valid})),s.takeUntil(this._onDestroy)).subscribe((function(t){return e.setFutureStepsUnvisited(t.step)}))},e.prototype.ngAfterContentInit=function(){this.steps.changes.pipe(L(),s.takeUntil(this._onDestroy)).subscribe(this.update.bind(this))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.next=function(){return P(this,void 0,void 0,(function(){var e,t,n,i;return T(this,(function(o){switch(o.label){case 0:this.stepChanging.next(new To(this.step,this.step+1)),e=this.getCurrentStep(),this.nextDisabled=!0,o.label=1;case 1:return o.trys.push([1,,5,6]),t=this.isStepValid(),n=e,t instanceof Promise?[4,t]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=t,o.label=4;case 4:return n.valid=i,[3,6];case 5:return this.nextDisabled=!1,[7];case 6:return e.valid?(this.step+1<this.steps.length&&(this.step++,this.onNext.next(this.step)),[2]):(this.invalidIndicator=!0,this.stepError.next(this.step),[2])}}))}))},e.prototype.isNextDisabled=function(){var e=this.getCurrentStep();return!!e&&(void 0===e.disableNextWhenInvalid?this.disableNextWhenInvalid:e.disableNextWhenInvalid)&&!e.valid},e.prototype.previous=function(){this.stepChanging.next(new To(this.step,this.step-1)),this.step>0&&(this.step--,this.onPrevious.next(this.step))},e.prototype.finish=function(){return P(this,void 0,void 0,(function(){var e,t,n,i=this;return T(this,(function(o){switch(o.label){case 0:this.onFinishing.next(),this.finishDisabled=!0,o.label=1;case 1:return o.trys.push([1,,5,6]),e=this.isStepValid(),t=this.getCurrentStep(),e instanceof Promise?[4,e]:[3,3];case 2:return n=o.sent(),[3,4];case 3:n=e,o.label=4;case 4:return t.valid=n,[3,6];case 5:return this.finishDisabled=!1,[7];case 6:return[2,new Promise((function(e){setTimeout((function(){i.getCurrentStep().valid?i.onFinish.emit():i.stepError.next(i.step),e()}))}))]}}))}))},e.prototype.cancel=function(){this.onCancel.next()},e.prototype.update=function(){var e=this;this.steps.forEach((function(t,n){return t.active=n===e.step}))},e.prototype.gotoStep=function(e){if(e.visited||!this.sequential){var t=this.steps.toArray().findIndex((function(t){return t===e}));this.stepChanging.next(new To(this.step,t)),this.step=t}},e.prototype.isLastStep=function(){return this.step===this.steps.length-1},e.prototype.reset=function(){this.steps.forEach((function(e){return e.setVisitedAndEmitChangeEvent(!1)})),this.step=0},e.prototype.getCurrentStep=function(){return this.getStepAtIndex(this.step)},e.prototype.getStepAtIndex=function(e){return this.steps.toArray()[e]},e.prototype.setFutureStepsUnvisited=function(e){this.resetVisitedOnValidationError&&this.getFutureSteps(e).forEach((function(e){e.setVisitedAndEmitChangeEvent(!1)}))},e.prototype.getFutureSteps=function(e){var t=this.steps.toArray().indexOf(e);return this.steps.toArray().slice(t+1)},e.prototype.isStepValid=function(){var e=this.getCurrentStep();return e.validator?e.validator():e.valid},e.ctorParameters=function(){return[{type:ko}]},e.decorators=[{type:n.Component,args:[{selector:"ux-wizard",template:'<div class="wizard-body">\n\n    <div class="wizard-steps"\n        uxTabbableList\n        [direction]="orientation"\n        role="tablist"\n        [attr.aria-orientation]="orientation">\n\n        <div *ngFor="let stp of steps; let index = index"\n            role="tab"\n            class="wizard-step"\n            [class.active]="stp._active"\n            [class.visited]="stp.visited"\n            [class.invalid]="!stp._valid && stp.visited"\n            [attr.aria-posinset]="index + 1"\n            [attr.aria-setsize]="steps.length"\n            [attr.aria-selected]="stp._active"\n            [attr.aria-controls]="id + \'-step-\' + index"\n            [attr.aria-labelledby]="id + \'-step-\' + index + \'-label\'"\n            [attr.aria-expanded]="stp._active"\n            [id]="id + \'-step-\' + index + \'-label\'"\n            uxFocusIndicator\n            [programmaticFocusIndicator]="true"\n            uxTabbableListItem\n            [disabled]="index !== 0 && (!stp.visited || !sequential)"\n            (click)="gotoStep(stp)"\n            (keydown.enter)="gotoStep(stp)">\n            <span class="wizard-step-text">{{ stp.header }}</span>\n            <ux-icon *ngIf="stp.visited && !stp._active" class="wizard-step-icon" name="checkmark"></ux-icon>\n        </div>\n\n    </div>\n\n    <div class="wizard-content">\n        <ng-content></ng-content>\n    </div>\n\n</div>\n\n<div class="wizard-footer">\n\n    <ng-container *ngIf="footerTemplate"\n                  [ngTemplateOutlet]="footerTemplate"\n                  [ngTemplateOutletContext]="{ step: step }">\n    </ng-container>\n\n    <button #tip="ux-tooltip"\n            type="button"\n            class="btn button-secondary"\n            *ngIf="previousVisible"\n            [uxTooltip]="previousTooltip"\n            [disabled]="previousDisabled || step === 0"\n            [attr.aria-label]="previousAriaLabel"\n            (click)="previous(); tip.hide()">\n        {{ previousText }}\n    </button>\n\n    <button #tip="ux-tooltip"\n            type="button"\n            class="btn button-primary"\n            *ngIf="nextVisible && !isLastStep()"\n            [uxTooltip]="nextTooltip"\n            [disabled]="nextDisabled || isNextDisabled()"\n            [attr.aria-label]="nextAriaLabel"\n            (click)="next(); tip.hide()">\n        {{ nextText }}\n    </button>\n\n    <button #tip="ux-tooltip"\n            type="button"\n            class="btn button-primary"\n            *ngIf="finishVisible && isLastStep() || finishAlwaysVisible"\n            [uxTooltip]="finishTooltip"\n            [disabled]="finishDisabled || isNextDisabled()"\n            [attr.aria-label]="finishAriaLabel"\n            (click)="finish(); tip.hide()">\n        {{ finishText }}\n    </button>\n\n    <button #tip="ux-tooltip"\n            type="button"\n            class="btn button-secondary"\n            *ngIf="cancelVisible && !isLastStep() || cancelAlwaysVisible"\n            [uxTooltip]="cancelTooltip"\n            [disabled]="cancelDisabled"\n            [attr.aria-label]="cancelAriaLabel"\n            (click)="cancel(); tip.hide()">\n        {{ cancelText }}\n    </button>\n\n</div>\n',providers:[ko],host:{"[class]":"orientation"}}]}],e.ctorParameters=function(){return[{type:ko}]},e.propDecorators={orientation:[{type:n.Input}],nextText:[{type:n.Input}],previousText:[{type:n.Input}],cancelText:[{type:n.Input}],finishText:[{type:n.Input}],nextTooltip:[{type:n.Input}],previousTooltip:[{type:n.Input}],cancelTooltip:[{type:n.Input}],finishTooltip:[{type:n.Input}],nextAriaLabel:[{type:n.Input}],previousAriaLabel:[{type:n.Input}],cancelAriaLabel:[{type:n.Input}],finishAriaLabel:[{type:n.Input}],nextDisabled:[{type:n.Input}],previousDisabled:[{type:n.Input}],cancelDisabled:[{type:n.Input}],finishDisabled:[{type:n.Input}],nextVisible:[{type:n.Input}],previousVisible:[{type:n.Input}],cancelVisible:[{type:n.Input}],finishVisible:[{type:n.Input}],cancelAlwaysVisible:[{type:n.Input}],finishAlwaysVisible:[{type:n.Input}],disableNextWhenInvalid:[{type:n.Input}],resetVisitedOnValidationError:[{type:n.Input}],sequential:[{type:n.Input}],onNext:[{type:n.Output}],onPrevious:[{type:n.Output}],onCancel:[{type:n.Output}],onFinishing:[{type:n.Output}],onFinish:[{type:n.Output}],stepChanging:[{type:n.Output}],stepChange:[{type:n.Output}],stepError:[{type:n.Output}],steps:[{type:n.ContentChildren,args:[Io]}],footerTemplate:[{type:n.ContentChild,args:["footerTemplate",{static:!1}]}],step:[{type:n.Input}]},e}(),To=function(e,t){this.from=e,this.to=t},Eo=[Po,Io],Ro=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,Pe,rt],exports:Eo,declarations:Eo}]}],e}(),Ao=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.completed=!1,t.completedChange=new n.EventEmitter,t}return D(t,e),t.prototype.setCompleted=function(e){this.completed=e,this.completedChange.emit(e)},t.decorators=[{type:n.Component,args:[{selector:"ux-marquee-wizard-step",template:'<ng-container *ngIf="active">\n    <ng-content></ng-content>\n</ng-container>',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],t.propDecorators={context:[{type:n.Input}],completed:[{type:n.Input}],completedChange:[{type:n.Output}],_iconTemplate:[{type:n.ContentChild,args:[Do,{read:n.TemplateRef,static:!1}]}]},t}(Io),Mo=function(e){function t(t,i,o,r){var a=e.call(this,t)||this;return a.wizardService=t,a._changeDetector=i,a._resizeService=o,a._elementRef=r,a.sidePanelWidth=25,a.gutterSize=10,a.resizable=!1,a.sidePanelWidthChange=new n.EventEmitter,a.steps=new n.QueryList,a._isInitialised=!1,a.resetVisitedOnValidationError=!0,o.addResizeListener(a._elementRef.nativeElement).pipe(s.takeUntil(a._onDestroy)).subscribe(a.onResize.bind(a)),a}return D(t,e),Object.defineProperty(t.prototype,"isTemplate",{get:function(){return this.description&&this.description instanceof n.TemplateRef},enumerable:!1,configurable:!0}),t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this._resizeService.removeResizeListener(this._elementRef.nativeElement)},t.prototype.next=function(){return P(this,void 0,void 0,(function(){var t;return T(this,(function(n){switch(n.label){case 0:return t=this.getCurrentStep(),[4,e.prototype.next.call(this)];case 1:return n.sent(),t&&t.valid?t.setCompleted(!0):this.stepError.next(this.step),[2]}}))}))},t.prototype.finish=function(){return P(this,void 0,void 0,(function(){var t;return T(this,(function(n){switch(n.label){case 0:return t=this.getCurrentStep(),[4,e.prototype.finish.call(this)];case 1:return n.sent(),t.valid?t.setCompleted(!0):this.stepError.next(this.step),[2]}}))}))},t.prototype.onResize=function(e){0!==e.width&&0!==e.height&&(this._isInitialised=!0)},t.prototype.onDragEnd=function(e){this.sidePanelWidth=e.sizes[0],this.sidePanelWidthChange.emit(this.sidePanelWidth)},t.prototype.gotoStep=function(t){var n=this.getCurrentStep();n!==t&&(this.sequential||n.setCompleted(!0),e.prototype.gotoStep.call(this,t))},t.prototype.setFutureStepsUnvisited=function(t){e.prototype.setFutureStepsUnvisited.call(this,t),this.getFutureSteps(t).forEach((function(e){return e.completed=!1}))},t.ctorParameters=function(){return[{type:ko},{type:n.ChangeDetectorRef},{type:Me},{type:n.ElementRef}]},t.decorators=[{type:n.Component,args:[{selector:"ux-marquee-wizard",template:'<ng-container *ngIf="resizable && _isInitialised">\n    <as-split direction="horizontal"\n              [gutterSize]="gutterSize"\n              (dragEnd)="onDragEnd($event)">\n        <as-split-area [size]="sidePanelWidth">\n            <ng-container [ngTemplateOutlet]="sidePanel"></ng-container>\n        </as-split-area>\n        <as-split-area [size]="100 - sidePanelWidth">\n            <ng-container [ngTemplateOutlet]="mainContentPanel"></ng-container>\n        </as-split-area>\n    </as-split>\n</ng-container>\n\n<ng-container *ngIf="!resizable">\n    <ng-container [ngTemplateOutlet]="sidePanel"></ng-container>\n    <ng-container [ngTemplateOutlet]="mainContentPanel"></ng-container>\n</ng-container>\n\n<ng-template #sidePanel>\n    <div class="marquee-wizard-side-panel" [class.marquee-wizard-side-panel-resize]="resizable">\n\n        <div class="marquee-wizard-description-container" *ngIf="description">\n            \x3c!-- If a template was provided display it --\x3e\n            <ng-container *ngIf="isTemplate" [ngTemplateOutlet]="description"></ng-container>\n\n            \x3c!-- Otherwise simply display the string --\x3e\n            <ng-container *ngIf="!isTemplate">\n                <p>{{ description }}</p>\n            </ng-container>\n        </div>\n\n        <ul class="marquee-wizard-steps"\n            uxTabbableList\n            direction="vertical"\n            role="tablist"\n            aria-orientation="vertical">\n\n            <li *ngFor="let step of steps; let index = index"\n                role="tab"\n                class="marquee-wizard-step"\n                [class.active]="step.active"\n                [class.visited]="step.visited"\n                [class.invalid]="!step.valid"\n                [attr.aria-posinset]="index + 1"\n                [attr.aria-setsize]="steps.length"\n                [attr.aria-selected]="step.active"\n                [attr.aria-controls]="id + \'-step-\' + index"\n                [attr.aria-labelledby]="id + \'-step-\' + index + \'-label\'"\n                [attr.aria-expanded]="step._active"\n                [id]="id + \'-step-\' + index + \'-label\'"\n                uxFocusIndicator\n                [programmaticFocusIndicator]="true"\n                uxTabbableListItem\n                [disabled]="!step.visited"\n                (click)="gotoStep(step)"\n                (keydown.enter)="gotoStep(step)">\n\n                <ng-container [ngTemplateOutlet]="stepTemplate || defaultStepTemplate"\n                              [ngTemplateOutletContext]="{ $implicit: step, index: index, context: step.context }"></ng-container>\n            </li>\n\n        </ul>\n    </div>\n</ng-template>\n\n\n<ng-template #mainContentPanel>\n    <div class="marquee-wizard-content-panel" [class.marquee-wizard-content-panel-resize]="resizable">\n        <div class="marquee-wizard-content">\n            <ng-content></ng-content>\n        </div>\n\n        <div class="modal-footer">\n\n            <ng-container *ngIf="footerTemplate"\n                          [ngTemplateOutlet]="footerTemplate"\n                          [ngTemplateOutletContext]="{ step: step }">\n            </ng-container>\n\n            <button #tip="ux-tooltip"\n                    type="button"\n                    class="btn button-secondary"\n                    *ngIf="previousVisible"\n                    [uxTooltip]="previousTooltip"\n                    [attr.aria-label]="previousAriaLabel"\n                    container="body"\n                    [disabled]="previousDisabled || step === 0"\n                    (click)="previous(); tip.hide()">\n                {{ previousText }}\n            </button>\n\n            <button #tip="ux-tooltip"\n                    type="button"\n                    class="btn button-primary"\n                    *ngIf="nextVisible && !isLastStep()"\n                    [uxTooltip]="nextTooltip"\n                    [attr.aria-label]="nextAriaLabel"\n                    container="body"\n                    [disabled]="nextDisabled || isNextDisabled()"\n                    (click)="next(); tip.hide()">\n                {{ nextText }}\n            </button>\n\n            <button #tip="ux-tooltip"\n                    type="button"\n                    class="btn button-primary"\n                    *ngIf="finishVisible && isLastStep() || finishAlwaysVisible"\n                    [uxTooltip]="finishTooltip"\n                    [attr.aria-label]="finishAriaLabel"\n                    container="body"\n                    [disabled]="finishDisabled || isNextDisabled()"\n                    (click)="finish(); tip.hide()">\n                {{ finishText }}\n            </button>\n\n            <button #tip="ux-tooltip"\n                    type="button"\n                    class="btn button-secondary"\n                    *ngIf="cancelVisible && !isLastStep() || cancelAlwaysVisible"\n                    [uxTooltip]="cancelTooltip"\n                    [attr.aria-label]="cancelAriaLabel"\n                    container="body"\n                    [disabled]="cancelDisabled"\n                    (click)="cancel(); tip.hide()">\n                {{ cancelText }}\n            </button>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #defaultStepTemplate let-step>\n\n    \x3c!-- Insert the icon --\x3e\n    <div *ngIf="step._iconTemplate" class="marquee-wizard-step-icon">\n        <ng-container [ngTemplateOutlet]="step._iconTemplate"></ng-container>\n    </div>\n\n    <span class="marquee-wizard-step-title">{{ step.header }}</span>\n    <ux-icon *ngIf="step.completed" class="marquee-wizard-step-status" name="checkmark"></ux-icon>\n</ng-template>\n',providers:[ko],preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:ko},{type:n.ChangeDetectorRef},{type:Me},{type:n.ElementRef}]},t.propDecorators={description:[{type:n.Input}],stepTemplate:[{type:n.Input}],sidePanelWidth:[{type:n.Input}],gutterSize:[{type:n.Input}],resizable:[{type:n.Input}],sidePanelWidthChange:[{type:n.Output}],steps:[{type:n.ContentChildren,args:[Ao]}]},t}(Po),Lo=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,Pe,rt,Ro,c.AngularSplitModule,$e],exports:[Mo,Ao,Do],declarations:[Mo,Ao,Do]}]}],e}(),$o=function(){function e(){}return e.prototype.createVideoPlayer=function(e){var t=document.createElement("video");return t.preload="auto",t.src=e,t},e.prototype.createCanvas=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},e.prototype.goToFrame=function(e,n){return e.currentTime=n,t.fromEvent(e,0===n?"loadeddata":"seeked")},e.prototype.getThumbnail=function(e,n,i,o,r){var a=this;return void 0===o&&(o=160),void 0===r&&(r=90),t.Observable.create((function(t){var s=a.goToFrame(e,i).subscribe((function(){n.getContext("2d").drawImage(e,0,0,o,r),t.next({image:n.toDataURL(),width:o,height:r,time:i}),t.complete(),s.unsubscribe()}))}))},e.prototype.getFrameThumbnail=function(e,t,n,i){var o=this.createVideoPlayer(e),r=this.createCanvas(t,n),a=this.getThumbnail(o,r,i,t,n);return a.subscribe(null,null,(function(){o=null,r=null})),a},e.prototype.getFrameThumbnails=function(e,n,i,o,r,a){var s=this;void 0===a&&(a=5);var c=this.createVideoPlayer(e),l=this.createCanvas(n,i);return t.Observable.create((function(e){t.fromEvent(c,"loadedmetadata").subscribe((function(){for(var u=[],p=o;p<r;p+=a)u.push(s.getThumbnail(c,l,p,n,i));t.concat.apply(void 0,A(u)).subscribe((function(t){return e.next(t)}),null,(function(){c=null,l=null,e.complete()}))}))}))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e}(),Fo=function(){function e(e){var n=this;this._frameExtractionService=e,this.type="video",this.loaded=!1,this.muteAriaLabel=this.getMuteAriaLabel,this.playAriaLabel=this.getPlayAriaLabel,this.fullscreenAriaLabel=this.getFullscreenAriaLabel,this.selectSubtitlesAriaLabel=this.getSubtitlesAriaLabel,this.goToStartAriaLabel="Go to start",this.goToEndAriaLabel="Go to end",this.subtitlesTitleAriaLabel="Subtitles",this.subtitlesOffAriaLabel="Subtitles Off",this.noSubtitlesAriaLabel="No subtitles",this.mediaPlayerAriaLabel="Media Player",this.seekAriaLabel="Seek Slider",this.playing=new t.BehaviorSubject(!1),this.initEvent=new t.ReplaySubject,this.abortEvent=new t.Subject,this.canPlayEvent=new t.BehaviorSubject(!1),this.canPlayThroughEvent=new t.BehaviorSubject(!1),this.durationChangeEvent=new t.Subject,this.endedEvent=new t.Subject,this.errorEvent=new t.Subject,this.loadedDataEvent=new t.Subject,this.loadedMetadataEvent=new t.Subject,this.loadStartEvent=new t.Subject,this.pauseEvent=new t.Subject,this.playEvent=new t.Subject,this.playingEvent=new t.Subject,this.rateChangeEvent=new t.Subject,this.seekedEvent=new t.Subject,this.seekingEvent=new t.Subject,this.stalledEvent=new t.Subject,this.suspendEvent=new t.Subject,this.timeUpdateEvent=new t.Subject,this.volumeChangeEvent=new t.Subject,this.waitingEvent=new t.Subject,this.mediaClickEvent=new t.Subject,this.fullscreenEvent=new t.BehaviorSubject(!1),this.quietModeEvent=new t.BehaviorSubject(!1),this.progressEvent=t.Observable.create((function(e){var t=setInterval((function(){var i=n._mediaPlayer.buffered;e.next(i),1===i.length&&0===i.start(0)&&i.end(0)===n.duration&&(e.complete(),clearInterval(t))}),1e3)})),this._fullscreen=!1}return Object.defineProperty(e.prototype,"mediaPlayer",{get:function(){return this._mediaPlayer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quietMode",{get:function(){return this._quietMode},set:function(e){"audio"===this.type&&(e=!1),this._quietMode=e,this.quietModeEvent.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaPlayerWidth",{get:function(){return this._mediaPlayer?this._mediaPlayer.offsetWidth:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaPlayerHeight",{get:function(){return this._mediaPlayer?this._mediaPlayer.offsetHeight:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoplay",{get:function(){return!!this._mediaPlayer&&this._mediaPlayer.autoplay},set:function(e){this._mediaPlayer.autoplay=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaPlayer?this._mediaPlayer.buffered:new TimeRanges},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"crossOrigin",{get:function(){return this._mediaPlayer?this._mediaPlayer.crossOrigin:null},set:function(e){this._mediaPlayer.crossOrigin=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSrc",{get:function(){return this._mediaPlayer?this._mediaPlayer.currentSrc:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaPlayer?this._mediaPlayer.currentTime:0},set:function(e){this._mediaPlayer.currentTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultMuted",{get:function(){return!!this._mediaPlayer&&this._mediaPlayer.defaultMuted},set:function(e){this._mediaPlayer.defaultMuted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultPlaybackRate",{get:function(){return this._mediaPlayer?this._mediaPlayer.defaultPlaybackRate:1},set:function(e){this._mediaPlayer.defaultPlaybackRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaPlayer&&!isNaN(this.mediaPlayer.duration)?this._mediaPlayer.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return!!this._mediaPlayer&&this._mediaPlayer.ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return!!this._mediaPlayer&&this._mediaPlayer.loop},set:function(e){this._mediaPlayer.loop=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return!!this._mediaPlayer&&this._mediaPlayer.muted},set:function(e){this._mediaPlayer.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"networkState",{get:function(){return this._mediaPlayer.networkState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return!this._mediaPlayer||this._mediaPlayer.paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{get:function(){return this._mediaPlayer?this._mediaPlayer.playbackRate:1},set:function(e){this._mediaPlayer.playbackRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"played",{get:function(){return this._mediaPlayer?this._mediaPlayer.played:new TimeRanges},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"preload",{get:function(){return this._mediaPlayer?this._mediaPlayer.preload:"auto"},set:function(e){this._mediaPlayer.preload=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._mediaPlayer?this._mediaPlayer.readyState:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seekable",{get:function(){return this._mediaPlayer?this._mediaPlayer.seekable:new TimeRanges},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seeking",{get:function(){return!!this._mediaPlayer&&this._mediaPlayer.seeking},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){return this._mediaPlayer?this._mediaPlayer.src:""},set:function(e){this._mediaPlayer.src=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textTracks",{get:function(){return this._mediaPlayer?Array.from(this._mediaPlayer.textTracks):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaPlayer?this._mediaPlayer.volume:1},set:function(e){this._mediaPlayer&&(this._mediaPlayer.volume=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullscreen",{get:function(){return!!this._mediaPlayer&&this._fullscreen},set:function(e){this._fullscreen=e,this.fullscreenEvent.next(e)},enumerable:!1,configurable:!0}),e.prototype.setMediaPlayer=function(e,t){this._hostElement=e,this._mediaPlayer=t,this.initEvent.next(!0)},e.prototype.togglePlay=function(){!1!==this.loaded&&(this.paused?this.play():this.pause())},e.prototype.play=function(){this._mediaPlayer.play()},e.prototype.pause=function(){this._mediaPlayer.pause()},e.prototype.load=function(){this._mediaPlayer.load()},e.prototype.canPlayType=function(e){return this._mediaPlayer.canPlayType(e)},e.prototype.addTextTrack=function(e,t,n){return this._mediaPlayer.addTextTrack(e,t,n)},e.prototype.requestFullscreen=function(){var e=this._hostElement,t=e.requestFullscreen||e.webkitRequestFullscreen||e.msRequestFullscreen||e.mozRequestFullScreen;t&&(t.call(e),this.fullscreen=!0)},e.prototype.exitFullscreen=function(){var e=document,t=e.exitFullscreen||e.webkitExitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen;t&&(t.call(e),this.fullscreen=!1)},e.prototype.toggleFullscreen=function(){this.fullscreen?this.exitFullscreen():this.requestFullscreen()},e.prototype.fullscreenChange=function(){var e=document;this.fullscreen=e.fullscreen||e.webkitIsFullScreen||e.mozFullScreen||null!=e.msFullscreenElement},e.prototype.getFrames=function(e,n,i){return"video"===this.type?this._frameExtractionService.getFrameThumbnails(this.source,e,n,0,this.duration,10):t.from([])},e.prototype.hideSubtitleTracks=function(){for(var e=0;e<this.textTracks.length;e++)this.textTracks[e].mode="hidden"},e.prototype.getMuteAriaLabel=function(e){return 0===e?"Unmute":"Mute"},e.prototype.getPlayAriaLabel=function(e){return e?"Pause":"Play"},e.prototype.getFullscreenAriaLabel=function(e){return e?"Exit full screen":"Full screen"},e.prototype.getSubtitlesAriaLabel=function(e){return"Select subtitles, "+e+" currently selected."},e.ctorParameters=function(){return[{type:$o}]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:$o}]},e}(),Ho=function(){function e(e){this.mediaPlayerService=e}return e.ctorParameters=function(){return[{type:Fo}]},e.decorators=[{type:n.Directive,args:[{selector:"[mediaPlayerBaseExtension]"}]}],e.ctorParameters=function(){return[{type:Fo}]},e}(),jo=function(){function t(t,i){this._changeDetectorRef=i,this.value=0,this.valueChange=new n.EventEmitter,this._disabled=!1,this.sliderType=e.SliderType,this.sliderStyle=e.SliderStyle,this.sliderSize=e.SliderSize,this.sliderSnap=e.SliderSnap,this.sliderThumb=e.SliderThumb,this.sliderTickType=e.SliderTickType,this.sliderThumbEvent=e.SliderThumbEvent,this.sliderCalloutTrigger=e.SliderCalloutTrigger,this.tracks={lower:{size:0,color:""},middle:{size:0,color:""},upper:{size:0,color:""}},this.tooltips={lower:{visible:!1,position:0,label:""},upper:{visible:!1,position:0,label:""}},this.thumbs={lower:{hover:!1,drag:!1,position:0,order:100,value:null},upper:{hover:!1,drag:!1,position:0,order:101,value:null}},this.ticks=[],this.defaultOptions={type:e.SliderType.Value,handles:{style:e.SliderStyle.Button,callout:{trigger:e.SliderCalloutTrigger.None,background:t.getColor("grey2").toHex(),color:"#fff",formatter:function(e){return e}},keyboard:{major:5,minor:1},aria:{thumb:"Slider value",lowerThumb:"Slider lower value",upperThumb:"Slider upper value"}},track:{height:e.SliderSize.Wide,min:0,max:100,ticks:{snap:e.SliderSnap.None,major:{show:!0,steps:10,labels:!0,formatter:function(e){return e}},minor:{show:!0,steps:5,labels:!1,formatter:function(e){return e}}},colors:{}}}}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(e){this._options=e,this.updateOptions()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=a.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.updateValues(),this.setThumbState(e.SliderThumb.Lower,!1,!1),this.setThumbState(e.SliderThumb.Upper,!1,!1),this.valueChange.next(this.clone(this.value))},t.prototype.ngDoCheck=function(){this.detectValueChange(this.value,this._value)&&(this.updateValues(),this._value=this.clone(this.value))},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){t.updateTooltipPosition(e.SliderThumb.Lower),t.updateTooltipPosition(e.SliderThumb.Upper),t._changeDetectorRef.markForCheck()}))},t.prototype.snapToNearestTick=function(t,n,i){if(!this.disabled){var o=this.getThumbState(t).value,r=this.getTickDistances(o,t,n).filter((function(e){return e.value!==o})).find((function(e){return i?e.value>o:e.value<o}));if(r)return this.setThumbValue(t,this.validateValue(t,r.value));var a=n===e.SliderSnap.Major?this.options.handles.keyboard.major:this.options.handles.keyboard.minor;this.setThumbValue(t,this.validateValue(t,o+(i?a:-a)))}},t.prototype.snapToEnd=function(e,t){this.setThumbValue(e,this.validateValue(e,t?this.options.track.max:this.options.track.min))},t.prototype.getThumbValue=function(e){return this.getThumbState(e).value},t.prototype.getFormattedValue=function(e){return this.options.handles.callout.formatter(this.getThumbState(e).value)},t.prototype.getThumbState=function(t){return t===e.SliderThumb.Lower?this.thumbs.lower:this.thumbs.upper},t.prototype.setThumbState=function(t,n,i){t===e.SliderThumb.Lower?(this.thumbs.lower.hover=n,this.thumbs.lower.drag=i):(this.thumbs.upper.hover=n,this.thumbs.upper.drag=i),this.updateTooltips(t)},t.prototype.thumbEvent=function(t,n){if(!this.disabled){var i=this.getThumbState(t);switch(n){case e.SliderThumbEvent.DragStart:i.drag=!0;break;case e.SliderThumbEvent.DragEnd:i.drag=!1;break;case e.SliderThumbEvent.MouseOver:i.hover=!0;break;case e.SliderThumbEvent.MouseLeave:i.hover=!1;break;case e.SliderThumbEvent.None:i.drag=!1,i.hover=!1}this.setThumbState(t,i.hover,i.drag)}},t.prototype.getAriaValueText=function(e){var t=this.getThumbValue(e),n=this.ticks.find((function(e){return e.value===t}));return n&&n.label?n.label:this.getFormattedValue(e)},t.prototype.updateTooltips=function(t){var n=!1,i=this.getThumbState(t);switch(this.options.handles.callout.trigger){case e.SliderCalloutTrigger.Persistent:n=!0;break;case e.SliderCalloutTrigger.Drag:n=i.drag;break;case e.SliderCalloutTrigger.Hover:n=i.hover||i.drag;break;case e.SliderCalloutTrigger.Dynamic:n=!0}this.getTooltip(t).visible=n,this.updateTooltipText(t),this.updateTooltipPosition(t)},t.prototype.updateTooltipText=function(e){this.getThumbState(e),this.getTooltip(e).label=this.getFormattedValue(e).toString()},t.prototype.getTooltipElement=function(t){return t===e.SliderThumb.Lower?this.lowerTooltip:this.upperTooltip},t.prototype.getTooltip=function(t){return t===e.SliderThumb.Lower?this.tooltips.lower:this.tooltips.upper},t.prototype.updateTooltipPosition=function(t){var n=this.getTooltip(t);if(!1!==n.visible){var i=this.getTooltipElement(t),o=Math.ceil((i.nativeElement.offsetWidth-(this._options.handles.style===e.SliderStyle.Button?this._options.track.height===e.SliderSize.Narrow?16:24:2))/2);n.position=-o,this._options.type===e.SliderType.Range&&this._options.handles.callout.trigger===e.SliderCalloutTrigger.Dynamic&&this.preventTooltipOverlap(n)}},t.prototype.preventTooltipOverlap=function(e){var t=this.track.nativeElement.offsetWidth,n=t/100*this.thumbs.lower.position+this.lowerTooltip.nativeElement.offsetWidth/2-(t/100*this.thumbs.upper.position-this.upperTooltip.nativeElement.offsetWidth/2);n>0&&(e===this.tooltips.lower&&!1===this.thumbs.lower.drag?e.position-=n/2:e===this.tooltips.upper&&!1===this.thumbs.upper.drag&&(e.position+=n/2))},t.prototype.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)},t.prototype.updateThumbPosition=function(t,n){if(!this.disabled){var i=t instanceof MouseEvent?t.clientX:t.touches&&t.touches.length>0?t.touches[0].clientX:null;if(null!==i){var o=window.pageXOffset+i,r=this.track.nativeElement.getBoundingClientRect(),a=this.clamp(o-r.left,0,r.width)/r.width*(this._options.track.max-this._options.track.min)+this._options.track.min;a=this.validateValue(n,a),a=this.snapToTick(a,n),this.setThumbValue(n,a),this.updateOrder(n),this.updateValues(),this.updateTooltipText(n),this.updateTooltipPosition(e.SliderThumb.Lower),this.updateTooltipPosition(e.SliderThumb.Upper),this._changeDetectorRef.markForCheck()}}},t.prototype.updateOrder=function(t){var n=t===e.SliderThumb.Lower?100:101;this.thumbs.lower.order=t===e.SliderThumb.Lower?101:100,this.thumbs.upper.order=n},t.prototype.getTickDistances=function(t,n,i){if(i===e.SliderSnap.None)return[];var o;switch(i){case e.SliderSnap.Minor:o=this.ticks.filter((function(t){return t.type===e.SliderTickType.Minor}));break;case e.SliderSnap.Major:o=this.ticks.filter((function(t){return t.type===e.SliderTickType.Major}));break;default:o=this.ticks.slice(0)}var r=this._options.track.min,a=this._options.track.max;this._options.type===e.SliderType.Range&&n===e.SliderThumb.Lower&&(a=this.thumbs.upper.value),this._options.type===e.SliderType.Range&&n===e.SliderThumb.Upper&&(r=this.thumbs.lower.value);var s=o.filter((function(e){return e.value>=r&&e.value<=a}));return 0===s.length?[]:s.sort((function(e,n){return Math.max(e.value,t)-Math.min(e.value,t)-(Math.max(n.value,t)-Math.min(n.value,t))}))},t.prototype.snapToTick=function(e,t){var n=this.getTickDistances(e,t,this._options.track.ticks.snap);return 0===n.length?e:n[0].value},t.prototype.validateValue=function(t,n){return this._options.type===e.SliderType.Value?Math.max(Math.min(n,this._options.track.max),this._options.track.min):n>this._options.track.max?t===e.SliderThumb.Lower?Math.min(this._options.track.max,this.thumbs.upper.value):this._options.track.max:n<this._options.track.min?t===e.SliderThumb.Upper?Math.max(this._options.track.min,this.thumbs.lower.value):this._options.track.min:t===e.SliderThumb.Lower?null===this.thumbs.upper.value||n<=this.thumbs.upper.value?n:this.thumbs.upper.value:t===e.SliderThumb.Upper?null===this.thumbs.lower.value||n>=this.thumbs.lower.value?n:this.thumbs.lower.value:void 0},t.prototype.updateOptions=function(){this._options=this.deepMerge(this._options||{},this.defaultOptions),this.updateTrackColors(),this.updateTicks(),this.updateValues()},t.prototype.updateValues=function(){null==this.value&&(this.value=0);var t="number"==typeof this.value?this.value:this.value.low,n="number"==typeof this.value?this.value:this.value.high;t=this.validateValue(e.SliderThumb.Lower,Number(t.toFixed(4))),n=this.validateValue(e.SliderThumb.Upper,Number(n.toFixed(4)));var i=(t-this._options.track.min)/(this._options.track.max-this._options.track.min)*100,o=(n-this._options.track.min)/(this._options.track.max-this._options.track.min)*100;this.thumbs.lower.position=i,this.thumbs.upper.position=o,this.tracks.lower.size=i,this.tracks.middle.size=o-i,this.tracks.upper.size=this._options.type===e.SliderType.Value?100-i:100-o,this.setValue(t,n)},t.prototype.setValue=function(t,n){this.thumbs.lower.value=t,this.thumbs.upper.value=n;var i=this.clone(this._value);this.value=this._options.type===e.SliderType.Value?t:{low:t,high:n},this.detectValueChange(this.value,i)?(this.valueChange.emit(this.clone(this.value)),this.updateTooltipText(e.SliderThumb.Lower),this.updateTooltipText(e.SliderThumb.Upper)):this.valueChange.emit(this.clone(this.value))},t.prototype.setThumbValue=function(e,t){this.getThumbState(e).value=t,this.setValue(this.thumbs.lower.value,this.thumbs.upper.value)},t.prototype.updateTicks=function(){var t=this._options.track.ticks.major,n=this._options.track.ticks.minor;!1===t.show&&!1===n.show&&(this.ticks=[]);var i=this.getTicks(t,e.SliderTickType.Major).filter((function(e){return e.showTicks})),o=this.getTicks(n,e.SliderTickType.Minor).filter((function(e){return e.showTicks}));this.ticks=this.unionTicks(i,o)},t.prototype.updateTrackColors=function(){var e=this._options.track.colors,t=e.range,n=e.higher;this.tracks.lower.color=this.getTrackColorStyle(e.lower),this.tracks.middle.color=this.getTrackColorStyle(t),this.tracks.upper.color=this.getTrackColorStyle(n)},t.prototype.getTrackColorStyle=function(e){return Array.isArray(e)?"linear-gradient(to right, "+e.join(", ")+")":e},t.prototype.getSteps=function(e){if(e instanceof Array)return e;for(var t=[],n=this._options.track.min;n<=this._options.track.max;n+=e)t.push(n);return t},t.prototype.getTicks=function(e,t){var n=this.getSteps(e.steps),i=this._options.track.min,o=this._options.track.max;return n.map((function(n){return{showTicks:e.show,showLabels:e.labels,type:t,position:(n-i)/(o-i)*100,value:n,label:e.formatter(n)}})).filter((function(e){return e.position>=0&&e.position<=100}))},t.prototype.unionTicks=function(t,n){return t.concat(n).filter((function(t,n,i){return t.type===e.SliderTickType.Major||!i.find((function(n){return n.type===e.SliderTickType.Major&&n.position===t.position}))})).sort((function(e,t){return e.value-t.value}))},t.prototype.deepMerge=function(e,t){for(var n in t)e.hasOwnProperty(n)?"object"==typeof e[n]&&(e[n]instanceof Array||(e[n]=this.deepMerge(e[n],t[n]))):e[n]=t[n];return e},t.prototype.detectValueChange=function(e,t){return this.isSliderValue(e)&&this.isSliderValue(t)?e.low!==t.low||e.high!==t.high:e!==t},t.prototype.isSliderValue=function(e){return"object"==typeof e&&"low"in e&&"high"in e},t.prototype.clone=function(e){if("object"!=typeof e)return e;var t=O({},e);return e=void 0,t},t.ctorParameters=function(){return[{type:q},{type:n.ChangeDetectorRef}]},t.decorators=[{type:n.Component,args:[{selector:"ux-slider",template:'<div class="track"\n     #track\n     [class.narrow]="_options.track.height === sliderSize.Narrow"\n     [class.wide]="_options.track.height === sliderSize.Wide"\n     [class.range]="_options.type === sliderType.Range">\n\n    \x3c!-- Section Beneath Lower Thumb --\x3e\n    <div class="track-section track-lower" [style.flex-grow]="tracks.lower.size" [style.background]="this.disabled ? null : tracks.lower.color"></div>\n\n    \x3c!-- Lower Thumb Button / Line --\x3e\n    <div class="thumb lower"\n        uxDrag\n        uxFocusIndicator\n        role="slider"\n        [tabindex]="disabled ? -1 : 0"\n        #lowerthumb\n        [attr.aria-label]="_options.type === sliderType.Range ? _options.handles.aria.lowerThumb :\n        _options.handles.aria.thumb"\n        [attr.aria-valuemin]="_options?.track?.min"\n        [attr.aria-valuemax]="_options.type === sliderType.Range ? getThumbValue(sliderThumb.Upper) :\n        _options?.track?.max"\n        [attr.aria-valuenow]="getThumbValue(sliderThumb.Lower)"\n        [attr.aria-valuetext]="getAriaValueText(sliderThumb.Lower)"\n        [style.left.%]="thumbs.lower.position"\n        [class.active]="thumbs.lower.drag"\n        [style.z-index]="thumbs.lower.order"\n        [class.button]="_options.handles.style === sliderStyle.Button"\n        [class.line]="_options.handles.style === sliderStyle.Line"\n        [class.narrow]="_options.track.height === sliderSize.Narrow"\n        [class.wide]="_options.track.height === sliderSize.Wide"\n        (onDragStart)="thumbEvent(sliderThumb.Lower, sliderThumbEvent.DragStart); lowerthumb.focus()"\n        (onDrag)="updateThumbPosition($event, sliderThumb.Lower)"\n        (onDragEnd)="thumbEvent(sliderThumb.Lower, sliderThumbEvent.DragEnd)"\n        (mouseenter)="thumbEvent(sliderThumb.Lower, sliderThumbEvent.MouseOver)"\n        (mouseleave)="thumbEvent(sliderThumb.Lower, sliderThumbEvent.MouseLeave)"\n        (focus)="thumbEvent(sliderThumb.Lower, sliderThumbEvent.MouseOver)"\n        (blur)="thumbEvent(sliderThumb.Lower, sliderThumbEvent.MouseLeave)"\n        (keydown.ArrowLeft)="snapToNearestTick(sliderThumb.Lower, sliderSnap.All, false); $event.preventDefault()"\n        (keydown.ArrowRight)="snapToNearestTick(sliderThumb.Lower, sliderSnap.All, true); $event.preventDefault()"\n        (keydown.ArrowUp)="snapToNearestTick(sliderThumb.Lower, sliderSnap.All, false); $event.preventDefault()"\n        (keydown.ArrowDown)="snapToNearestTick(sliderThumb.Lower, sliderSnap.All, true); $event.preventDefault()"\n        (keydown.PageDown)="snapToNearestTick(sliderThumb.Lower, sliderSnap.Major, false); $event.preventDefault()"\n        (keydown.PageUp)="snapToNearestTick(sliderThumb.Lower, sliderSnap.Major, true); $event.preventDefault()"\n        (keydown.Home)="snapToEnd(sliderThumb.Lower, false); $event.preventDefault()"\n        (keydown.End)="snapToEnd(sliderThumb.Lower, true); $event.preventDefault()">\n\n        \x3c!-- Lower Thumb Callout --\x3e\n        <div class="tooltip top tooltip-lower" #lowerTooltip\n            [class.tooltip-dynamic]="_options.handles.callout.trigger === sliderCalloutTrigger.Dynamic &&\n             thumbs.lower.drag === false"\n            [style.opacity]="tooltips.lower.visible ? 1 : 0"\n            [style.left.px]="tooltips.lower.position">\n\n            <div class="tooltip-arrow" [style.border-top-color]="_options.handles.callout.background"></div>\n\n            <div class="tooltip-inner"\n                [style.background-color]="_options.handles.callout.background"\n                [style.color]="_options.handles.callout.color">\n                {{ tooltips.lower.label }}\n            </div>\n        </div>\n\n    </div>\n\n    \x3c!-- Section of Track Between Lower and Upper Thumbs --\x3e\n    <div class="track-section track-range" *ngIf="_options.type === sliderType.Range"\n         [style.flex-grow]="tracks.middle.size" [style.background]="this.disabled ? null : tracks.middle.color">\n    </div>\n\n    \x3c!-- Upper Thumb Button / Line --\x3e\n    <div class="thumb upper"\n        uxDrag\n        uxFocusIndicator\n        role="slider"\n        [tabindex]="disabled ? -1 : 0"\n        #upperthumb\n        [attr.aria-label]="_options.handles.aria.upperThumb"\n        [attr.aria-valuemin]="getThumbValue(sliderThumb.Lower) || _options?.track?.min"\n        [attr.aria-valuemax]="_options?.track?.max"\n        [attr.aria-valuenow]="getThumbValue(sliderThumb.Upper)"\n        [attr.aria-valuetext]="getAriaValueText(sliderThumb.Upper)"\n        [hidden]="_options.type !== sliderType.Range"\n        [class.active]="thumbs.upper.drag"\n        [style.left.%]="thumbs.upper.position"\n        [style.z-index]="thumbs.upper.order"\n        [class.button]="_options.handles.style === sliderStyle.Button"\n        [class.line]="_options.handles.style === sliderStyle.Line"\n        [class.narrow]="_options.track.height === sliderSize.Narrow"\n        [class.wide]="_options.track.height === sliderSize.Wide"\n        (onDragStart)="thumbEvent(sliderThumb.Upper, sliderThumbEvent.DragStart); upperthumb.focus()"\n        (onDrag)="updateThumbPosition($event, sliderThumb.Upper)"\n        (onDragEnd)="thumbEvent(sliderThumb.Upper, sliderThumbEvent.DragEnd)"\n        (mouseenter)="thumbEvent(sliderThumb.Upper, sliderThumbEvent.MouseOver)"\n        (mouseleave)="thumbEvent(sliderThumb.Upper, sliderThumbEvent.MouseLeave)"\n        (focus)="thumbEvent(sliderThumb.Upper, sliderThumbEvent.MouseOver)"\n        (blur)="thumbEvent(sliderThumb.Upper, sliderThumbEvent.MouseLeave)"\n        (keydown.ArrowLeft)="snapToNearestTick(sliderThumb.Upper, sliderSnap.All, false); $event.preventDefault()"\n        (keydown.ArrowRight)="snapToNearestTick(sliderThumb.Upper, sliderSnap.All, true); $event.preventDefault()"\n        (keydown.ArrowUp)="snapToNearestTick(sliderThumb.Upper, sliderSnap.All, false); $event.preventDefault()"\n        (keydown.ArrowDown)="snapToNearestTick(sliderThumb.Upper, sliderSnap.All, true); $event.preventDefault()"\n        (keydown.PageDown)="snapToNearestTick(sliderThumb.Upper, sliderSnap.Major, false); $event.preventDefault()"\n        (keydown.PageUp)="snapToNearestTick(sliderThumb.Upper, sliderSnap.Major, true); $event.preventDefault()"\n        (keydown.Home)="snapToEnd(sliderThumb.Upper, false); $event.preventDefault()"\n        (keydown.End)="snapToEnd(sliderThumb.Upper, true); $event.preventDefault()">\n\n        \x3c!-- Upper Thumb Callout --\x3e\n        <div class="tooltip top tooltip-upper" #upperTooltip\n            [class.tooltip-dynamic]="_options.handles.callout.trigger === sliderCalloutTrigger.Dynamic &&\n             thumbs.upper.drag === false"\n            [style.opacity]="tooltips.upper.visible ? 1 : 0"\n            [style.left.px]="tooltips.upper.position">\n\n            <div class="tooltip-arrow" [style.border-top-color]="_options.handles.callout.background"></div>\n\n            <div class="tooltip-inner"\n                *ngIf="_options.type === sliderType.Range"\n                [style.background-color]="_options.handles.callout.background"\n                [style.color]="_options.handles.callout.color">\n                {{ tooltips.upper.label }}\n            </div>\n        </div>\n    </div>\n\n    \x3c!-- Section of Track Abover Upper Thumb --\x3e\n    <div class="track-section track-higher" [style.flex-grow]="tracks.upper.size" [style.background]="this.disabled ? null : tracks.upper.color"></div>\n\n</div>\n\n\x3c!-- Chart Ticks and Tick Labels --\x3e\n<div class="tick-container"\n    role="presentation"\n    *ngIf="(_options.track.ticks.major.show || _options.track.ticks.minor.show) &&\n    _options.handles.callout.trigger !== sliderCalloutTrigger.Dynamic"\n    [class.show-labels]="_options.track.ticks.major.labels || _options.track.ticks.minor.labels">\n\n    <div class="tick"\n        *ngFor="let tick of ticks"\n        [class.major]="tick.type === sliderTickType.Major"\n        [class.minor]="tick.type === sliderTickType.Minor"\n        [style.left.%]="tick.position"\n        [hidden]="!tick.showTicks">\n\n        <div class="tick-indicator"></div>\n        <div class="tick-label" aria-hidden="true" [hidden]="!tick.showLabels">{{ tick.label }}</div>\n    </div>\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,host:{"[class.disabled]":"disabled"}}]}],t.ctorParameters=function(){return[{type:q},{type:n.ChangeDetectorRef}]},t.propDecorators={value:[{type:n.Input}],options:[{type:n.Input}],disabled:[{type:n.Input}],valueChange:[{type:n.Output}],lowerTooltip:[{type:n.ViewChild,args:["lowerTooltip",{static:!0}]}],upperTooltip:[{type:n.ViewChild,args:["upperTooltip",{static:!0}]}],track:[{type:n.ViewChild,args:["track",{static:!0}]}]},t}();(co=e.SliderType||(e.SliderType={}))[co.Value=0]="Value",co[co.Range=1]="Range",(lo=e.SliderStyle||(e.SliderStyle={}))[lo.Button=0]="Button",lo[lo.Line=1]="Line",(uo=e.SliderSize||(e.SliderSize={}))[uo.Narrow=0]="Narrow",uo[uo.Wide=1]="Wide",(po=e.SliderCalloutTrigger||(e.SliderCalloutTrigger={}))[po.None=0]="None",po[po.Hover=1]="Hover",po[po.Drag=2]="Drag",po[po.Persistent=3]="Persistent",po[po.Dynamic=4]="Dynamic",(ho=e.SliderSnap||(e.SliderSnap={}))[ho.None=0]="None",ho[ho.Minor=1]="Minor",ho[ho.Major=2]="Major",ho[ho.All=3]="All",(go=e.SliderTickType||(e.SliderTickType={}))[go.Minor=0]="Minor",go[go.Major=1]="Major",(fo=e.SliderThumbEvent||(e.SliderThumbEvent={}))[fo.None=0]="None",fo[fo.MouseOver=1]="MouseOver",fo[fo.MouseLeave=2]="MouseLeave",fo[fo.DragStart=3]="DragStart",fo[fo.DragEnd=4]="DragEnd",(yo=e.SliderThumb||(e.SliderThumb={}))[yo.Lower=0]="Lower",yo[yo.Upper=1]="Upper";var Bo,No=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,Y,_t],exports:[jo],declarations:[jo]}]}],e}(),zo=1,Vo=function(){function i(n){this.mediaPlayerService=n,this.volumeActive=!1,this.volumeFocus=!1,this.returnFocus=!0,this.subtitlesId="ux-media-player-subtitle-popover-"+zo++,this.subtitlesOpen=!1,this.mouseEnterVolume=new t.Subject,this.mouseLeaveVolume=new t.Subject,this.options={handles:{aria:{thumb:"Volume"}},track:{colors:{lower:"#666"},height:e.SliderSize.Narrow,ticks:{major:{show:!1},minor:{show:!1}}}},this._volume=100,this._previousVolume=100,this._onDestroy=new t.Subject}return Object.defineProperty(i.prototype,"volume",{get:function(){return this._volume},set:function(e){0===e&&0!==this._volume&&(this._previousVolume=this._volume),this._volume=Math.min(Math.max(e,0),100),this.mediaPlayerService.volume=this._volume/100},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){var e=this;this.mediaPlayerService.volumeChangeEvent.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){return e.volume=100*t})),this.mediaPlayerService.initEvent.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.volume=100*e.mediaPlayerService.volume})),this.mouseEnterVolume.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.volumeActive=!0})),this.mouseLeaveVolume.pipe(s.switchMap((function(){return t.timer(1500).pipe(s.takeUntil(e.mouseEnterVolume))})),s.takeUntil(this._onDestroy)).subscribe((function(){return e.volumeActive=!1}))},i.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},i.prototype.toggleMute=function(){this.volume=0===this.volume?this._previousVolume:0},i.prototype.goToStart=function(){this.mediaPlayerService.currentTime=0},i.prototype.goToEnd=function(){this.mediaPlayerService.currentTime=this.mediaPlayerService.duration},i.prototype.isSubtitleActive=function(){for(var e=0;e<this.mediaPlayerService.textTracks.length;e++)if("showing"===this.mediaPlayerService.textTracks[e].mode)return!0;return!1},i.prototype.setSubtitleTrack=function(e){this.mediaPlayerService.hideSubtitleTracks();for(var t=0;t<e.cues.length;t++)e.cues[t].line=-3;e.mode="showing"},i.prototype.getSubtitleTrack=function(){for(var e=0;e<this.mediaPlayerService.textTracks.length;e++)if("showing"===this.mediaPlayerService.textTracks[e].mode)return this.mediaPlayerService.textTracks[e].label;return this.mediaPlayerService.noSubtitlesAriaLabel},i.ctorParameters=function(){return[{type:Fo}]},i.decorators=[{type:n.Component,args:[{selector:"ux-media-player-controls",template:'<div class="volume-container">\n\n    <div class="volume-slider-container"\n        #volumeContainer\n        [class.active]="volumeActive || volumeFocus"\n        (mouseenter)="mouseEnterVolume.next()"\n        (mouseleave)="mouseLeaveVolume.next()"\n        (uxFocusWithin)="volumeFocus = true"\n        (uxBlurWithin)="volumeFocus = false">\n\n        <button #volumeIcon\n                uxFocusIndicator\n                type="button"\n                class="volume-slider-icon"\n                [attr.aria-label]="mediaPlayerService.muteAriaLabel(volume)"\n                [uxTooltip]="muteTooltip"\n                [showTriggers]="[\'mouseenter\']"\n                [hideTriggers]="[\'mouseleave\']"\n                (click)="toggleMute()"\n                (mouseup)="volumeIcon.blur()">\n\n            <ux-icon *ngIf="volume === 0" name="volume-mute"></ux-icon>\n            <ux-icon *ngIf="volume > 0 && volume <= 70" name="volume-low"></ux-icon>\n            <ux-icon *ngIf="volume > 70" name="volume"></ux-icon>\n        </button>\n\n        <div class="volume-slider-node">\n            <ux-slider [(value)]="volume" [options]="options"></ux-slider>\n        </div>\n    </div>\n</div>\n\n<button #startButton\n    uxFocusIndicator\n    type="button"\n    class="control-button"\n    (click)="goToStart()"\n    (mouseup)="startButton.blur()"\n    [attr.aria-label]="mediaPlayerService.goToStartAriaLabel">\n\n    <svg viewBox="0 0 51.5 64" width="14" height="17" focusable="false">\n        <rect x="0" y="0" width="7.5" height="64" />\n        <polygon points="51.5,64 51.5,0 7.4,32 " />\n    </svg>\n</button>\n\n<button #playButton\n    uxFocusIndicator\n    type="button"\n    class="control-button"\n    [attr.aria-label]="mediaPlayerService.playAriaLabel(mediaPlayerService.playing | async)"\n    (click)="mediaPlayerService.togglePlay()"\n    (mouseup)="playButton.blur()">\n\n    <svg *ngIf="!(mediaPlayerService.playing | async)" viewBox="0 0 45 64" width="20" height="29" focusable="false">\n        <polygon points="0.4,0 0.4,64 44.6,32" />\n    </svg>\n    <svg *ngIf="mediaPlayerService.playing | async" viewBox="0 0 43 56.9" width="20" height="29" focusable="false">\n        <rect y="0.1" width="15.7" height="56.9" />\n        <rect x="27.3" y="0.1" width="15.7" height="56.9" />\n    </svg>\n</button>\n\n<button #endButton\n    uxFocusIndicator\n    type="button"\n    class="control-button"\n    (click)="goToEnd()"\n    (mouseup)="endButton.blur()"\n    [attr.aria-label]="mediaPlayerService.goToEndAriaLabel">\n\n    <svg viewBox="0 0 51.5 64" width="14" height="17" focusable="false">\n        <rect x="44.1" y="0" width="7.5" height="64" />\n        <polygon points="0,64 0,0 44.1,32" />\n    </svg>\n</button>\n\n<div class="actions-list">\n\n    <ng-content></ng-content>\n\n    <div class="action-button-container" *ngIf="mediaPlayerService.textTracks.length > 0 && mediaPlayerService.type === \'video\'">\n        <button #subtitlesButton\n            uxFocusIndicator\n            type="button"\n            class="action-button"\n            (keydown)="returnFocus = true"\n            (click)="subtitlesOpen = !subtitlesOpen"\n            (mouseup)="subtitlesButton.blur(); returnFocus = false"\n            [attr.aria-label]="mediaPlayerService.selectSubtitlesAriaLabel(getSubtitleTrack())"\n            [attr.aria-expanded]="subtitlesOpen"\n            [attr.aria-describedby]="subtitlesId"\n            aria-haspopup="true">\n\n            <ux-icon name="subtitles"></ux-icon>\n        </button>\n\n        <div #subtitles\n            [style.top.px]="-subtitles.offsetHeight"\n            class="popover top media-player-subtitles-popover show"\n            [id]="subtitlesId"\n            (keydown.escape)="subtitlesOpen = false"\n            (uxClickOutside)="subtitlesOpen = false"\n            *ngIf="subtitlesOpen">\n            <div class="arrow"></div>\n            <h3 class="popover-title">{{ mediaPlayerService.subtitlesTitleAriaLabel }}</h3>\n            <div class="popover-content">\n                <ul class="subtitles-list" uxTabbableList [focusOnShow]="returnFocus" [returnFocus]="returnFocus">\n                    <li uxTabbableListItem\n                        tabindex="0"\n                        class="subtitles-list-item"\n                        [class.active]="!isSubtitleActive()"\n                        [attr.aria-selected]="isSubtitleActive()"\n                        (click)="mediaPlayerService.hideSubtitleTracks(); subtitlesOpen = false"\n                        (keydown.enter)="mediaPlayerService.hideSubtitleTracks(); subtitlesOpen = false; returnFocus = true">\n\n                        <ux-icon name="checkmark" class="subtitles-list-item-checkmark"></ux-icon>\n                        <span>{{ mediaPlayerService.subtitlesOffAriaLabel }}</span>\n                    </li>\n                    <li uxTabbableListItem\n                        class="subtitles-list-item"\n                        *ngFor="let track of mediaPlayerService.textTracks"\n                        [class.active]="track.mode === \'showing\'"\n                        [attr.aria-selected]="isSubtitleActive()"\n                        (click)="setSubtitleTrack(track); subtitlesOpen = false"\n                        (keydown.enter)="setSubtitleTrack(track); subtitlesOpen = false; returnFocus = true">\n\n                        <ux-icon name="checkmark" class="subtitles-list-item-checkmark"></ux-icon>\n                        <span>{{ track.label }}</span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n\n    <div class="action-button-container">\n        <button #fullscreenButton\n            uxFocusIndicator\n            *ngIf="mediaPlayerService.type !== \'audio\'"\n            type="button"\n            class="action-button"\n            [attr.aria-label]="mediaPlayerService.fullscreenAriaLabel(mediaPlayerService.fullscreen)"\n            (click)="mediaPlayerService.toggleFullscreen()"\n            (mouseup)="fullscreenButton.blur()">\n\n            <ux-icon [name]="mediaPlayerService.fullscreen ? \'contract\' : \'expand\'"></ux-icon>\n        </button>\n    </div>\n</div>\n\n\n\n<ng-template #muteTooltip>\n    <span aria-hidden="true">{{ volume === 0 ? \'Unmute\' : \'Mute\' }}</span>\n</ng-template>',changeDetection:n.ChangeDetectionStrategy.OnPush,host:{"[class.quiet]":"mediaPlayerService.quietMode || mediaPlayerService.fullscreen"}}]}],i.ctorParameters=function(){return[{type:Fo}]},i}(),Wo=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxMediaPlayerCustomControl]"}]}],e}(),Uo=function(){function e(e){this.mediaPlayerService=e,this.current=0,this.position=0,this.buffered=[],this.mouseDown=!1,this.scrub={visible:!1,position:0,time:0},this._onDestroy=new t.Subject}return e.prototype.ngOnInit=function(){var e=this;this.mediaPlayerService.fullscreenEvent.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){e.scrub.position=0})),this.mediaPlayerService.timeUpdateEvent.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){e.current=t,e.position=e.current/e.mediaPlayerService.duration*100})),this.mediaPlayerService.progressEvent.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){e.buffered=[];for(var n=0;n<t.length;n++)e.buffered.push({start:t.start(n)/e.mediaPlayerService.duration*100,end:t.end(n)/e.mediaPlayerService.duration*100})}))},e.prototype.ngAfterViewInit=function(){var e=this,n=t.fromEvent(this.thumb.nativeElement,"mousedown"),i=t.fromEvent(document,"mousemove"),o=t.fromEvent(document,"mouseup");n.pipe(s.switchMap((function(){return i.pipe(s.takeUntil(o))})),s.takeUntil(this._onDestroy)).subscribe((function(){return e.scrub.visible=!1}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.updateScrub=function(e){if(!e.target.classList.contains("media-progress-bar-thumb")){var t=this.timelineRef.nativeElement.getBoundingClientRect();this.scrub.position=e.offsetX,this.scrub.time=e.offsetX/t.width*this.mediaPlayerService.duration,this.mouseDown&&(this.mediaPlayerService.pause(),this.mediaPlayerService.currentTime=this.scrub.time)}},e.prototype.skip=function(e){var t=this.current+e;t<0&&(t=0),t>this.mediaPlayerService.duration&&(t=this.mediaPlayerService.duration),this.mediaPlayerService.currentTime=t},e.ctorParameters=function(){return[{type:Fo}]},e.decorators=[{type:n.Component,args:[{selector:"ux-media-player-timeline",template:'<p class="current-time">{{ current | duration }}</p>\n\n<div #timeline\n     class="timeline-bar"\n     tabindex="0"\n     role="slider"\n     [attr.aria-label]="mediaPlayerService.seekAriaLabel"\n     aria-valuemin="0"\n     [attr.aria-valuemax]="mediaPlayerService.duration | number: \'0.0-0\'"\n     [attr.aria-valuenow]="mediaPlayerService.currentTime | number: \'0.0-0\'"\n     attr.aria-valuetext="{{ mediaPlayerService.currentTime | duration }} of {{ mediaPlayerService.duration | duration }}"\n     (keydown.ArrowLeft)="skip(-5)"\n     (keydown.ArrowRight)="skip(5)"\n     (mouseenter)="scrub.visible = true; tooltip.show()"\n     (mouseleave)="scrub.visible = false; tooltip.hide()"\n     (mousemove)="updateScrub($event); tooltip.reposition()"\n     (mouseup)="updateScrub($event)"\n     (mousedown)="mouseDown = true; $event.preventDefault()">\n\n    <div class="buffered-bar"\n         *ngFor="let buffer of buffered"\n         [style.left.%]="buffer.start"\n         [style.width.%]="buffer.end - buffer.start">\n    </div>\n\n    <div class="media-progress-bar" [style.width.%]="position">\n        <div #progressThumb\n             class="media-progress-bar-thumb"\n             (mouseenter)="scrub.visible = false; tooltip.hide(); $event.stopPropagation()"\n             (mouseleave)="scrub.visible = true; tooltip.show(); $event.stopPropagation()">\n        </div>\n    </div>\n\n    <div #tooltip="ux-tooltip"\n         class="scrub-handle"\n         [class.scrub-handle-hidden]="!scrub.visible"\n         [style.left.px]="scrub.position"\n         [uxTooltip]="popTemplate"\n         tooltipClass="ux-media-player-timeline-tooltip"\n         placement="top"\n         [showTriggers]="[]"\n         [hideTriggers]="[]"\n         [tooltipDelay]="100"\n         [tooltipDisabled]="mediaPlayerService.duration === 0"></div>\n</div>\n\n<p class="duration-time">{{ mediaPlayerService.duration | duration }}</p>\n\n<ng-template #popTemplate>\n    <span>{{ scrub.time | duration }}</span>\n</ng-template>',host:{"(document:mouseup)":"mouseDown = false","[class.quiet]":"mediaPlayerService.quietMode || mediaPlayerService.fullscreen"}}]}],e.ctorParameters=function(){return[{type:Fo}]},e.propDecorators={thumb:[{type:n.ViewChild,args:["progressThumb",{static:!0}]}],timelineRef:[{type:n.ViewChild,args:["timeline",{static:!0}]}]},e}(),Go=function(){function e(e){this._http=e}return e.prototype.getAudioFileMetadata=function(e){var n=this;return t.Observable.create((function(t){n._http.get(e.src,{responseType:"blob"}).subscribe((function(n){var i,o=e.src.substring(e.src.lastIndexOf(".")+1).toLowerCase(),r=-1!==e.src.indexOf("base64")?"":e.src.substring(e.src.lastIndexOf("/")+1);switch(o){case"mp3":i="MPEG audio layer 3 file";break;case"wma":i="Windows media audio file";break;case"wav":i="WAVE audio file";break;case"ogg":i="Ogg Vorbis file";break;case"aac":i="Advanced audio coding file";break;case"midi":i="Musical instrument digital interface file";break;default:i="Audio file"}t.next({filename:r,extension:o,description:i,size:n.size})}))}))},e.prototype.getWaveformFromUrl=function(e){var n=this;return window.AudioContext?(this._audioContext=new AudioContext,this.createVolumeNode(),this.createAnalyserNode(),t.Observable.create((function(t){n._http.get(e,{responseType:"arraybuffer"}).subscribe((function(e){n.getAudioBuffer(e).subscribe((function(e){n.createBufferSource(e);for(var i=[],o=n._audioBuffer.numberOfChannels,r=0;r<o;r++)i[r]=n._audioBuffer.getChannelData(r);t.next(i),t.complete(),i=null}),(function(e){return t.error(e)}))}),(function(e){return t.error(e)}))}))):t.of([new Float32Array(0)])},e.prototype.getWaveformPoints=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=1e3);for(var n=[],i=e.length>0?e[0].length:0,o=function(t){var i=e.map((function(e){return e[t]}));n.push({min:i.reduce((function(e,t){return t<e?t:e})),max:i.reduce((function(e,t){return t>e?t:e}))})},r=0;r<i;r+=t)o(r);return n},e.prototype.getAudioBuffer=function(e){var n=this;return t.Observable.create((function(t){n.getOfflineAudioContext().decodeAudioData(e,(function(e){t.next(e),t.complete()}),(function(e){return t.error(e)}))}))},e.prototype.getOfflineAudioContext=function(){return new OfflineAudioContext(1,2,this._audioContext.sampleRate||44100)},e.prototype.createBufferSource=function(e){this.disconnectSource(),this._audioBuffer=e,this._audioBufferSource=this._audioContext.createBufferSource(),this._audioBufferSource.buffer=this._audioBuffer,this._audioBufferSource.connect(this._analyserNode)},e.prototype.createVolumeNode=function(){this._gainNode=this._audioContext.createGain(),this._gainNode.connect(this._audioContext.destination)},e.prototype.createAnalyserNode=function(){this._analyserNode=this._audioContext.createAnalyser(),this._analyserNode.connect(this._gainNode)},e.prototype.disconnectSource=function(){this._audioBufferSource&&this._audioBufferSource.disconnect()},e.ctorParameters=function(){return[{type:b.HttpClient}]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:b.HttpClient}]},e}(),Ko=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[b.HttpClientModule],providers:[Go]}]}],e}(),qo=function(){function e(e,n,i){var o=this;this.mediaPlayerService=e,this._audioService=n,this._elementRef=i,this.hovering=!1,this.focused=!1,this.crossorigin="use-credentials",this._onDestroy=new t.Subject,t.fromEvent(this._elementRef.nativeElement,"mousemove").pipe(s.tap((function(){return o.hovering=!0})),s.debounceTime(2e3),s.takeUntil(this._onDestroy)).subscribe((function(){return o.hovering=!1}))}return Object.defineProperty(e.prototype,"source",{get:function(){return this.mediaPlayerService.source},set:function(e){this.mediaPlayerService.source=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.mediaPlayerService.type},set:function(e){this.mediaPlayerService.type=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quietMode",{get:function(){return this.mediaPlayerService.quietMode},set:function(e){this.mediaPlayerService.quietMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muteAriaLabel",{set:function(e){this.mediaPlayerService.muteAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playAriaLabel",{set:function(e){this.mediaPlayerService.playAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullscreenAriaLabel",{set:function(e){this.mediaPlayerService.fullscreenAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectSubtitlesAriaLabel",{set:function(e){this.mediaPlayerService.selectSubtitlesAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"goToStartAriaLabel",{set:function(e){this.mediaPlayerService.goToStartAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"goToEndAriaLabel",{set:function(e){this.mediaPlayerService.goToEndAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subtitlesTitleAriaLabel",{set:function(e){this.mediaPlayerService.subtitlesTitleAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subtitlesOffAriaLabel",{set:function(e){this.mediaPlayerService.subtitlesOffAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noSubtitlesAriaLabel",{set:function(e){this.mediaPlayerService.noSubtitlesAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaPlayerAriaLabel",{set:function(e){this.mediaPlayerService.mediaPlayerAriaLabel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seekAriaLabel",{set:function(e){this.mediaPlayerService.seekAriaLabel=e},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this.mediaPlayerService.setMediaPlayer(this._elementRef.nativeElement,this._playerRef.nativeElement),this.audioMetadata=this._audioService.getAudioFileMetadata(this._playerRef.nativeElement),this.mediaPlayerService.playingEvent.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.mediaPlayerService.playing.next(!0)})),this.mediaPlayerService.pauseEvent.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.mediaPlayerService.playing.next(!1)})),this.mediaPlayerService.mediaClickEvent.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.mediaPlayerService.togglePlay()})),this.mediaPlayerService.loadedMetadataEvent.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.mediaPlayerService.loaded=!0})),this.mediaPlayerService.hideSubtitleTracks()},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.ctorParameters=function(){return[{type:Fo},{type:Go},{type:n.ElementRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-media-player",template:'<div class="player-container"\n     uxFocusIndicator\n     tabindex="0"\n     [attr.aria-label]="mediaPlayerService.mediaPlayerAriaLabel"\n     [cdkTrapFocus]="mediaPlayerService.fullscreen">\n\n    <div class="video-player-container" *ngIf="type === \'video\'">\n\n        <video class="video-player"\n            #player\n            tabindex="-1"\n            [src]="source"\n            [crossOrigin]="crossorigin"\n            (abort)="mediaPlayerService.abortEvent.next()"\n            (canplay)="mediaPlayerService.canPlayEvent.next(true)"\n            (canplaythrough)="mediaPlayerService.canPlayThroughEvent.next(true)"\n            (durationchange)="mediaPlayerService.durationChangeEvent.next(player.duration)"\n            (ended)="mediaPlayerService.endedEvent.next()"\n            (error)="mediaPlayerService.errorEvent.next($event)"\n            (loadeddata)="mediaPlayerService.loadedDataEvent.next($event)"\n            (loadedmetadata)="mediaPlayerService.loadedMetadataEvent.next($event)"\n            (loadstart)="mediaPlayerService.loadStartEvent.next()"\n            (pause)="mediaPlayerService.pauseEvent.next()"\n            (play)="mediaPlayerService.playEvent.next()"\n            (playing)="mediaPlayerService.playingEvent.next(!player.paused)"\n            (ratechange)="mediaPlayerService.rateChangeEvent.next(player.playbackRate)"\n            (seeked)="mediaPlayerService.seekedEvent.next(player.currentTime)"\n            (seeking)="mediaPlayerService.seekingEvent.next(player.currentTime)"\n            (stalled)="mediaPlayerService.stalledEvent.next()"\n            (suspend)="mediaPlayerService.suspendEvent.next()"\n            (timeupdate)="mediaPlayerService.timeUpdateEvent.next(player.currentTime)"\n            (volumechange)="mediaPlayerService.volumeChangeEvent.next(player.volume)"\n            (waiting)="mediaPlayerService.waitingEvent.next()"\n            (click)="mediaPlayerService.mediaClickEvent.next($event)">\n\n            <ng-content select="track"></ng-content>\n        </video>\n\n        <div class="video-overlay" [class.playing]="mediaPlayerService.playing | async">\n            <svg class="play-graphic" x="0px" y="0px" viewBox="0 0 64 64">\n                <circle class="play-circle" cx="32.2" cy="31.8" r="31.8" />\n                <polygon class="play-triangle" points="23,14.1 23,50.8 48.3,32.5" />\n            </svg>\n        </div>\n\n    </div>\n\n    <div class="audio-player" *ngIf="type === \'audio\'">\n\n        <svg width="24px" height="24px" viewBox="0 0 24 24">\n            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                <g transform="translate(-98.000000, -458.000000)">\n                    <g transform="translate(98.000000, 458.000000)">\n                        <path d="M4.5,0.5 L18.0435308,0.5 L23.5,6.22251502 L23.5,23.5 L4.5,23.5 L4.5,0.5 Z" fill="#CCEAE2"></path>\n                        <path d="M4.5,8 L4.5,0.5 L18,0.5 L23.5,6 L23.5,23.5 L18,23.5" stroke="#60798D" fill="#CCEAE2"></path>\n                        <path d="M4,13.5 L0.5,13.5 L0.5,18.5 L4,18.5 L9.5,22.5 L9.5,9.5 L4,13.5 Z" stroke="#60798D" fill="#85D2BE"></path>\n                        <path d="M11.5,12.5137939 C13.7576225,12.5137939 14.5,14.3709236 14.5,16 C14.5,17.6849236 13.7089152,19.5420532 11.5,19.5420532"\n                            stroke="#60798D"></path>\n                        <path d="M11.5,9 C15.8037643,9.04168701 18.5,11.6604805 18.5,16 C18.5,20.3395195 15.8804302,23.0079956 11.5,23" stroke="#60798D"></path>\n                        <path d="M17.5219116,0.761413574 L17.5219116,6 L23,6" stroke="#60798D" fill="#85D2BE"></path>\n                    </g>\n                </g>\n            </g>\n        </svg>\n\n        <p class="audio-file-name">{{ this.filename ? this.filename :  (audioMetadata | async)?.filename }}</p>\n        <p class="audio-file-format">{{ (audioMetadata | async)?.description }}</p>\n        <p class="audio-file-size">{{ (audioMetadata | async)?.size | fileSize }}</p>\n\n        <audio #player\n            [src]="source"\n            (abort)="mediaPlayerService.abortEvent.next()"\n            (canplay)="mediaPlayerService.canPlayEvent.next(true)"\n            (canplaythrough)="mediaPlayerService.canPlayThroughEvent.next(true)"\n            (durationchange)="mediaPlayerService.durationChangeEvent.next(player.duration)"\n            (ended)="mediaPlayerService.endedEvent.next()"\n            (error)="mediaPlayerService.errorEvent.next($event)"\n            (loadeddata)="mediaPlayerService.loadedDataEvent.next($event)"\n            (loadedmetadata)="mediaPlayerService.loadedMetadataEvent.next($event)"\n            (loadstart)="mediaPlayerService.loadStartEvent.next()"\n            (pause)="mediaPlayerService.pauseEvent.next()"\n            (play)="mediaPlayerService.playEvent.next()"\n            (playing)="mediaPlayerService.playingEvent.next(!player.paused)"\n            (ratechange)="mediaPlayerService.rateChangeEvent.next(player.playbackRate)"\n            (seeked)="mediaPlayerService.seekedEvent.next(player.currentTime)"\n            (seeking)="mediaPlayerService.seekingEvent.next(player.currentTime)"\n            (stalled)="mediaPlayerService.stalledEvent.next()"\n            (suspend)="mediaPlayerService.suspendEvent.next()"\n            (timeupdate)="mediaPlayerService.timeUpdateEvent.next(player.currentTime)"\n            (volumechange)="mediaPlayerService.volumeChangeEvent.next(player.volume)"\n            (waiting)="mediaPlayerService.waitingEvent.next()"\n            (click)="mediaPlayerService.mediaClickEvent.next($event)">\n        </audio>\n    </div>\n\n    <div class="control-bar"\n        (uxFocusWithin)="focused = true"\n        (uxBlurWithin)="focused = false">\n\n        <ux-media-player-timeline></ux-media-player-timeline>\n        <ux-media-player-controls>\n            <ng-content select="[uxMediaPlayerCustomControl]"></ng-content>\n        </ux-media-player-controls>\n    </div>\n</div>',providers:[Fo],host:{"(keydown.Space)":"mediaPlayerService.togglePlay(); $event.preventDefault()","[class.standard]":"!mediaPlayerService.fullscreen","[class.fullscreen]":"mediaPlayerService.fullscreen","[class.quiet]":'quietMode && type === "video" || mediaPlayerService.fullscreen',"[class.hover]":"hovering || focused","[class.video]":'type === "video"',"[class.audio]":'type === "audio"',"(mouseenter)":"hovering = true","(mouseleave)":"hovering = false","(document:fullscreenchange)":"mediaPlayerService.fullscreenChange()","(document:webkitfullscreenchange)":"mediaPlayerService.fullscreenChange()","(document:mozfullscreenchange)":"mediaPlayerService.fullscreenChange()","(document:MSFullscreenChange)":"mediaPlayerService.fullscreenChange()"}}]}],e.ctorParameters=function(){return[{type:Fo},{type:Go},{type:n.ElementRef}]},e.propDecorators={_playerRef:[{type:n.ViewChild,args:["player",{static:!1}]}],crossorigin:[{type:n.Input}],filename:[{type:n.Input}],source:[{type:n.Input}],type:[{type:n.Input}],quietMode:[{type:n.Input}],muteAriaLabel:[{type:n.Input}],playAriaLabel:[{type:n.Input}],fullscreenAriaLabel:[{type:n.Input}],selectSubtitlesAriaLabel:[{type:n.Input}],goToStartAriaLabel:[{type:n.Input}],goToEndAriaLabel:[{type:n.Input}],subtitlesTitleAriaLabel:[{type:n.Input}],subtitlesOffAriaLabel:[{type:n.Input}],noSubtitlesAriaLabel:[{type:n.Input}],mediaPlayerAriaLabel:[{type:n.Input}],seekAriaLabel:[{type:n.Input}]},e}(),Yo=function(){function e(){}return e.prototype.transform=function(e){var t=Math.floor(e/60),n=Math.floor(t/60),i=Math.floor(n/24);return t=t-24*i*60-60*(n-=24*i),e=Math.floor(e-24*i*60*60-60*n*60-60*t),n>0?this.pad(n)+":"+this.pad(t)+":"+this.pad(e):this.pad(t)+":"+this.pad(e)},e.prototype.pad=function(e){return e<10?"0"+e:e.toString()},e.decorators=[{type:n.Pipe,args:[{name:"duration"}]}],e}(),Xo=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[Yo],declarations:[Yo]}]}],e}(),Zo=function(){function e(){}return e.prototype.transform=function(e){if(!e)return e;var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(2)+" "+["B","KB","MB","GB","TB"][t]},e.decorators=[{type:n.Pipe,args:[{name:"fileSize"}]}],e}(),Qo=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[Zo],declarations:[Zo]}]}],e}(),Jo=[qo,Uo,Ho,Vo,Wo],er=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[o.A11yModule,_e,Ko,Zi,i.CommonModule,Xo,Qo,Pe,No,rt],exports:Jo,declarations:Jo}]}],e}(),tr=function(){function e(e,n,i,o){var r=this;this._elementRef=e,this._renderer=n,this._router=i,this._parent=o,this.expanded=!1,this._indentWithoutArrow=!0,this._onDestroy=new t.Subject,this._level=this._parent?this._parent._level+1:1,i.events.pipe(s.filter((function(e){return e instanceof u.NavigationEnd})),s.takeUntil(this._onDestroy)).subscribe((function(){r.expanded=r.hasActiveLink(r.link)}))}return Object.defineProperty(e.prototype,"active",{get:function(){return!!this.link&&this._router.isActive(this.link,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){var e=this;return this._children.filter((function(t){return t!==e}))},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this._elementRef.nativeElement.parentElement;if(e){var t=this.getLevelClass();t.length>0&&(this._renderer.addClass(e,"nav"),this._renderer.addClass(e,t))}},e.prototype.ngAfterContentInit=function(){var e=this;this.setIndentWithoutArrow(),this._children.changes.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.setIndentWithoutArrow()}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.hasActiveLink=function(e){return!(!e||!this._router.isActive(e,!0))||this.children.some((function(e){return e.hasActiveLink(e.link)}))},e.prototype.getLevelClass=function(){switch(this._level){case 2:return"nav-second-level";case 3:return"nav-third-level";case 4:return"nav-fourth-level";case 5:return"nav-fifth-level"}return""},e.prototype.setIndentWithoutArrow=function(){this._indentWithoutArrow=!(this.children.length>0||this._parent&&this._parent.children.every((function(e){return 0===e.children.length})))},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:u.Router},{type:e,decorators:[{type:n.Optional},{type:n.SkipSelf}]}]},e.decorators=[{type:n.Component,args:[{selector:"[ux-navigation-item]",template:'<a *ngIf="link"\n   [class.has-arrow]="children.length > 0"\n   [class.no-arrow]="_indentWithoutArrow"\n   [routerLink]="link">\n    <span>{{ header }}</span>\n</a>\n\n<a *ngIf="!link"\n   (click)="expanded = !expanded"\n   [class.has-arrow]="children.length > 0"\n   [class.no-arrow]="_indentWithoutArrow">\n    <span>{{ header }}</span>\n</a>\n\n<ng-content></ng-content>\n',host:{"[class.active]":"active","[class.selected]":"expanded"}}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:u.Router},{type:e,decorators:[{type:n.Optional},{type:n.SkipSelf}]}]},e.propDecorators={header:[{type:n.Input}],icon:[{type:n.Input}],expanded:[{type:n.Input}],link:[{type:n.Input}],_children:[{type:n.ContentChildren,args:[e,{descendants:!0}]}]},e}(),nr=new n.InjectionToken("NAVIGATION_MODULE_OPTIONS"),ir=function(){function e(){this.autoCollapse=!0,this.expanded$=new t.Subject}return e.prototype.ngOnDestroy=function(){this.expanded$.complete()},e.prototype.setExpanded=function(e,t){t&&this.autoCollapse&&(this.collapseSiblings(e),this.expanded$.next())},e.prototype.collapseSiblings=function(e){var t,n,i=this,o=this.items;try{for(var r=E(this.items),a=r.next();!a.done;a=r.next()){var s=this.getParent(e,a.value);if(s){o=s.children;break}}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}o.filter((function(t){return t!==e})).forEach((function(e){return i.collapseAll(e)}))},e.prototype.collapseAll=function(e){var t=this;e.expanded=!1,e.children&&e.children.forEach((function(e){return t.collapseAll(e)}))},e.prototype.getParent=function(e,t){return(t.children||[]).find((function(t){return t===e}))?t:null},e.decorators=[{type:n.Injectable}],e}(),or=function(){function e(e,n,i,o,r,a){this._router=e,this._locationStrategy=n,this._navigationService=i,this._changeDetector=o,this._route=r,this._options=a,this._expanded$=new t.Subject,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"expanded",{set:function(e){this._expanded$.next(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._navigationService.expanded$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e._changeDetector.markForCheck()})),this._expanded$.pipe(L(),s.takeUntil(this._onDestroy)).subscribe((function(t){e.navigationItem.children&&e.navigationItem.children.length>0&&(e.ariaExpanded=t,e._navigationService.setExpanded(e.navigationItem,t))})),this._router.events.pipe(s.filter((function(e){return e instanceof u.NavigationEnd})),s.takeUntil(this._onDestroy)).subscribe(this.updateNavigationState.bind(this)),this.updateNavigationState(),this.updateAttributes()},e.prototype.ngOnChanges=function(){this.updateAttributes()},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.activated=function(e){if(this.navigationItem.routerLink){var t=Array.isArray(this.navigationItem.routerLink)?this.navigationItem.routerLink:[this.navigationItem.routerLink];this._router.navigate(t,this.navigationItem.routerExtras)}return this.navigationItem.expanded=!this.navigationItem.expanded,this.navigationItem.click&&this.navigationItem.click(e,this.navigationItem),!1},e.prototype.updateNavigationState=function(){var e=this;this.isActive=this.isActiveItem(this.navigationItem),this.navigationItem.children&&this.navigationItem.children.find((function(t){return e.isActiveItem(t)}))&&(this.navigationItem.expanded=!0),this._changeDetector.markForCheck()},e.prototype.updateAttributes=function(){this.href=this.getHref(),this.role=this.navigationItem.children&&this.navigationItem.children.length>0?"button":"treeitem",this.indentChildren=this.navigationItem.children&&this.navigationItem.children.some((function(e){return e.children&&e.children.length>0}))},e.prototype.getHref=function(){if(this.navigationItem.routerLink){var e=Array.isArray(this.navigationItem.routerLink)?this.navigationItem.routerLink:[this.navigationItem.routerLink],t=this._router.createUrlTree(e,this.navigationItem.routerExtras);return this._locationStrategy.prepareExternalUrl(this._router.serializeUrl(t))}return null},e.prototype.isActiveItem=function(e){var t=this.getRouterOptions(e),n=t.exact;if(e.routerLink){var i=e.routerExtras;if(t.ignoreQueryParams){var o=this._route.snapshot.queryParams;i=O(O({},i),{queryParams:o})}var r=Array.isArray(e.routerLink)?e.routerLink:[e.routerLink],a=this._router.createUrlTree(r,i);return this._router.isActive(a,n)}return!1},e.prototype.getRouterOptions=function(e){var t=O({exact:!0,ignoreQueryParams:!1},this._options?this._options.routerOptions:{});return O(O({},t),e.routerOptions)},e.ctorParameters=function(){return[{type:u.Router},{type:i.LocationStrategy},{type:ir},{type:n.ChangeDetectorRef},{type:u.ActivatedRoute},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[nr]}]}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxNavigationLink]",exportAs:"uxNavigationLink"}]}],e.ctorParameters=function(){return[{type:u.Router},{type:i.LocationStrategy},{type:ir},{type:n.ChangeDetectorRef},{type:u.ActivatedRoute},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[nr]}]}]},e.propDecorators={navigationItem:[{type:n.Input}],expanded:[{type:n.Input}],canExpand:[{type:n.Input}],indent:[{type:n.Input},{type:n.HostBinding,args:["class.indent"]}],href:[{type:n.HostBinding,args:["attr.href"]}],role:[{type:n.HostBinding,args:["attr.role"]}],ariaExpanded:[{type:n.HostBinding,args:["attr.aria-expanded"]}],activated:[{type:n.HostListener,args:["click",["$event"]]},{type:n.HostListener,args:["keydown.enter",["$event"]]}]},e}(),rr=function(){function e(e){this._navigationService=e,this.tree=!0,this._hierarchyClasses=["","nav-second-level","nav-third-level","nav-fourth-level","nav-fifth-level"]}return Object.defineProperty(e.prototype,"items",{get:function(){return this._navigationService.items},set:function(e){this._navigationService.items=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoCollapse",{set:function(e){this._navigationService.autoCollapse=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_depthLimit",{get:function(){return this.tree?this._hierarchyClasses.length:2},enumerable:!1,configurable:!0}),e.prototype._needsIndent=function(e){return e&&e.some((function(e){return e.children&&e.children.length>0}))},e.prototype._getIconType=function(e){return M(e.icon)},e.ctorParameters=function(){return[{type:ir}]},e.decorators=[{type:n.Component,args:[{selector:"ux-navigation",template:'<nav class="ux-side-nav" [class.tree]="tree" role="navigation">\n\n    <ol *ngIf="items" role="tree" class="nav" uxTabbableList [hierarchy]="true">\n\n        <ng-container *ngFor="let item of items; let rank = index"\n            [ngTemplateOutlet]="navigationNode"\n            [ngTemplateOutletContext]="{ item: item, level: 1, rank: rank, indent: _needsIndent(items) }">\n        </ng-container>\n\n        <ng-template #navigationNode let-item="item" let-parent="parent" let-level="level" let-rank="rank" let-indent="indent">\n\n            <li [attr.role]="(item.children && item.children.length > 0) ? \'treeitem\' : \'none\'"\n                [attr.aria-expanded]="item.expanded"\n                [class.selected]="item.expanded"\n                [class.active]="navigationLink.isActive">\n\n                <a uxNavigationLink\n                    #navigationLink="uxNavigationLink"\n                    #tli="ux-tabbable-list-item"\n                    [navigationItem]="item"\n                    [expanded]="item.expanded"\n                    [canExpand]="level < _depthLimit"\n                    [indent]="indent"\n                    uxTabbableListItem\n                    [parent]="parent"\n                    [rank]="rank"\n                    [(expanded)]="item.expanded">\n\n                    <span *ngIf="!navigationItemTemplate && item.children && item.children.length > 0 && level < _depthLimit"\n                          aria-hidden="true"\n                          class="nav-expander"\n                          (click)="item.expanded = !item.expanded; $event.stopPropagation(); $event.preventDefault()">\n                    </span>\n\n                    \x3c!-- Support HPE Icons, UX Icons and Icon Component --\x3e\n                    <ng-container *ngIf="!navigationItemTemplate && item.icon && !tree">\n\n                        <span *ngIf="_getIconType(item) !== \'component\'"\n                              class="nav-icon"\n                              [ngClass]="[_getIconType(item), item.icon]">\n                        </span>\n\n                        <ux-icon *ngIf="_getIconType(item) === \'component\'"\n                                 class="nav-icon"\n                                 [name]="item.icon">\n                        </ux-icon>\n\n                    </ng-container>\n\n                    <img *ngIf="!navigationItemTemplate && item.iconUrl && !tree" class="nav-icon" [src]="item.iconUrl" alt="item.iconLabel">\n                    <span *ngIf="!navigationItemTemplate" class="nav-title">{{ item.title }}</span>\n\n                    <ng-container\n                        [ngTemplateOutlet]="navigationItemTemplate"\n                        [ngTemplateOutletContext]="{ item: item, level: level }">\n                    </ng-container>\n\n                </a>\n\n                <ol *ngIf="item.children && item.expanded && level < _depthLimit"\n                    role="group"\n                    class="nav"\n                    [ngClass]="_hierarchyClasses[level]">\n\n                    <ng-container *ngFor="let child of item.children; let rank = index"\n                        [ngTemplateOutlet]="navigationNode"\n                        [ngTemplateOutletContext]="{ item: child, parent: tli, level: level + 1, rank: rank, indent: navigationLink.indentChildren }">\n                    </ng-container>\n\n                </ol>\n\n            </li>\n\n        </ng-template>\n\n    </ol>\n\n    \x3c!-- Backward compatibility with the original ux-navigation --\x3e\n    <ol *ngIf="!items" role="tree" class="nav">\n        <ng-content></ng-content>\n    </ol>\n\n</nav>\n',providers:[ir],changeDetection:n.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],e.ctorParameters=function(){return[{type:ir}]},e.propDecorators={items:[{type:n.Input}],tree:[{type:n.Input}],autoCollapse:[{type:n.Input}],navigationItemTemplate:[{type:n.ContentChild,args:["uxNavigationItem",{static:!1}]}]},e}(),ar=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:nr,useValue:t}]}},e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,Pe,u.RouterModule],exports:[rr,tr],declarations:[rr,tr,or]}]}],e}(),sr=function(){function i(e,i,o,r){this._colorService=e,this._changeDetector=i,this._elementRef=o,this._resizeService=r,this.max=100,this.thickness=8,this.spacing=8,this.disableHover=!1,this.disableTooltip=!1,this.tooltipPlacement="top",this.animationDuration=750,this.itemClick=new n.EventEmitter,this._tooltipVisible=!1,this._arcData=[],this._isInitialized=!1,this._onDestroy=new t.Subject}return Object.defineProperty(i.prototype,"_radius",{get:function(){return this._size/2},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_size",{get:function(){return Math.min(this._elementRef.nativeElement.offsetWidth,this._elementRef.nativeElement.offsetHeight)},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){var e=this;this._trackLayer=_.select(this._chartElement.nativeElement).append("g"),this._arcLayer=_.select(this._chartElement.nativeElement).append("g"),this.render(),this._isInitialized=!0,this._resizeService.addResizeListener(this._elementRef.nativeElement).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){e.render(),e._changeDetector.markForCheck()}))},i.prototype.ngOnChanges=function(){this._isInitialized&&this.render()},i.prototype.ngOnDestroy=function(){this._resizeService.removeResizeListener(this._elementRef.nativeElement),this._onDestroy.next(),this._onDestroy.complete()},i.prototype._getContentInset=function(){return this.dataset.length*(this.spacing+this.thickness)},i.prototype._getContentSize=function(){return this._size-2*this._getContentInset()},i.prototype._getAriaLabel=function(){return this.dataset.map((function(e){return e.value+" "+e.name})).join(". ")},i.prototype.render=function(){var e=this;this._trackLayer.attr("transform","translate("+this._radius+", "+this._radius+")"),this._arcLayer.attr("transform","translate("+this._radius+", "+this._radius+")"),this._arcs=this._arcLayer.selectAll("path").data(this.getChartData());var t=_.transition().ease(_.easeCubic).duration(this.animationDuration);this._tracks=this._trackLayer.selectAll("path").data(this.getChartData()).enter().append("path").attr("class","ux-nested-donut-chart-track"),this._trackLayer.selectAll("path").attr("d",this.getTrackArc()).style("fill",(function(){return e.getTrackColor()})),this._tracks.exit().remove(),this._arcs.enter().append("path").attr("class","ux-nested-donut-chart-arc").style("fill",(function(t){return e.getColor(t.color)})).attr("opacity",1).on("click",(function(t){return e.itemClick.emit(t)})).on("mouseenter",(function(t,n,i){return e.onArcMouseEnter(i[n],t)})).on("mousemove",(function(){return e.onArcMouseMove(_.mouse(e._chartElement.nativeElement))})).on("mouseleave",(function(t,n,i){return e.onArcMouseLeave(i[n])})).transition(t).attrTween("d",this.getArcTween.bind(this)),this._arcs.transition(t).style("fill",(function(t){return e.getColor(t.color)})).attrTween("d",this.getArcTween.bind(this)),this._arcs.exit().transition(t).attrTween("d",this.getArcTween.bind(this)).remove()},i.prototype.getArcTween=function(e){var t=this,n=_.interpolate(O(O({},e),{endAngle:e.previousEndAngle}),e);return function(e){return t.getArc()(n(e))}},i.prototype.getArc=function(){var e=this;return _.arc().innerRadius((function(t){return e.getArcRadius(t.index)})).outerRadius((function(t){return e.getArcRadius(t.index)+e.thickness})).startAngle((function(e){return e.startAngle})).endAngle((function(e){return e.endAngle}))},i.prototype.getTrackArc=function(){return this.getArc().endAngle((function(){return 2*Math.PI}))},i.prototype.getArcRadius=function(e){return this._radius-this.thickness-e*(this.thickness+this.spacing)},i.prototype.getChartData=function(){var e=this,t=this.dataset.map((function(t,n){var i=0;return e._arcData&&e._arcData[n]&&(i=e._arcData[n].endAngle),O(O({},t),{index:n,startAngle:0,endAngle:e.getAngle(t),previousEndAngle:i})}));return this._arcData=t,t},i.prototype.getAngle=function(e){return e.value/this.max*360*(Math.PI/180)},i.prototype.getColor=function(e){return K.isInstanceOf(e)?e.toRgba():this._colorService.resolve(e)},i.prototype.getTrackColor=function(){return this.trackColor?this.getColor(this.trackColor):this._colorService.colorExists(e.Color.Grey6)?this.getColor(e.Color.Grey6):this._colorService.colorExists("bright-gray")?this.getColor("bright-gray"):void 0},i.prototype.onArcMouseEnter=function(e,t){!1===this.disableHover&&_.select(e).transition().duration(250).attr("opacity",.5),this._tooltipContext=O(O({},t),{color:this.getColor(t.color)}),this._tooltipVisible=!0,this._changeDetector.detectChanges()},i.prototype.onArcMouseMove=function(e){var t=R(e,2),n=t[1];this._tooltipX=t[0],this._tooltipY=n-2,this._changeDetector.detectChanges()},i.prototype.onArcMouseLeave=function(e){!1===this.disableHover&&_.select(e).transition().duration(250).attr("opacity",1),this._tooltipContext=null,this._tooltipVisible=!1,this._changeDetector.detectChanges()},i.ctorParameters=function(){return[{type:q},{type:n.ChangeDetectorRef},{type:n.ElementRef},{type:Me}]},i.decorators=[{type:n.Component,args:[{selector:"ux-nested-donut-chart",template:'<svg #chart\n    class="ux-nested-donut-chart"\n    [attr.focusable]="false"\n    [attr.width]="_size"\n    [attr.height]="_size"\n    [attr.aria-label]="_getAriaLabel()">\n</svg>\n\n\x3c!-- Custom content in center of the chart --\x3e\n<div class="ux-nested-donut-chart-content"\n    [style.top.px]="_getContentInset()"\n    [style.right.px]="_getContentInset()"\n    [style.bottom.px]="_getContentInset()"\n    [style.left.px]="_getContentInset()"\n    [style.width.px]="_getContentSize()"\n    [style.height.px]="_getContentSize()">\n  <ng-content></ng-content>\n</div>\n\n\x3c!-- Tooltip to appear on arc hover --\x3e\n<div class="ux-nested-donut-chart-tooltip" *ngIf="_tooltipVisible && !disableTooltip">\n  <ux-tooltip\n    [placement]="tooltipPlacement"\n    [content]="_customTooltip || tooltip"\n    [context]="_tooltipContext"\n    [style.top.px]="_tooltipY"\n    [style.left.px]="_tooltipX">\n  </ux-tooltip>\n</div>\n\n\x3c!-- Default tooltip template --\x3e\n<ng-template #tooltip let-name="name" let-value="value">\n  <span class="ux-nested-donut-chart-tooltip-content">\n    {{ name }}: {{ value }}\n  </span>\n</ng-template>\n\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],i.ctorParameters=function(){return[{type:q},{type:n.ChangeDetectorRef},{type:n.ElementRef},{type:Me}]},i.propDecorators={dataset:[{type:n.Input}],max:[{type:n.Input}],thickness:[{type:n.Input}],spacing:[{type:n.Input}],trackColor:[{type:n.Input}],disableHover:[{type:n.Input}],disableTooltip:[{type:n.Input}],tooltipPlacement:[{type:n.Input}],animationDuration:[{type:n.Input}],itemClick:[{type:n.Output}],_chartElement:[{type:n.ViewChild,args:["chart",{static:!0}]}],_customTooltip:[{type:n.ContentChild,args:["tooltip",{static:!1}]}]},i}(),cr=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,Y,rt,$e],declarations:[sr],exports:[sr]}]}],e}(),lr=function(){function e(e){this._colorService=e,this.direction="above",this.notifications$=new t.BehaviorSubject([]),this.options={duration:4,backgroundColor:this._colorService.getColor("accent").toHex(),iconColor:this._colorService.getColor("accent").toHex()}}return Object.defineProperty(e.prototype,"notifications",{get:function(){return this.notifications$.value},enumerable:!1,configurable:!0}),e.prototype.show=function(e,t,n){var i=this;void 0===t&&(t=this.options),void 0===n&&(n={});var o={templateRef:e,duration:(t=O(O({},this.options),t)).duration,date:new Date,visible:!0,height:t.height,spacing:t.spacing,backgroundColor:t.backgroundColor,iconColor:t.iconColor,data:n};return"above"===this.direction?this.notifications.unshift(o):this.notifications.push(o),this.notifications$.next(this.notifications),0!==t.duration&&setTimeout((function(){return i.dismiss(o)}),1e3*t.duration),o},e.prototype.getHistory=function(){return this.notifications},e.prototype.dismiss=function(e){e.visible=!1,this.notifications$.next(this.notifications)},e.prototype.dismissAll=function(){this.notifications.forEach((function(e){return e.visible=!1})),this.notifications$.next(this.notifications)},e.prototype.remove=function(e){this.notifications$.next(this.notifications.filter((function(t){return t!==e})))},e.prototype.removeAll=function(){this.notifications$.next([])},e.ctorParameters=function(){return[{type:q}]},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(q))},token:e,providedIn:"root"}),e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:q}]},e}(),ur=function(){function e(e,n,i){var o=this;this._notificationService=e,this._changeDetectorRef=n,this._renderer=i,this.position="bottom-right",this.notifications$=this._notificationService.notifications$.pipe(s.map((function(){return o._notifications}))),this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"direction",{set:function(e){this._notificationService.direction=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_notifications",{get:function(){return this._notificationService.notifications.filter((function(e){return e.visible}))},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this._elements.changes.pipe(s.takeUntil(this._onDestroy),L(),s.map((function(e){return e.toArray()})),s.withLatestFrom(this.notifications$)).subscribe((function(t){var n=R(t,2),i=n[0],o=n[1];e.applyElementPositions(i,o),e.updateListPosition(i,o),e._changeDetectorRef.markForCheck()}))},e.prototype.ngOnChanges=function(){this._elements&&this.updateListPosition(this._elements.toArray(),this._notifications)},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.applyElementPositions=function(e,t){for(var n=0,i=0;i<e.length;i+=1){var o=t[i];this._renderer.setStyle(e[i].nativeElement,"top",n+"px"),n+=this.getNotificationHeightInPixels(o,e[i])}},e.prototype.updateListPosition=function(e,t){var n=this;this._bottom="bottom-left"===this.position||"bottom-right"===this.position?t.reduce((function(t,i,o){return t+n.getNotificationHeightInPixels(i,e[o])}),0):void 0},e.prototype.getNotificationHeightInPixels=function(e,t){return void 0===e.spacing?this.getElementOuterHeightInPixels(t):t.nativeElement.offsetHeight+e.spacing},e.prototype.getElementOuterHeightInPixels=function(e){var t=e.nativeElement,n=getComputedStyle(t),i=n.marginBottom;return t.offsetHeight+parseInt(n.marginTop)+parseInt(i)},e.ctorParameters=function(){return[{type:lr},{type:n.ChangeDetectorRef},{type:n.Renderer2}]},e.decorators=[{type:n.Component,args:[{selector:"ux-notification-list",template:'<div #notification\n    class="notification"\n    *ngFor="let notificationRef of notifications$ | async; let index = index"\n    [style.height.px]="notificationRef.height"\n    [style.background-color]="notificationRef.backgroundColor"\n    [@notificationState]>\n\n    \x3c!-- Notification Content --\x3e\n    <ng-container\n        [ngTemplateOutlet]="notificationRef.templateRef"\n        [ngTemplateOutletContext]="{ $implicit: notificationRef, data: notificationRef.data }">\n    </ng-container>\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,animations:[v.trigger("notificationState",[v.state("in",v.style({transform:"translateY(0)",opacity:.9})),v.transition(":enter",[v.style({transform:"translateY(-50px)",opacity:0}),v.animate(500)]),v.transition(":leave",[v.animate(500,v.style({transform:"translateY(50px)",opacity:0}))])])]}]}],e.ctorParameters=function(){return[{type:lr},{type:n.ChangeDetectorRef},{type:n.Renderer2}]},e.propDecorators={direction:[{type:n.Input}],position:[{type:n.Input},{type:n.HostBinding,args:["class"]}],_bottom:[{type:n.HostBinding,args:["style.bottom.px"]}],_elements:[{type:n.ViewChildren,args:["notification"]}]},e}(),pr=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,Y],exports:[ur],declarations:[ur]}]}],e}(),hr=function(){function i(e,i,o,r,a,s,c,l,u){this._elementRef=e,this._resizeService=i,this._componentFactoryResolver=o,this._injector=r,this._appRef=a,this._viewContainerRef=s,this._renderer=c,this._focusIndicator=l,this._ngZone=u,this.connector="elbow",this.duration=750,this.showReveal=!1,this.revealAriaLabel="Reveal More",this.selectedChange=new n.EventEmitter(!0),this.reveal=new n.EventEmitter,this.transitionEnd=new n.EventEmitter,this._toggleNodesOnClick=!0,this._nodeLayout=[],this._linkLayout=[],this._portals=new Map,this._indicators=new Map,this._isTransitioning=!1,this._isPanning=!1,this._isInitialised=!1,this._hasConnectorChanged=!1,this._onDestroy=new t.Subject}return Object.defineProperty(i.prototype,"toggleNodesOnClick",{get:function(){return this._toggleNodesOnClick},set:function(e){this._toggleNodesOnClick=a.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{set:function(e){this.selected!==e&&e&&(this._isInitialised?(this.select(e),this.centerNode(e)):this._pendingSelection=e)},enumerable:!1,configurable:!0}),i.prototype.ngAfterViewInit=function(){var t=this;if(!this.nodeTemplate)throw new Error("Organization Chart - You must provide a node template!");if(!this.nodeWidth||!this.nodeHeight)throw new Error("Organization Chart - You must specify a nodeWidth and nodeHeight");this._zoom=_.zoom().scaleExtent([1,1]).interpolate(_.interpolate).on("zoom",this.applyCameraPosition.bind(this)).on("end",(function(){t._isPanning||t.ensureNodesAreVisible()})),this._linksContainer=_.select(this.linksContainer.nativeElement),this._nodesContainer=_.select(this.nodesContainer.nativeElement),this._ngZone.runOutsideAngular((function(){return t._nodesContainer.call(t._zoom)})),this.render(),this._width=this._elementRef.nativeElement.offsetWidth,this._height=this._elementRef.nativeElement.offsetHeight;var n=this._resizeService.addResizeListener(this._elementRef.nativeElement);n.pipe(s.takeUntil(this._onDestroy)).subscribe(this.onResize.bind(this)),n.pipe(s.takeUntil(this._onDestroy),s.debounceTime(this.duration)).subscribe(this.ensureNodesAreVisible.bind(this)),this.centerNode(this.dataset,e.OrganizationChartAxis.Horizontal,!1),this.moveCamera(0,150,!1),this._isInitialised=!0},i.prototype.ngOnChanges=function(e){e.connector&&!e.connector.firstChange&&(this._hasConnectorChanged=!0),1===Object.keys(e).length&&e.selected||this._isInitialised&&this.render()},i.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete(),this._portals.forEach((function(e){e.portal.detach(),e.outlet.dispose()}))},i.prototype.render=function(){var e=this;this.updateLayout(),this.updateSelections();var t=_.transition().duration(this.duration).on("start",(function(){return e._isTransitioning=!0})).on("end",(function(){e._isTransitioning=!1,e.transitionEnd.emit()}));this._links.enter().insert("path").attr("class","ux-organization-chart-link").attr("d",(function(t){return e.getLinkPath(t)})).attr("opacity",-2).transition(t).attr("d",(function(t){return e.getLinkPath(t)})).attr("opacity",1),this._links.transition().duration(this._hasConnectorChanged?0:this.duration).attr("d",(function(t){return e.getLinkPath(t)})),this._links.exit().transition(t).attr("d",(function(t){return e.getCollapsedLinkPath(t)})).attr("opacity",0).remove(),this._nodes.enter().append("div").attr("class","ux-organization-chart-node").style("width",this.nodeWidth+"px").style("height",this.nodeHeight+"px").style("left",(function(e){return(e.parent?e.parent.x:e.x)+"px"})).style("top",(function(e){return(e.parent?e.parent.y:e.y)+"px"})).style("opacity",0).on("keydown",this.onKeydown.bind(this)).on("focus",this.onFocus.bind(this)).on("mousedown",(function(){return _.event.stopPropagation()})).on("click",this.onClick.bind(this)).each(this.renderNodeTemplate.bind(this)).each((function(t,n,i){return e.monitorFocus(i[n],t)})).transition(t).style("left",(function(e){return e.x+"px"})).style("top",(function(e){return e.y+"px"})).style("opacity",1),this._nodes.transition(t).style("left",(function(e){return e.x+"px"})).style("top",(function(e){return e.y+"px"})),this._nodes.exit().transition(t).style("left",(function(e){return(e.parent?e.parent.x:e.x)+"px"})).style("opacity",0).remove().on("end",(function(t){return e.destroyNode(t)})),_.select(this.revealElement.nativeElement).style("left",this.nodeWidth/2-this.revealElement.nativeElement.offsetWidth/2+"px").style("top",-(this.nodeHeight/2+this.revealElement.nativeElement.offsetHeight/2)+"px"),this.updateSelections(),this._selected||(this.select(this._pendingSelection||this.dataset),this._pendingSelection=null),this.setNodeAttributes(),this.applyCameraPosition(),this._hasConnectorChanged=!1},i.prototype.select=function(e){e=this.coerceDataNode(e),this._selected!==e&&(this.expandParents(e),this.deselect(!1),this._selected=e,this.selectedChange.next(this._selected),this._isInitialised&&this.render(),this._renderer.addClass(this.getNodeElement(this._selected),"ux-organization-chart-node-selected"),this.setNodeAttributes())},i.prototype.deselect=function(e){var t=this;void 0===e&&(e=!0),this._nodes&&this._nodes.nodes().forEach((function(e){return t._renderer.removeClass(e,"ux-organization-chart-node-selected")})),e&&this._selected&&(this._selected=null,this.selectedChange.next(null),this.setNodeAttributes())},i.prototype.toggle=function(e){this._isTransitioning||(e=this.coercePointNode(e),this.select(e),this.isExpanded(e)?this.collapse(e):this.expand(e))},i.prototype.expand=function(e){!this._isTransitioning&&this.toggleNodesOnClick&&((e=this.coercePointNode(e)).ancestors().forEach((function(e){return e.data.expanded=!0})),this.render(),Array.isArray(e.data.children)&&e.data.children.length>0?this.centerNode(e.data.children[Math.floor(e.data.children.length/2)]):this.centerNode(e))},i.prototype.collapse=function(e){this._isTransitioning||((e=this.coercePointNode(e)).descendants().forEach((function(e){return e.data.expanded=!1})),this.render(),this.centerNode(e))},i.prototype.centerNode=function(t,n,i){void 0===n&&(n=e.OrganizationChartAxis.Both),void 0===i&&(i=!0),t=this.coercePointNode(t);var o=this.getCameraPosition();this.setCameraPosition(n===e.OrganizationChartAxis.Vertical?o.x:this._width/2-(t.x+this.nodeWidth/2),n===e.OrganizationChartAxis.Horizontal?o.y:this._height/2-(t.y+this.nodeHeight/2),i)},i.prototype.setCameraPosition=function(e,t,n){var i=this;void 0===n&&(n=!0);var o=_.zoomTransform(this._nodesContainer.node());o.x===e&&o.y===t||(o=o.translate(e-o.x,t-o.y),this._isPanning=!0,n?this._nodesContainer.transition().duration(this.duration).call(this._zoom.transform,o).on("end interrupt cancel",(function(){return i._isPanning=!1})):(this._nodesContainer.call(this._zoom.transform,o),this._isPanning=!1))},i.prototype.moveCamera=function(e,t,n){void 0===n&&(n=!0);var i=this.getCameraPosition();this.setCameraPosition(i.x+e,i.y+t,n)},i.prototype.focus=function(e){this.focusNode(this.coercePointNode(e))},i.prototype._focusRootNode=function(){this.focusNode(this.coercePointNode(this.dataset))},i.prototype.destroyNode=function(e){if(e=this.coercePointNode(e),this._indicators.has(e.data)&&(this._indicators.get(e.data).destroy(),this._indicators.delete(e.data)),this._portals.has(e.data)){var t=this._portals.get(e.data);t.portal.detach(),t.outlet.dispose(),this._portals.delete(e.data)}},i.prototype.updateLayout=function(){this._layout=this.getLayout(),this._nodeLayout=this._layout.descendants(),this._linkLayout=this._layout.links()},i.prototype.updateSelections=function(){this._nodes=this._nodesContainer.selectAll(".ux-organization-chart-node").data(this._nodeLayout,(function(e){return e.data.id.toString()})),this._links=this._linksContainer.selectAll(".ux-organization-chart-link").data(this._linkLayout,(function(e){return e.source.data.id+"-"+e.target.data.id}))},i.prototype.renderNodeTemplate=function(e,t,n){var i=this,o={data:e.data.data,node:e.data,focused:!1};Object.defineProperty(o,"focused",{get:function(){return i._focused===e.data}});var r=this.createPortalOutlet(n[t]),a=new f.TemplatePortal(this.nodeTemplate,this._viewContainerRef,o);a.attach(r),this._portals.set(e.data,{portal:a,outlet:r})},i.prototype.applyCameraPosition=function(){var e=_.zoomTransform(this._nodesContainer.node()),t=e.x,n=e.y;t=Math.round(t),n=Math.round(n),this._renderer.setStyle(this.revealElement.nativeElement,"transform","translate("+t+"px, "+n+"px)"),this._nodesContainer.selectAll(".ux-organization-chart-node").style("transform","translate("+t+"px, "+n+"px)"),this._linksContainer.selectAll(".ux-organization-chart-link").attr("transform","translate("+t+" "+n+")")},i.prototype.getLayout=function(){var e=this,t=_.hierarchy(this.dataset,(function(e){return Array.isArray(e.children)&&e.expanded?e.children:[]})),n=_.tree().nodeSize([this.nodeWidth,this.nodeHeight]).separation(this.getNodeSpacing.bind(this))(t),i=void 0===this.verticalSpacing?this.nodeHeight:this.verticalSpacing;return n.each((function(t){return t.y=t.depth*(e.nodeHeight+i)})),n},i.prototype.getNodeSpacing=function(e,t){return e.parent!==t.parent?2:1.5},i.prototype.coercePointNode=function(e){if(e.hasOwnProperty("depth")&&e.hasOwnProperty("x")&&e.hasOwnProperty("y"))return e;var t=this._nodeLayout.find((function(t){return t.data===e}));if(!t)throw new Error("The node does not exist in the hierarchy");return t},i.prototype.coerceDataNode=function(e){return e.hasOwnProperty("depth")&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")?e.data:e},i.prototype.onResize=function(e){var t=e.height;this._width=e.width,this._height=t},i.prototype.isExpanded=function(e){return!!e.data.expanded},i.prototype.getCameraPosition=function(){return _.zoomTransform(this._nodesContainer.node())},i.prototype.getLinkPath=function(e){if("elbow"===this.connector)return"M"+(t={x:e.source.x+this.nodeWidth/2,y:e.source.y+this.nodeHeight}).x+","+t.y+"v"+((n={x:e.target.x+this.nodeWidth/2,y:e.target.y}).y-t.y)/2+"h"+(n.x-t.x)+"v"+(n.y-t.y)/2;var t={x:e.source.x+this.nodeWidth/2,y:e.source.y+this.nodeHeight/2},n={x:e.target.x+this.nodeWidth/2,y:e.target.y+this.nodeHeight/2};return _.linkVertical()({source:[t.x,t.y],target:[n.x,n.y]})},i.prototype.getCollapsedLinkPath=function(e){return this.getLinkPath({source:e.source,target:e.source})},i.prototype.createPortalOutlet=function(e){return new f.DomPortalOutlet(e,this._componentFactoryResolver,this._appRef,this._injector)},i.prototype.setNodeAttributes=function(){var e,t;try{for(var n=E(this._nodes.nodes()),i=n.next();!i.done;i=n.next()){var o=i.value;this._renderer.setAttribute(o,"tabindex","-1"),this._renderer.setAttribute(o,"aria-expanded",this.getNodeData(o).data.expanded?"true":"false")}}catch(r){e={error:r}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this._selected&&this._renderer.setAttribute(this.getNodeElement(this._selected),"tabindex","0")},i.prototype.getNodeElement=function(e){e=this.coercePointNode(e);var t=this._nodes.data().indexOf(e);return this._nodes.nodes()[t]},i.prototype.getNodeData=function(e){var t=this._nodes.nodes().indexOf(e);return this._nodes.data()[t]},i.prototype.onClick=function(e){this.toggleNodesOnClick&&this.toggle(e)},i.prototype.onKeydown=function(e){if(this.toggleNodesOnClick)switch(_.event.keyCode){case l.DOWN_ARROW:return _.event.preventDefault(),!e.data.expanded&&Array.isArray(e.data.children)&&e.data.children.length>0?this.expand(e):this.focusChild(e);case l.RIGHT_ARROW:return _.event.preventDefault(),this.focusNextSibling(e);case l.UP_ARROW:return _.event.preventDefault(),this.focusParent(e);case l.LEFT_ARROW:return _.event.preventDefault(),this.focusPreviousSibling(e);case l.ENTER:return this.toggle(e)}},i.prototype.onFocus=function(e){this.isNodeInViewport(e,.1*this._width,.1*this._height)||this.centerNode(e)},i.prototype.focusParent=function(e){e.parent?this.focusNode(e.parent):this.revealElement&&(this.revealElement.nativeElement.focus(),this.centerNode(this.dataset))},i.prototype.focusChild=function(e){Array.isArray(e.children)&&e.children.length>0&&this.focusNode(e.children[Math.floor(e.children.length/2)])},i.prototype.focusPreviousSibling=function(e){e.parent&&this.focusNode(e.parent.children[e.parent.children.indexOf(e)-1])},i.prototype.focusNextSibling=function(e){e.parent&&this.focusNode(e.parent.children[e.parent.children.indexOf(e)+1])},i.prototype.focusNode=function(e){e&&(this.getNodeElement(e).focus({preventScroll:!0}),this.nodesContainer.nativeElement.scrollTop=0,this.nodesContainer.nativeElement.scrollLeft=0)},i.prototype.isNodeInViewport=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var i=this.getCameraPosition(),o=i.x,r=i.y;return e.x+o>=t&&e.y+r>=n&&e.x+o+this.nodeWidth<=this._width-t&&e.y+r+this.nodeHeight<=this._height-n},i.prototype.isNodeOutsideViewport=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var i=this.getCameraPosition(),o=i.x,r=i.y;return e.x+o+this.nodeWidth<t||e.y+r+this.nodeHeight<n||e.x+o>this._width-t||e.y+r>this._height-n},i.prototype.getDistanceFromViewport=function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),!this.isNodeOutsideViewport(e,t,n))return[0,0];var i=this.getCameraPosition(),o=i.x,r=i.y,a=t-(e.x+o+this.nodeWidth),s=n-(e.y+r+this.nodeHeight),c=e.x+o-(this._width-t),l=e.y+r-(this._height-n),u=0,p=0;return a>0&&a>c&&(u=a),c>0&&a<c&&(u=-c),s>0&&s>l&&(p=s),l>0&&s<l&&(p=-l),[u,p]},i.prototype.monitorFocus=function(e,t){var n=this,i=this._focusIndicator.monitor(e,{checkChildren:!1,programmaticFocusIndicator:!0});i.isFocused$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){n._ngZone.run((function(){e?n._focused=t.data:t.data===n._focused&&(n._focused=null)}))})),this._indicators.set(t.data,i)},i.prototype.ensureNodesAreVisible=function(){var e=this;if(!(this._nodes.filter((function(t){return!e.isNodeOutsideViewport(t)})).size()>0)){var t=R(this._nodes.data().map((function(t){return e.getDistanceFromViewport(t,1.25*e.nodeWidth,1.5*e.nodeHeight)})).reduce((function(e,t){var n=R(e,2),i=n[0],o=n[1],r=R(t,2),a=r[0],s=r[1];return Math.abs(i)+Math.abs(o)<Math.abs(a)+Math.abs(s)?e:t})),2);this.moveCamera(t[0],t[1])}},i.prototype.expandParents=function(e){for(var t=this.getParent(e);t;)t.expanded=!0,t=this.getParent(t)},i.prototype.getParent=function(e){return A([this.coerceDataNode(this.dataset)],this.getAllChildren(this.dataset)).find((function(t){return!!Array.isArray(t.children)&&t.children.find((function(t){return t.id===e.id}))}))},i.prototype.getAllChildren=function(e){var t=this,n=e.children||[];return A(n,n.reduce((function(e,n){return A(e,t.getAllChildren(n))}),[])).map((function(e){return t.coerceDataNode(e)}))},i.ctorParameters=function(){return[{type:n.ElementRef},{type:Me},{type:n.ComponentFactoryResolver},{type:n.Injector},{type:n.ApplicationRef},{type:n.ViewContainerRef},{type:n.Renderer2},{type:ie},{type:n.NgZone}]},i.decorators=[{type:n.Component,args:[{selector:"ux-organization-chart",template:'\x3c!-- Add a button above the root node to load additional parent items --\x3e\n<button #revealElement\n    uxFocusIndicatorOrigin\n    class="ux-organization-chart-reveal"\n    tabindex="-1"\n    [attr.aria-label]="revealAriaLabel"\n    [hidden]="!showReveal"\n    (click)="reveal.emit(); _focusRootNode()"\n    (keydown.ArrowDown)="_focusRootNode(); $event.preventDefault()">\n\n    \x3c!-- Display Reveal Template --\x3e\n    <ng-container [ngTemplateOutlet]="revealTemplate || defaultRevealTemplate"></ng-container>\n</button>\n\n\x3c!-- Show the links connecting each node --\x3e\n<svg #links class="ux-organization-chart-links"></svg>\n\n\x3c!-- Show the nodes containing information about each item --\x3e\n<div #nodes class="ux-organization-chart-nodes"></div>\n\n\x3c!-- Provide a default reveal template --\x3e\n<ng-template #defaultRevealTemplate>\n    <ux-icon name="tab-up"></ux-icon>\n</ng-template>',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],i.ctorParameters=function(){return[{type:n.ElementRef},{type:Me},{type:n.ComponentFactoryResolver},{type:n.Injector},{type:n.ApplicationRef},{type:n.ViewContainerRef},{type:n.Renderer2},{type:ie},{type:n.NgZone}]},i.propDecorators={dataset:[{type:n.Input}],connector:[{type:n.Input}],nodeWidth:[{type:n.Input}],nodeHeight:[{type:n.Input}],duration:[{type:n.Input}],verticalSpacing:[{type:n.Input}],showReveal:[{type:n.Input}],revealAriaLabel:[{type:n.Input}],toggleNodesOnClick:[{type:n.Input}],selected:[{type:n.Input}],selectedChange:[{type:n.Output}],reveal:[{type:n.Output}],transitionEnd:[{type:n.Output}],revealTemplate:[{type:n.ContentChild,args:["revealTemplate",{static:!1}]}],nodeTemplate:[{type:n.ContentChild,args:["nodeTemplate",{static:!1}]}],revealElement:[{type:n.ViewChild,args:["revealElement",{static:!0}]}],linksContainer:[{type:n.ViewChild,args:["links",{static:!0}]}],nodesContainer:[{type:n.ViewChild,args:["nodes",{static:!0}]}]},i}();(Bo=e.OrganizationChartAxis||(e.OrganizationChartAxis={}))[Bo.Horizontal=0]="Horizontal",Bo[Bo.Vertical=1]="Vertical",Bo[Bo.Both=2]="Both";var dr=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[hr],imports:[_e,i.CommonModule,Pe,$e],exports:[hr]}]}],e}(),gr=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxTabHeading]"}]}],e}(),fr=function(){function e(){this.tabs=[],this.activeTab$=new t.BehaviorSubject(null),this.manual=!1}return e.prototype.update=function(e){this.tabs=A(e)},e.prototype.select=function(e){e.disabled||(this.manual?this.tabs.forEach((function(t){return t===e?t.activate():t.deactivate()})):this.activeTab$.next(e))},e.prototype.setTabActive=function(e){e.disabled||this.activeTab$.next(e)},e.prototype.isTabActive=function(){return null!==this.activeTab$.getValue()},e.prototype.selectFirstTab=function(){var e=this.tabs.find((function(e){return!e.disabled}));e&&this.select(e)},e.decorators=[{type:n.Injectable}],e}(),yr=0,mr=function(){function e(e,i){this._tabset=e,this._changeDetector=i,this.id="ux-tab-"+ ++yr,this.disabled=!1,this.activeChange=new n.EventEmitter,this.activated=new n.EventEmitter,this.deactivated=new n.EventEmitter,this._active=!1,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"active",{set:function(e){e&&this._tabset.setTabActive(this)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._tabset.activeTab$.pipe(L(),s.distinctUntilChanged(),s.takeUntil(this._onDestroy)).subscribe((function(t){var n=t===e;e._active!==n&&e.setActive(n)}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.activate=function(){this.activated.emit()},e.prototype.deactivate=function(){this.deactivated.emit()},e.prototype.setActive=function(e){this._active=e,this.activeChange.emit(e),this._tabset.manual||(e?this.activate():this.deactivate()),this._changeDetector.detectChanges()},e.ctorParameters=function(){return[{type:fr},{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-tab",template:'<div\n    role="tabpanel"\n    class="tab-pane"\n    [style.display]="_active ? \'block\' : \'none\'"\n    [id]="id + \'-panel\'"\n    [attr.aria-labelledby]="id"\n    [attr.aria-hidden]="!_active"\n>\n    <ng-content></ng-content>\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:fr},{type:n.ChangeDetectorRef}]},e.propDecorators={id:[{type:n.Input}],active:[{type:n.Input}],disabled:[{type:n.Input}],heading:[{type:n.Input}],route:[{type:n.Input}],routerLinkExtras:[{type:n.Input}],customClass:[{type:n.Input}],activeChange:[{type:n.Output}],activated:[{type:n.Output}],deactivated:[{type:n.Output}],headingRef:[{type:n.ContentChild,args:[gr,{read:n.TemplateRef,static:!1}]}]},e}(),vr=function(){function e(e,n){this._tabset=e,this._changeDetector=n,this.minimal=!0,this.stacked="none",this._onDestroy$=new t.Subject}return Object.defineProperty(e.prototype,"manual",{set:function(e){this._tabset.manual=e},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this._tabset.update(this._tabs.toArray()),this._tabset.isTabActive()||this._tabset.selectFirstTab(),this._changeDetector.detectChanges(),this._tabs.changes.pipe(s.takeUntil(this._onDestroy$)).subscribe((function(t){e._tabset.update(t),e._changeDetector.detectChanges()}))},e.prototype.ngOnDestroy=function(){this._onDestroy$.next(),this._onDestroy$.complete()},e.prototype.selectTab=function(e){this._tabset.select(e instanceof mr?e:this._tabs.toArray()[e]),this._changeDetector.detectChanges()},e.ctorParameters=function(){return[{type:fr},{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-tabset",template:'\x3c!-- Nav tabs --\x3e\n<ul role="tablist"\n    uxTabbableList\n    [direction]="stacked === \'none\' ? \'horizontal\' : \'vertical\'"\n    [allowBoundaryKeys]="true"\n    class="nav nav-tabs"\n    [class.minimal-tab]="minimal"\n    [attr.aria-label]="ariaLabel"\n    [attr.aria-orientation]="stacked === \'none\' ? \'horizontal\' : \'vertical\'">\n\n    <li role="presentation"\n        class="nav-item"\n        *ngFor="let tab of _tabset.tabs; let index = index"\n        [class.active]="(_tabset.activeTab$ | async) === tab"\n        [class.disabled]="tab.disabled"\n        [ngClass]="tab.customClass">\n\n        <ng-template #tabDetails>\n            <span *ngIf="!tab.headingRef">{{ tab.heading }}</span>\n            <ng-container *ngIf="tab.headingRef" [ngTemplateOutlet]="tab.headingRef"></ng-container>\n        </ng-template>\n\n        <a *ngIf="tab.route"\n            class="nav-link"\n            [id]="tab.id"\n            role="tab"\n            uxTabbableListItem\n            uxFocusIndicator\n            [attr.aria-controls]="tab.id"\n            [attr.aria-selected]="(_tabset.activeTab$ | async) === tab"\n            [attr.aria-disabled]="tab.disabled"\n            [routerLink]="tab.route"\n            [fragment]="tab.routerLinkExtras?.fragment"\n            [queryParams]="tab.routerLinkExtras?.queryParams"\n            [queryParamsHandling]="tab.routerLinkExtras?.queryParamsHandling"\n            [preserveFragment]="tab.routerLinkExtras?.preserveFragment"\n            [skipLocationChange]="tab.routerLinkExtras?.skipLocationChange"\n            [replaceUrl]="tab.routerLinkExtras?.replaceUrl"\n            [state]="tab.routerLinkExtras?.state">\n\n            <ng-container\n                [ngTemplateOutlet]="tabDetails">\n            </ng-container>\n        </a>\n\n        <a *ngIf="!tab.route"\n            class="nav-link"\n            [id]="tab.id"\n            role="tab"\n            uxTabbableListItem\n            uxFocusIndicator\n            (mousedown)="_tabset.select(tab)"\n            (activated)="_tabset.select(tab)"\n            [attr.aria-controls]="tab.id"\n            [attr.aria-selected]="(_tabset.activeTab$ | async) === tab"\n            [attr.aria-disabled]="tab.disabled">\n\n            <ng-container\n                [ngTemplateOutlet]="tabDetails">\n            </ng-container>\n        </a>\n    </li>\n</ul>\n\n\x3c!-- Tab panes --\x3e\n<div class="tab-content">\n    <ng-content></ng-content>\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,providers:[fr],host:{"[class.tabs-left]":'stacked === "left"',"[class.tabs-right]":'stacked === "right"'}}]}],e.ctorParameters=function(){return[{type:fr},{type:n.ChangeDetectorRef}]},e.propDecorators={minimal:[{type:n.Input}],stacked:[{type:n.Input}],manual:[{type:n.Input}],ariaLabel:[{type:n.Input,args:["aria-label"]}],_tabs:[{type:n.ContentChildren,args:[mr]}]},e}(),br=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,u.RouterModule],exports:[vr,mr,gr],declarations:[vr,mr,gr]}]}],e}(),_r=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxPageHeaderCustomMenu], [uxPageHeaderCustomItem]"}]}],e}(),xr=function(){function e(){}return e.prototype.select=function(e){e.select&&e.select.call(e,e)},e.prototype.keydownHandler=function(e,t){switch(t.keyCode){case l.ENTER:case l.SPACE:this.select(e),t.preventDefault(),t.stopPropagation()}},e.prototype._getIconType=function(e){return e?M(e):""},e.decorators=[{type:n.Component,args:[{selector:"ux-page-header-icon-menu",template:'<div class="page-header-icon-menu">\n    <button\n        type="button"\n        class="page-header-icon-menu-button"\n        [attr.aria-label]="menu.label"\n        [uxMenuTriggerFor]="iconMenu"\n        (click)="select(menu)">\n\n        \x3c!-- Support all icon types --\x3e\n        <i *ngIf="_getIconType(menu.icon) !== \'component\'"\n           [ngClass]="[_getIconType(menu.icon), menu.icon]">\n        </i>\n\n        <ux-icon *ngIf="_getIconType(menu.icon) === \'component\'"\n                 [name]="menu.icon">\n        </ux-icon>\n\n        <span class="label label-primary" *ngIf="menu?.badge" aria-hidden="true">{{ menu.badge }}</span>\n    </button>\n\n    <ux-menu #iconMenu alignment="end" menuClass="ux-page-header-icon-menu">\n        <ng-container *ngFor="let dropdown of menu?.dropdown">\n\n            <div class="dropdown-header" *ngIf="dropdown.header">\n                <span class="font-bold">{{ dropdown.title }}</span>\n            </div>\n\n            <button\n                type="button"\n                *ngIf="!dropdown.header"\n                uxMenuItem\n                (click)="select(dropdown)"\n                (keydown)="keydownHandler(dropdown, $event)">\n\n\n                <span class="dropdown-item-title">\n                    \x3c!-- Support all icon types --\x3e\n                    <i *ngIf="_getIconType(dropdown.icon) !== \'component\'"\n                       class="hpe-fw"\n                       [ngClass]="[_getIconType(dropdown.icon) || \'ux-icon\', dropdown.icon || \'\']">\n                    </i>\n\n                    <ux-icon *ngIf="_getIconType(dropdown.icon) === \'component\'"\n                             class="m-r-xs"\n                             [name]="dropdown.icon">\n                    </ux-icon>\n\n                    {{ dropdown.title }}\n                </span>\n                <span *ngIf="dropdown.subtitle" class="dropdown-item-subtitle">{{ dropdown.subtitle }}</span>\n\n            </button>\n\n            <ux-menu-divider *ngIf="dropdown.divider"></ux-menu-divider>\n\n        </ng-container>\n    </ux-menu>\n</div>',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.propDecorators={menu:[{type:n.Input}]},e}(),wr=function(){function e(e){var n=this;this._router=e,this.items$=new t.BehaviorSubject([]),this.selected$=new t.BehaviorSubject(null),this.selectedRoot$=new t.BehaviorSubject(null),this.secondary$=new t.BehaviorSubject(!1),this.secondaryNavigationAutoselect=!1,this._onDestroy=new t.Subject,this.selected$.pipe(s.takeUntil(this._onDestroy),s.map((function(e){return n.getRoot(e)}))).subscribe((function(e){return n.selectedRoot$.next(e)})),this._router.events.pipe(s.filter((function(e){return e instanceof u.NavigationEnd||e instanceof u.NavigationCancel||e instanceof u.NavigationError})),s.takeUntil(this._onDestroy)).subscribe((function(){return n.updateItemsWithActiveRoute()}))}return e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.select=function(e,t){if(void 0===t&&(t=!0),e)if(e.routerLink&&t){var n=Array.isArray(e.routerLink)?e.routerLink:[e.routerLink];this._router.navigate(n,e.routerExtras)}else if(this.secondaryNavigationAutoselect&&e.children&&e.children.length>0){var i=e.children.find((function(e){return e.selected}));if(i)return this.select(i),void this.selected$.next(i);var o=e.children.find((function(e){return!e.disabled}));o&&this.select(o)}else{if(!0===this.secondary$.getValue()&&this.isParentOf(this.selected$.getValue(),e))return;this.selected$.next(e)}},e.prototype.deselect=function(e){var t=this;e.selected=!1,e.children&&e.children.forEach((function(e){return t.deselect(e)}))},e.prototype.deselectAll=function(){var e=this;this.items$.getValue().forEach((function(t){return e.deselect(t)}))},e.prototype.updateItem=function(e,t){e.selected=e===t||this.isParentOf(t,e),e===t&&e.select&&e.select.call(e,e)},e.prototype.setItems=function(e){var t=this;void 0===e&&(e=[]),e.forEach((function(e){return t.setParent(e)})),this.items$.next(e);var n=e.find((function(e){return!0===e.selected}));n?this.select(n):this.updateItemsWithActiveRoute()},e.prototype.setSecondaryNavigation=function(e){this.secondary$.next(e)},e.prototype.getRoot=function(e){return e&&e.parent?this.getRoot(e.parent):e},e.prototype.setParent=function(e,t){var n=this;e.parent=t,e.children&&e.children.forEach((function(t){return n.setParent(t,e)}))},e.prototype.isParentOf=function(e,t){return!(!e||!e.parent)&&(e.parent===t||this.isParentOf(e.parent,t))},e.prototype.updateItemsWithActiveRoute=function(){var e,t,n=new Sr;try{for(var i=E(this.items$.getValue()),o=i.next();!o.done&&(this.findActiveItem(o.value,n),!n.exact);o=i.next());}catch(r){e={error:r}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.item&&this.selected$.next(n.item)},e.prototype.findActiveItem=function(e,t){var n,i;if(e.routerLink){var o=Array.isArray(e.routerLink)?e.routerLink:[e.routerLink],r=this._router.createUrlTree(o,e.routerExtras);if(this._router.isActive(r,!0)&&!t.exact)return t.item=e,void(t.exact=!0);this._router.isActive(r,!1)&&(t.item=e,t.exact=!1)}if(e.children)try{for(var a=E(e.children),s=a.next();!s.done;s=a.next())if(this.findActiveItem(s.value,t),t.exact)return}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.ctorParameters=function(){return[{type:u.Router}]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:u.Router}]},e}(),Sr=function(){},Cr=function(){function e(e){this._pageHeaderService=e}return e.prototype.select=function(e){e.disabled||e.children||this._pageHeaderService.select(e)},e.prototype.keydownHandler=function(e,t){switch(e.which){case l.ENTER:case l.SPACE:this.select(t),e.preventDefault(),e.stopPropagation()}},e.ctorParameters=function(){return[{type:wr}]},e.decorators=[{type:n.Component,args:[{selector:"ux-page-header-horizontal-navigation-dropdown-item",exportAs:"ux-page-header-horizontal-navigation-dropdown-item",template:'<div *ngIf="item.children && item.children.length > 0">\n\n    <button\n        type="button"\n        uxMenuItem\n        [disabled]="item.disabled"\n        [class.selected]="item.selected"\n        [attr.aria-selected]="item.selected"\n        [uxMenuTriggerFor]="menu">\n\n        <span class="dropdown-item-title">{{ item.title }}</span>\n        <ux-icon class="dropdown-item-icon" name="next"></ux-icon>\n    </button>\n\n    <ux-menu #menu placement="right" menuClass="horizontal-navigation-dropdown-submenu">\n        <button\n            type="button"\n            *ngFor="let subItem of item.children"\n            uxMenuItem\n            [disabled]="subItem.disabled"\n            [class.selected]="subItem.selected"\n            [attr.aria-selected]="subItem.selected"\n            (click)="select(subItem)"\n            (keydown)="keydownHandler($event, subItem)">\n\n            <span class="dropdown-item-title">{{ subItem.title }}</span>\n        </button>\n    </ux-menu>\n\n</div>\n\n<div *ngIf="!item.children || item.children.length === 0">\n\n    <button\n        type="button"\n        uxMenuItem\n        [disabled]="item.disabled"\n        [class.selected]="item.selected"\n        [attr.aria-selected]="item.selected"\n        (click)="select(item)"\n        (keydown)="keydownHandler($event, item)">\n\n        <span class="dropdown-item-title">{{ item.title }}</span>\n    </button>\n\n</div>'}]}],e.ctorParameters=function(){return[{type:wr}]},e.propDecorators={item:[{type:n.Input}]},e}(),Dr=function(){function e(){this._onChange=new t.Subject,this._onDestroy=new t.Subject}return e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.initialize=function(e){var t=this;this._items=e,this._focusManager=new o.FocusKeyManager(e).withHorizontalOrientation("ltr"),this._focusManager.change.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return t._onChange.next()})),this._focusManager.updateActiveItem(0),this._items.changes.subscribe((function(){t._items.length>0&&-1===t._items.toArray().indexOf(t._focusManager.activeItem)&&t._focusManager.updateActiveItem(0)})),this._onChange.next()},e.prototype.onKeydown=function(e){this._focusManager.onKeydown(e)},e.prototype.getTabIndex=function(e){var t=this;return this._onChange.pipe(s.map((function(){return t.getItemTabIndex(e)})),L(),s.takeUntil(this._onDestroy))},e.prototype.getItemTabIndex=function(e){return this._items?this._items.toArray().indexOf(e)===this._focusManager.activeItemIndex?0:-1:0},e.decorators=[{type:n.Injectable}],e}(),kr=function(){function e(e,n,i){this.elementRef=e,this._pageHeaderService=n,this._navigationService=i,this.secondary$=this._pageHeaderService.secondary$,this._tabindex=this._navigationService.getTabIndex(this),this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"item",{get:function(){return this._item},set:function(e){this._item=e,this._iconType=M(e.icon)},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this._pageHeaderService.selected$.pipe(L(),s.takeUntil(this._onDestroy)).subscribe((function(t){e._pageHeaderService.updateItem(e.item,t),t&&e.isOpen&&(e.isOpen=!1)}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.focus=function(){this.navigationBtn.nativeElement.focus()},e.prototype.select=function(){this.item.disabled||this.item.children&&!1===this._pageHeaderService.secondary$.getValue()||(this._pageHeaderService.secondaryNavigationAutoselect&&Array.isArray(this.item.children)&&this.item.children.forEach((function(e){return e.selected=!1})),this._pageHeaderService.select(this.item))},e.prototype.onKeydown=function(e){e.keyCode!==l.LEFT_ARROW&&e.keyCode!==l.RIGHT_ARROW||this._navigationService.onKeydown(e)},e.ctorParameters=function(){return[{type:n.ElementRef},{type:wr},{type:Dr}]},e.decorators=[{type:n.Component,args:[{selector:"ux-page-header-horizontal-navigation-item",template:'<div *ngIf="_item.children && _item.children.length > 0 && !(secondary$ | async)">\n\n    <button #navigationBtn\n        type="button"\n        [tabindex]="_tabindex | async"\n        [uxMenuTriggerFor]="menu"\n        [disabled]="_item.disabled"\n        role="menuitem"\n        class="horizontal-navigation-button"\n        [class.disabled]="_item.disabled"\n        [class.selected]="_item.selected"\n        [class.open]="isOpen"\n        [attr.aria-selected]="_item.selected">\n\n        <ng-container\n            [ngTemplateOutlet]="navigationItemContent">\n        </ng-container>\n\n        <span class="navigation-item-label">{{ _item?.title }}</span>\n        <ux-icon class="navigation-item-dropdown-icon" name="down"></ux-icon>\n    </button>\n\n    <ux-menu\n        #menu\n        menuClass="horizontal-navigation-dropdown-menu"\n        (opened)="isOpen = true"\n        (closed)="isOpen = false">\n\n        <ux-page-header-horizontal-navigation-dropdown-item\n            *ngFor="let item of _item?.children"\n            [item]="item">\n        </ux-page-header-horizontal-navigation-dropdown-item>\n    </ux-menu>\n\n</div>\n\n<ng-container *ngIf="!_item.children || _item.children.length === 0 || (secondary$ | async)">\n    <a *ngIf="_item.routerLink"\n        uxFocusIndicator\n        #navigationBtn\n        [tabindex]="_tabindex | async"\n        role="menuitem"\n        class="horizontal-navigation-button"\n        [class.disabled]="_item.disabled"\n        [class.selected]="_item.selected"\n        [attr.aria-selected]="_item.selected"\n        [routerLink]="_item.routerLink"\n        [fragment]="_item.routerExtras?.fragment"\n        [queryParams]="_item.routerExtras?.queryParams"\n        [queryParamsHandling]="_item.routerExtras?.queryParamsHandling"\n        [preserveFragment]="_item.routerExtras?.preserveFragment"\n        [skipLocationChange]="_item.routerExtras?.skipLocationChange"\n        [replaceUrl]="_item.routerExtras?.replaceUrl"\n        [state]="_item.routerExtras?.state">\n\n        <ng-container\n            [ngTemplateOutlet]="navigationItemContent">\n        </ng-container>\n    </a>\n\n    <button *ngIf="!_item.routerLink"\n        uxFocusIndicator\n        #navigationBtn\n        type="button"\n        [tabindex]="_tabindex | async"\n        role="menuitem"\n        class="horizontal-navigation-button"\n        [class.disabled]="_item.disabled"\n        [class.selected]="_item.selected"\n        [attr.aria-selected]="_item.selected"\n        (click)="select()"\n        [disabled]="_item.disabled">\n\n        <ng-container\n            [ngTemplateOutlet]="navigationItemContent">\n        </ng-container>\n    </button>\n</ng-container>\n\n\x3c!-- Support all icon types --\x3e\n<ng-template #navigationItemContent>\n    <ng-container *ngIf="_item.icon">\n        <i *ngIf="_iconType !== \'component\'"\n            class="navigation-item-icon"\n            [ngClass]="[_iconType, _item.icon]">\n        </i>\n\n        <ux-icon *ngIf="_iconType === \'component\'"\n            class="navigation-item-icon"\n            [name]="_item.icon">\n        </ux-icon>\n    </ng-container>\n\n    <span class="navigation-item-label">{{ _item?.title }}</span>\n</ng-template>\n'}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:wr},{type:Dr}]},e.propDecorators={item:[{type:n.Input}],navigationBtn:[{type:n.ViewChild,args:["navigationBtn",{static:!1}]}],onKeydown:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),Ir=function(){function e(e){this._pageHeaderService=e,this._onDestroy=new t.Subject}return e.prototype.ngOnInit=function(){var e=this;this._pageHeaderService.selected$.pipe(s.delay(0),s.takeUntil(this._onDestroy)).subscribe((function(t){e._pageHeaderService.updateItem(e.item,t)}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.ctorParameters=function(){return[{type:wr}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxPageHeaderNavigationSecondaryItem]"}]}],e.ctorParameters=function(){return[{type:wr}]},e.propDecorators={item:[{type:n.Input,args:["uxPageHeaderNavigationSecondaryItem"]}]},e}(),Or=function(){function e(e,n,i,o){this._navigationService=i,this._pageHeaderService=o,this.items$=this._pageHeaderService.items$,this.indicatorVisible=!1,this.indicatorX=0,this.indicatorWidth=0,this._onDestroy=new t.Subject,n.addResizeListener(e.nativeElement).pipe(s.takeUntil(this._onDestroy)).subscribe(this.updateSelectedIndicator.bind(this)),o.selected$.pipe(s.takeUntil(this._onDestroy),s.distinctUntilChanged()).subscribe(this.updateSelectedIndicator.bind(this)),o.secondary$.pipe(s.takeUntil(this._onDestroy),s.distinctUntilChanged()).subscribe(this.updateSelectedIndicator.bind(this))}return e.prototype.ngAfterViewInit=function(){this.updateSelectedIndicator(),this._navigationService.initialize(this.menuItems)},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.updateSelectedIndicator=function(){var e=this;setTimeout((function(){var t=e.menuItems.find((function(e){return e.item.selected}));if(e.indicatorVisible=!!t,t){var n=getComputedStyle(t.elementRef.nativeElement);e.indicatorX=t.elementRef.nativeElement.offsetLeft,e.indicatorWidth=parseInt(n.getPropertyValue("width"))}}))},e.ctorParameters=function(){return[{type:n.ElementRef},{type:Me},{type:Dr},{type:wr}]},e.decorators=[{type:n.Component,args:[{selector:"ux-page-header-horizontal-navigation",template:'<ux-page-header-horizontal-navigation-item\n    *ngFor="let item of items$ | async"\n    [item]="item">\n</ux-page-header-horizontal-navigation-item>\n\n<div class="selected-indicator"\n    [style.opacity]="indicatorVisible ? 1 : 0"\n    [style.margin-left.px]="indicatorX"\n    [style.width.px]="indicatorWidth">\n</div>',providers:[Dr],host:{role:"menubar"}}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:Me},{type:Dr},{type:wr}]},e.propDecorators={menuItems:[{type:n.ViewChildren,args:[kr]}]},e}(),Pr=function(){function e(e,t){this._colorService=e,this._pageHeaderService=t,this.alignment="center",this.condensed=!1,this.backVisible=!0,this.secondaryNavigationAlignment="center",this.crumbsStyle="standard",this.backClick=new n.EventEmitter,this.logoClick=new n.EventEmitter,this.selected$=this._pageHeaderService.selected$,this.selectedRoot$=this._pageHeaderService.selectedRoot$,this._crumbs=[]}return Object.defineProperty(e.prototype,"secondaryNavigationAutoselect",{get:function(){return this._pageHeaderService.secondaryNavigationAutoselect},set:function(e){this._pageHeaderService.secondaryNavigationAutoselect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{set:function(e){this._pageHeaderService.setItems(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"secondaryNavigation",{get:function(){return this._pageHeaderService.secondary$.getValue()},set:function(e){this._pageHeaderService.setSecondaryNavigation(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"crumbs",{get:function(){return this.condensed?A(this._crumbs,[{title:this.header}]):this._crumbs},set:function(e){this._crumbs=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logoBackground",{get:function(){return this._logoBackground},set:function(e){this._logoBackground=this._colorService.resolve(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logoForeground",{get:function(){return this._logoForeground},set:function(e){this._logoForeground=this._colorService.resolve(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_hasLogoClick",{get:function(){return this.logoClick.observers.length>0},enumerable:!1,configurable:!0}),e.prototype.select=function(e,t){this._pageHeaderService.select(e,t)},e.ctorParameters=function(){return[{type:q},{type:wr}]},e.decorators=[{type:n.Component,args:[{selector:"ux-page-header",exportAs:"ux-page-header",template:'<div class="ux-page-header" [class.page-header-condensed]="condensed" role="banner">\n\n    <div *ngIf="!condensed" class="page-header-content">\n\n        \x3c!-- Logo/product acronym --\x3e\n        <div uxFocusIndicator (keydown.enter)="logoClick.emit($event)" [attr.tabindex]="_hasLogoClick ? 0: -1"\n             [class.page-header-logo-template]="logoTemplate" [class.clickable]="_hasLogoClick"\n             class="page-header-logo-container"\n             role="presentation" [style.backgroundColor]="logoBackground" [style.color]="logoForeground" (click)="logoClick.emit($event)">\n            <img *ngIf="logo && !logoTemplate" [attr.src]="logo" [alt]="header" class="page-header-logo">\n            <h1 *ngIf="header && !logo && !logoTemplate" class="page-header-acronym">{{header}}</h1>\n            <ng-container *ngIf="logoTemplate" [ngTemplateOutlet]="logoTemplate"></ng-container>\n        </div>\n\n        \x3c!-- Sub-title --\x3e\n        <div *ngIf="subheader || subheaderTemplate" class="page-header-subtitle-container">\n            <span *ngIf="subheader" class="page-header-subtitle">{{subheader}}</span>\n            <ng-container [ngTemplateOutlet]="subheaderTemplate"></ng-container>\n        </div>\n\n        <div class="page-header-state-container" role="navigation">\n\n            \x3c!-- Back button --\x3e\n            <button *ngIf="backVisible === true" uxFocusIndicator type="button" class="page-header-back-button" (click)="backClick.emit($event)" aria-label="Go Back">\n                <ux-icon name="previous" class="text-primary"></ux-icon>\n            </button>\n\n            \x3c!-- Breadcrumbs and header --\x3e\n            <div class="page-header-title-container">\n\n                <ux-breadcrumbs *ngIf="crumbs && crumbs.length > 0"\n                    [class.ux-breadcrumbs-small]="crumbsStyle === \'small\'"\n                    [crumbs]="crumbs"></ux-breadcrumbs>\n\n                <h1 class="page-header-title">{{header}}</h1>\n\n            </div>\n\n        </div>\n\n        \x3c!-- Primary navigation --\x3e\n        <div class="page-header-navigation" [ngClass]="alignment" role="navigation" aria-label="Primary Navigation">\n            <ux-page-header-horizontal-navigation></ux-page-header-horizontal-navigation>\n        </div>\n\n        \x3c!-- Icon menus --\x3e\n        <div class="page-header-icon-menus" role="toolbar">\n            <ng-container *ngFor="let menu of customMenus" [ngTemplateOutlet]="menu"></ng-container>\n            <ux-page-header-icon-menu *ngFor="let menu of iconMenus" [menu]="menu"></ux-page-header-icon-menu>\n        </div>\n    </div>\n\n    \x3c!-- Display This Section Optimized for Condensed Mode --\x3e\n    <div class="page-header-condensed-content" *ngIf="condensed">\n\n        <div class="page-header-breadcrumbs" role="navigation">\n            <ux-breadcrumbs [crumbs]="crumbs"></ux-breadcrumbs>\n        </div>\n\n        <div class="page-header-navigation" [ngClass]="alignment" role="navigation" aria-label="Primary Navigation">\n\n            \x3c!-- The Top Navigation Options --\x3e\n            <ux-page-header-horizontal-navigation></ux-page-header-horizontal-navigation>\n        </div>\n\n        <div class="page-header-icon-menus" role="toolbar">\n            <ng-container *ngFor="let menu of customMenus" [ngTemplateOutlet]="menu"></ng-container>\n            <ux-page-header-icon-menu *ngFor="let menu of iconMenus" [menu]="menu"></ux-page-header-icon-menu>\n        </div>\n\n    </div>\n\n</div>\n\n\x3c!-- Secondary Header Section --\x3e\n<div *ngIf="secondaryNavigation && ((selectedRoot$ | async) !== (selected$ | async))" class="ux-page-header-secondary">\n\n    \x3c!-- Secondary Navigation Leading Content --\x3e\n    <div class="page-header-secondary-leading-content" *ngIf="secondaryNavigationLeadingContentTemplate || secondaryNavigationTrailingContentTemplate">\n        <ng-container [ngTemplateOutlet]="secondaryNavigationLeadingContentTemplate"></ng-container>\n    </div>\n\n    \x3c!-- Secondary Navigation (children of top level items) --\x3e\n    <div [ngClass]="[\'page-header-navigation\', secondaryNavigationAlignment]" role="navigation">\n        <ux-tabset *ngIf="(selectedRoot$ | async)?.children; let children" [manual]="true">\n            <ux-tab *ngFor="let child of children"\n                [heading]="child.title"\n                [route]="child.routerLink"\n                [routerLinkExtras]="child.routerExtras"\n                [active]="child === (selected$ | async)"\n                (activated)="select(child, false)"\n                [uxPageHeaderNavigationSecondaryItem]="child"\n                [disabled]="child.disabled">\n            </ux-tab>\n        </ux-tabset>\n    </div>\n\n    \x3c!-- Secondary Navigation Trialing Content --\x3e\n    <div class="page-header-secondary-trailing-content" *ngIf="secondaryNavigationTrailingContentTemplate">\n        <ng-container [ngTemplateOutlet]="secondaryNavigationTrailingContentTemplate"></ng-container>\n    </div>\n</div>\n',providers:[wr]}]}],e.ctorParameters=function(){return[{type:q},{type:wr}]},e.propDecorators={logo:[{type:n.Input}],header:[{type:n.Input}],subheader:[{type:n.Input}],alignment:[{type:n.Input}],condensed:[{type:n.Input}],iconMenus:[{type:n.Input}],backVisible:[{type:n.Input}],secondaryNavigationAlignment:[{type:n.Input}],secondaryNavigationAutoselect:[{type:n.Input}],items:[{type:n.Input}],secondaryNavigation:[{type:n.Input}],crumbs:[{type:n.Input}],crumbsStyle:[{type:n.Input}],logoBackground:[{type:n.Input}],logoForeground:[{type:n.Input}],backClick:[{type:n.Output}],logoClick:[{type:n.Output}],subheaderTemplate:[{type:n.ContentChild,args:["subheader",{static:!1}]}],logoTemplate:[{type:n.ContentChild,args:["logoTemplate",{static:!1}]}],secondaryNavigationLeadingContentTemplate:[{type:n.ContentChild,args:["secondaryNavigationLeadingContent",{static:!1}]}],secondaryNavigationTrailingContentTemplate:[{type:n.ContentChild,args:["secondaryNavigationTrailingContent",{static:!1}]}],customMenus:[{type:n.ContentChildren,args:[_r,{read:n.TemplateRef}]}]},e}(),Tr=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[o.A11yModule,_e,Ae,Y,i.CommonModule,Pe,$i,$e,u.RouterModule,br],exports:[Pr,_r],declarations:[Pr,xr,_r,Or,kr,Cr,Ir]}]}],e}(),Er={provide:h.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return Rr})),multi:!0},Rr=function(){function e(e){this._changeDetector=e,this.directionButtons=!0,this.maxSize=5,this.disabled=!1,this.ariaLabel="Pagination Navigation",this.previousAriaLabel="Navigate to the previous page",this.nextAriaLabel="Navigate to the next page",this.pageChange=new n.EventEmitter,this.numPages=new n.EventEmitter,this.pages=[],this.onTouched=function(){},this.onChange=function(){},this.isKeyboardEvent=!1,this._page=1,this._total=100,this._pagesize=10}return Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(e){e!==this._page&&(this._page=e,this.pages=this.getPages(),this.onChange(this.page))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemsPerPage",{set:function(e){this._pagesize=e,this.pages=this.getPages()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalItems",{set:function(e){this._total=e,this.pages=this.getPages()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return Math.ceil(this._total/this._pagesize)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.pages=this.getPages()},e.prototype.select=function(e){var t=this.pages.find((function(t){return t.index===e}));t&&(this.onTouched(),this.page=t.index,this.pages=this.getPages(),this.pageChange.emit(this.page))},e.prototype.trackByFn=function(e,t){return t.index},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetector.markForCheck()},e.prototype.writeValue=function(e){this.page=e,this._changeDetector.markForCheck()},e.prototype.getPages=function(){for(var e=[],t=1;t<=this.pageCount;t++)e.push({index:t,visible:this.isPageVisible(t)});return this.numPages.emit(this.pageCount),e},e.prototype.isPageVisible=function(e){if(!this.maxSize||this.pageCount<=this.maxSize)return!0;var t=Math.max(1,Math.ceil(this.page-this.maxSize/2)),n=Math.min(t+this.maxSize,this.pageCount+1),i=n-t;return i<this.maxSize&&(t-=this.maxSize-i),e>=t&&e<n},e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-pagination",template:'<nav role="navigation" [attr.aria-label]="ariaLabel">\n  <ul #container class="pagination"\n    [ngClass]="classes"\n    direction="horizontal"\n    (blur)="isKeyboardEvent = false"\n    (keydown.ArrowLeft)="select(page - 1); isKeyboardEvent = true"\n    (keydown.ArrowRight)="select(page + 1); isKeyboardEvent = true"\n    (keydown.Home)="select(1); isKeyboardEvent = true; $event.preventDefault()"\n    (keydown.End)="select(pageCount); isKeyboardEvent = true; $event.preventDefault()">\n\n    <li class="pagination-prev page-item"\n        *ngIf="directionButtons"\n        uxFocusIndicator\n        [programmaticFocusIndicator]="true"\n        [checkChildren]="true"\n        [class.disabled]="page === 1 || disabled">\n\n      <a class="page-link"\n         [tabindex]="page === 1 || disabled ? -1 : 0"\n         [attr.aria-label]="previousAriaLabel"\n         [ngClass]="pageBtnClass"\n         (click)="select(page - 1)"\n         (keydown.enter)="select(page - 1)">\n        <ng-container [ngTemplateOutlet]="previousBtnTemplate || defaultPreviousBtnTemplate"></ng-container>\n      </a>\n    </li>\n\n    <ng-container *ngFor="let pg of pages; trackBy: trackByFn">\n      <li *ngIf="pg.visible"\n          uxFocusIndicator\n          [programmaticFocusIndicator]="true"\n          [checkChildren]="true"\n          [class.disabled]="disabled"\n          [class.active]="page === pg.index"\n          class="pagination-page page-item">\n\n        <a class="page-link"\n           tabindex="0"\n           [ngClass]="pageBtnClass"\n           [focusIf]="isKeyboardEvent && page === pg.index"\n           [attr.aria-current]="page === pg.index"\n           [attr.aria-setsize]="pageCount"\n           [attr.aria-posinset]="pg.index"\n           (click)="select(pg.index)"\n           (keydown.enter)="select(pg.index)">\n            {{ pg.index }}\n        </a>\n      </li>\n    </ng-container>\n\n    <li class="pagination-next page-item"\n        *ngIf="directionButtons"\n        uxFocusIndicator\n        [programmaticFocusIndicator]="true"\n        [checkChildren]="true"\n        [class.disabled]="page === pageCount || disabled">\n\n      <a class="page-link"\n         [tabindex]="page === pageCount || disabled ? -1 : 0"\n         [attr.aria-label]="nextAriaLabel"\n         [ngClass]="pageBtnClass"\n         (click)="select(page + 1)"\n         (keydown.enter)="select(page + 1)">\n\n        <ng-container [ngTemplateOutlet]="nextBtnTemplate || defaultNextBtnTemplate"></ng-container>\n      </a>\n    </li>\n  </ul>\n</nav>\n\n<ng-template #defaultPreviousBtnTemplate>\n    <ux-icon class="pagination-prev-icon-default" name="previous"></ux-icon>\n</ng-template>\n\n<ng-template #defaultNextBtnTemplate>\n    <ux-icon class="pagination-next-icon-default" name="next"></ux-icon>\n</ng-template>\n',providers:[Er],changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.propDecorators={directionButtons:[{type:n.Input}],maxSize:[{type:n.Input}],disabled:[{type:n.Input}],classes:[{type:n.Input,args:["class"]}],pageBtnClass:[{type:n.Input}],ariaLabel:[{type:n.Input,args:["aria-label"]}],previousAriaLabel:[{type:n.Input}],nextAriaLabel:[{type:n.Input}],page:[{type:n.Input}],previousBtnTemplate:[{type:n.Input}],nextBtnTemplate:[{type:n.Input}],itemsPerPage:[{type:n.Input}],totalItems:[{type:n.Input}],pageChange:[{type:n.Output}],numPages:[{type:n.Output}]},e}(),Ar=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[o.A11yModule,_e,i.CommonModule,un,Pe],declarations:[Rr],exports:[Rr]}]}],e}(),Mr=function(){function e(e){this._elementRef=e,this.segmentFocus=new n.EventEmitter,this.segmentBlur=new n.EventEmitter,this._onDestroy=new t.Subject}return e.prototype.ngAfterViewInit=function(){var e=this,n=this.getSegmentElement();n&&(t.fromEvent(n,"focus").pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){return e.segmentFocus.emit(t)})),t.fromEvent(n,"blur").pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){return e.segmentBlur.emit(t)})))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.getSegmentElement=function(){for(var e=this._elementRef.nativeElement.parentElement;null!==e;){if(e.classList.contains("partition-map-segment"))return e;e=e.parentElement}},e.ctorParameters=function(){return[{type:n.ElementRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[segmentFocus],[segmentBlur]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef}]},e.propDecorators={segmentFocus:[{type:n.Output}],segmentBlur:[{type:n.Output}]},e}(),Lr=function(){function e(e,i,o,r,a,s,c,l){this._colorService=e,this._elementRef=i,this._changeDetector=o,this._ngZone=r,this._focusOrigin=a,this._contrastRatio=s,this._liveAnnouncer=c,this._resizeService=l,this.collapsedHeight=40,this.minSegmentWidth=5,this.segmentAnnouncement=this.defaultSegmentAnnouncement,this.selectedChange=new n.EventEmitter,this._segments=[],this._colors=[[]],this._segmentColors=new Map,this._x=_.scaleLinear().range([0,100]),this._y=_.scaleLinear().range([0,100]),this._width=this._elementRef.nativeElement.offsetWidth,this._height=this._elementRef.nativeElement.offsetHeight,this._initialized=!1,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"colors",{set:function(e){this._colors=e,this._segmentColors.clear()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this._dataset},set:function(e){this._dataset=e,this._segmentColors.clear(),this.setDataset(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{set:function(e){0!==this._segments.length?this.select(this.getHierarchyNodeFromSegment(e)):this._awaitingSelection=e},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._resizeService.addResizeListener(this._elementRef.nativeElement).pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){e._width=t.width,e._height=t.height,e._changeDetector.detectChanges(),e._selected&&(e._x.domain([e.getSegmentX(e._selected),e.getSegmentX(e._selected)+e.getSegmentWidth(e._selected)]),e._y.domain([e._selected.y0,1]).range([e.getTotalCollapsedHeight(),100])),e.updateSegments()})),this._initialized=!0,this._changeDetector.detectChanges()},e.prototype.ngOnDestroy=function(){this._resizeService.removeResizeListener(this._elementRef.nativeElement),this._onDestroy.next(),this._onDestroy.complete()},e.prototype._onSegmentSelect=function(e){this.select(this._isSelected(e)&&e.parent?e.parent:e)},e.prototype._getBackgroundColor=function(e){if(!this._initialized)return"#fff";var t=e.data.name+" - "+e.depth;if(this._segmentColors.has(t))return this._segmentColors.get(t);var n=this.getColorSequence(e.depth);if(!n||0===n.length)return"#fff";var i=this.getAllSiblings(e),o=i[i.indexOf(e)-1];if(o){var r=n.indexOf(this._getBackgroundColor(o)),a=n[(r+1)%n.length];return this._segmentColors.set(t,a),a}return this._segmentColors.set(t,n[0]),n[0]},e.prototype._getTabIndex=function(e){return e===this._focusableSegment?0:-1},e.prototype._focusParent=function(e){e.parent&&this.focusSegment(e.parent)},e.prototype._focusChild=function(e){var t=this;if(e.children){var n=e.children.find((function(e){return t.isVisible(e)}));n&&this.focusSegment(n)}},e.prototype._focusSibling=function(e,t){if(e.parent){var n=this.getAllSiblings(e),i=n.indexOf(e),o=n[i+t];o&&this.isVisible(o)&&this.focusSegment(o)}},e.prototype._focusFirstSibling=function(e){var t=this;if(e.parent){var n=this.getAllSiblings(e).find((function(e){return t.isVisible(e)}));n&&this.focusSegment(n)}},e.prototype._focusLastSibling=function(e){var t=this;if(e.parent){var n=this.getAllSiblings(e).reverse().find((function(e){return t.isVisible(e)}));n&&this.focusSegment(n)}},e.prototype._isCollapsed=function(e){return this._selected&&e.depth<this._selected.depth},e.prototype._isSelected=function(e){return this._selected===e},e.prototype._getContrastColor=function(e){var t=this._getBackgroundColor(e),n=K.parse("#fff"),i=K.parse("#000");return this._contrastRatio.getContrastColor(K.parse(t),n,i)===n?"partition-map-segment-light":"partition-map-segment-dark"},e.prototype._onFocus=function(e){var t=R(e.ancestors().map((function(e){return e.data}))),n=t[0],i=t.slice(1),o=this.getHierarchyNodeFromSegment(n),r=this.segmentAnnouncement({item:n,parents:i,value:this._getSegmentValue(e.data),collapsed:this._isCollapsed(o),selected:this._isSelected(o)});this._liveAnnouncer.announce(r)},e.prototype._getSegmentContentHidden=function(e){return this._width/100*this.getNormalizedSegmentWidth(e)<50},e.prototype._getSegmentValue=function(e){var t=this;return e.hasOwnProperty("value")?e.value:e.children.reduce((function(e,n){return e+t._getSegmentValue(n)}),0)},e.prototype._getContext=function(e){var t={segment:e.data,value:this._getSegmentValue(e.data),color:this._getBackgroundColor(e),expanded:!this._isCollapsed(e),children:[]};return e.children&&(t.children=e.children.map(this._getContext.bind(this))),t},e.prototype.setDataset=function(e){var t=_.hierarchy(e).sum(this.getSegmentValue),n=_.partition()(t);this._segments=n.descendants(),this._focusableSegment=n,this._changeDetector.detectChanges(),this._segmentsSelection=_.select(this._elementRef.nativeElement).selectAll(".partition-map-segment").data(this._segments),this.updateSegments(),this._awaitingSelection&&(this.select(this.getHierarchyNodeFromSegment(this._awaitingSelection)),this._awaitingSelection=null)},e.prototype.updateSegments=function(){var e=this;this._segmentsSelection&&this._segmentsSelection.style("left",(function(t){return e.getNormalizedSegmentX(t)+"%"})).style("top",(function(t){return e.getNormalizedSegmentY(t)+"%"})).style("width",(function(t){return e.getNormalizedSegmentWidth(t)+.01+"%"})).style("height",(function(t){return e.getNormalizedSegmentHeight(t)+"%"})).style("padding-right",(function(t){return e.getSegmentPaddingRight(t)+"%"})).style("padding-left",(function(t){return e.getSegmentPaddingLeft(t)+"%"}))},e.prototype.getSegmentX=function(e){var t,n;if(!e.parent)return e.x0;var i=this.getSegmentX(e.parent);try{for(var o=E(e.parent.children),r=o.next();!r.done;r=o.next()){var a=r.value;if(a===e)return i;i+=this.getSegmentWidth(a)}}catch(s){t={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.getSegmentWidth=function(e){if(!e.parent)return 1;var t=this.getSegmentWidth(e.parent)/(e.parent.x1-e.parent.x0),n=e.x1-e.x0;return this.isDescendantOfSelected(e)?n*this.getDistributionModifier(e)*t:n*t},e.prototype.getNormalizedSegmentX=function(e){return this._x(this.getSegmentX(e))},e.prototype.getNormalizedSegmentY=function(e){return this._isCollapsed(e)?e.depth*this.getCollapsedHeight():this._y(e.y0)},e.prototype.getNormalizedSegmentWidth=function(e){return this._x(this.getSegmentX(e)+this.getSegmentWidth(e))-this._x(this.getSegmentX(e))},e.prototype.getNormalizedSegmentHeight=function(e){return this._isCollapsed(e)?this.getCollapsedHeight():this._y(e.y0+(e.y1-e.y0))-this._y(e.y0)},e.prototype.getSegmentPaddingRight=function(e){return this._isCollapsed(e)?this.getNormalizedSegmentWidth(e)-this.getSegmentPaddingLeft(e)-this.getNormalizedSegmentWidth(this._selected):0},e.prototype.getSegmentPaddingLeft=function(e){return this._isCollapsed(e)?Math.abs(this.getNormalizedSegmentX(e)):0},e.prototype.getSegmentValue=function(e){return e.hasOwnProperty("value")?Math.max(e.value,1):0},e.prototype.getTotalCollapsedHeight=function(){return this._selected?this._selected.depth*this.getCollapsedHeight():0},e.prototype.getCollapsedHeight=function(){return parseFloat((this.collapsedHeight/this._height*100).toPrecision(3))},e.prototype.isVisible=function(e){return!this._selected||!!A(this._selected.ancestors(),this._selected.descendants()).find((function(t){return t===e}))},e.prototype.focusSegment=function(e){var t=this._segmentsSelection.nodes().find((function(t){return _.select(t).data()[0]===e}));t&&(this._focusableSegment=e,this._focusOrigin.setOrigin("keyboard"),t.focus(),this._elementRef.nativeElement.scrollLeft=0,this._elementRef.nativeElement.scrollTop=0)},e.prototype.getAllSiblings=function(e){return this._segments.filter((function(t){return t.depth===e.depth}))},e.prototype.getHierarchyNodeFromSegment=function(e){return this._segments.find((function(t){return t.data===e}))},e.prototype.select=function(e){var t=this;if(e&&!this._isSelected(e)){this.selectedChange.emit(e.data),this._selected=e,this._focusableSegment=e,this._x.domain([this.getSegmentX(e),this.getSegmentX(e)+this.getSegmentWidth(e)]),this._y.domain([e.y0,1]).range([this.getTotalCollapsedHeight(),100]);var n=_.transition().duration(500);this._ngZone.runOutsideAngular((function(){t._segmentsSelection.transition(n).style("left",(function(e){return t.getNormalizedSegmentX(e)+"%"})).style("top",(function(e){return t.getNormalizedSegmentY(e)+"%"})).style("width",(function(e){return t.getNormalizedSegmentWidth(e)+.01+"%"})).style("height",(function(e){return t.getNormalizedSegmentHeight(e)+"%"})).style("padding-right",(function(e){return t.getSegmentPaddingRight(e)+"%"})).style("padding-left",(function(e){return t.getSegmentPaddingLeft(e)+"%"}))}))}},e.prototype.getColorSequence=function(e){var t=this,n=this._colors[e];if(!n)throw new Error("Partition Map: Please provide a color sequence for items with a depth of "+e);return n.map((function(e){return K.isInstanceOf(e)?e.toRgba():t._colorService.resolve(e)}))},e.prototype.isDescendantOfSelected=function(e){return!this._selected||this._selected!==e&&!!this._selected.descendants().find((function(t){return t===e}))},e.prototype.getDistributionModifier=function(e){var t,n,i,o,r=this,a=this.minSegmentWidth/this._width*100,s=e.parent.children.map((function(e){return{segment:e,width:r._x(e.x1-e.x0)}})),c=function(e){return!e.find((function(e){return e.width<a}))||e.filter((function(e){return e.width<a})).length===s.length};if(c(s))return 1;for(var l=s.reduce((function(e,t){return e+(t.width<a?a-t.width:0)}),0);!c(s)&&0!==l;){var u=s.filter((function(e){return e.width>a})),p=s.filter((function(e){return e.width<a}));if(0===u.length||0===p.length)break;var h=l/u.length,d=0;try{for(var g=(t=void 0,E(u)),f=g.next();!f.done;f=g.next()){var y=(_=f.value).width-h>a?h:_.width-a;d+=y,_.width-=y}}catch(C){t={error:C}}finally{try{f&&!f.done&&(n=g.return)&&n.call(g)}finally{if(t)throw t.error}}l-=d;var m=d/p.length;try{for(var v=(i=void 0,E(p)),b=v.next();!b.done;b=v.next()){var _;(_=b.value).width+=_.width+m<a?m:a-_.width}}catch(D){i={error:D}}finally{try{b&&!b.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}}var x=s.find((function(t){return t.segment===e}));if(s.findIndex((function(t){return t.segment===e}))===s.length-1){var w=this._x(e.parent.x1-e.parent.x0),S=s.reduce((function(e,t){return e+t.width}),0);if(w!==S)return(x.width+(w-S))/this._x(x.segment.x1-x.segment.x0)}return x.width/this._x(x.segment.x1-x.segment.x0)},e.prototype.defaultSegmentAnnouncement=function(e){return 0===e.parents.length?"This is the root segment. It has a value of "+e.value+".":e.item.name+" has a value of "+e.value+" and is a "+e.parents.map((function(e){return"descendant of "+e.name})).join(" and a ")},e.ctorParameters=function(){return[{type:q},{type:n.ElementRef},{type:n.ChangeDetectorRef},{type:n.NgZone},{type:ne},{type:X},{type:o.LiveAnnouncer},{type:Me}]},e.decorators=[{type:n.Component,args:[{selector:"ux-partition-map",template:'<div class="partition-map-segment"\n     *ngFor="let segment of _segments"\n     uxFocusIndicator\n     [ngClass]="_getContrastColor(segment)"\n     [style.background-color]="_getBackgroundColor(segment)"\n     [tabIndex]="_getTabIndex(segment)"\n     [attr.aria-expanded]="!_isCollapsed(segment)"\n     [attr.aria-selected]="_isSelected(segment)"\n     [attr.aria-level]="segment.depth"\n     (click)="_onSegmentSelect(segment)"\n     (focus)="_onFocus(segment)"\n     (keydown.Enter)="_onSegmentSelect(segment)"\n     (keydown.ArrowUp)="_focusParent(segment); $event.preventDefault()"\n     (keydown.ArrowDown)="_focusChild(segment); $event.preventDefault()"\n     (keydown.ArrowLeft)="_focusSibling(segment, -1); $event.preventDefault()"\n     (keydown.ArrowRight)="_focusSibling(segment, 1); $event.preventDefault()"\n     (keydown.Home)="_focusFirstSibling(segment); $event.preventDefault()"\n     (keydown.End)="_focusLastSibling(segment); $event.preventDefault()">\n\n     <div class="partition-map-segment-content" [class.partition-map-segment-content-hidden]="_getSegmentContentHidden(segment)">\n\n      \x3c!-- Show default template if provided --\x3e\n      <span class="partition-map-segment-label" *ngIf="!segmentTemplate">\n        {{ segment.data.name }}\n      </span>\n\n       \x3c!-- Show custom template if provided --\x3e\n      <ng-container *ngIf="segmentTemplate"\n        [ngTemplateOutlet]="segmentTemplate"\n        [ngTemplateOutletContext]="_getContext(segment)">\n      </ng-container>\n    </div>\n\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:q},{type:n.ElementRef},{type:n.ChangeDetectorRef},{type:n.NgZone},{type:ne},{type:X},{type:o.LiveAnnouncer},{type:Me}]},e.propDecorators={colors:[{type:n.Input}],collapsedHeight:[{type:n.Input}],minSegmentWidth:[{type:n.Input}],dataset:[{type:n.Input}],selected:[{type:n.Input}],segmentAnnouncement:[{type:n.Input}],selectedChange:[{type:n.Output}],segmentTemplate:[{type:n.ContentChild,args:["partitionMapSegment",{static:!1}]}]},e}(),$r=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[o.A11yModule,_e,i.CommonModule,Y,$e],declarations:[Lr,Mr],exports:[Lr,Mr]}]}],e}(),Fr=function(){function e(){this.value=0,this.min=0,this.max=100,this.indeterminate=!1}return Object.defineProperty(e.prototype,"valueNow",{get:function(){return this.indeterminate?null:this.value},enumerable:!1,configurable:!0}),e.decorators=[{type:n.Component,args:[{selector:"ux-progress-bar",template:'<div *ngIf="!indeterminate" class="progressbar-track" [style.width.%]="((value - min) / (max - min)) * 100" [style.backgroundColor]="barColor">\n    <ng-container *ngTemplateOutlet="content"></ng-container>\n</div>\n<div *ngIf="indeterminate" class="progressbar-track indeterminate" [style.backgroundColor]="barColor">\n    <ng-container *ngTemplateOutlet="content"></ng-container>\n</div>\n\n\x3c!-- Workaround for Multiple ng-content tags issue: https://github.com/angular/angular/issues/22972 --\x3e\n<ng-template #content><ng-content></ng-content></ng-template>',changeDetection:n.ChangeDetectionStrategy.OnPush,host:{role:"progressbar"}}]}],e.propDecorators={value:[{type:n.Input}],min:[{type:n.Input},{type:n.HostBinding,args:["attr.aria-valuemin"]}],max:[{type:n.Input},{type:n.HostBinding,args:["attr.aria-valuemax"]}],indeterminate:[{type:n.Input}],trackColor:[{type:n.Input}],barColor:[{type:n.Input}],valueNow:[{type:n.HostBinding,args:["attr.aria-valuenow"]}]},e}(),Hr=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule],exports:[Fr],declarations:[Fr]}]}],e}(),jr={provide:h.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return Br})),multi:!0},Br=function(){function e(e){this._changeDetector=e,this.valueChange=new n.EventEmitter,this.onTouched=function(){},this.onChange=function(){},this._onDestroy$=new t.Subject,this._value=null}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.updateSelectedRadioButton()},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.updateSelectedRadioButton(),this._radioButtons.changes.pipe(s.takeUntil(this._onDestroy$)).subscribe((function(){return e.updateSelectedRadioButton()}))},e.prototype.ngOnDestroy=function(){this._onDestroy$.next(),this._onDestroy$.complete()},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this.value=e,this._changeDetector.markForCheck()},e.prototype.setDisabledState=function(e){this._radioButtons&&(this._radioButtons.forEach((function(t){return t.setDisabledState(e)})),this._changeDetector.markForCheck())},e.prototype.emitChange=function(e){this.valueChange.next(e),this.onChange(e),this.onTouched()},e.prototype.updateSelectedRadioButton=function(){var e=this;this._radioButtons&&this._radioButtons.forEach((function(t){return t.writeValue(e._value)}))},e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Directive,args:[{selector:"ux-radio-button-group, [uxRadioButtonGroup]",providers:[jr],host:{role:"radiogroup"}}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.propDecorators={value:[{type:n.Input}],valueChange:[{type:n.Output}],_radioButtons:[{type:n.ContentChildren,args:[n.forwardRef((function(){return Vr})),{descendants:!0}]}]},e}(),Nr={provide:h.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return Vr})),multi:!0},zr=0,Vr=function(){function e(e,t){this._changeDetector=e,this._group=t,this._radioButtonId="ux-radio-button-"+ ++zr,this.id=this._radioButtonId,this.tabindex=0,this.clickable=!0,this.disabled=!1,this.simplified=!1,this.ariaLabel="",this.ariaLabelledby=null,this.ariaDescribedby=null,this.valueChange=new n.EventEmitter,this._focused=!1,this.onTouchedCallback=function(){},this.onChangeCallback=function(){}}return e.prototype.select=function(){!this.disabled&&this.clickable&&(this.value=this.option,this._group&&(this._group.value=this.option,this._group.emitChange(this.option)),this.valueChange.emit(this.value),this.onChangeCallback(this.value),this.onTouchedCallback())},e.prototype.writeValue=function(e){e!==this.value&&(this.value=e,this._changeDetector.detectChanges())},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetector.markForCheck()},e.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:Br,decorators:[{type:n.Optional}]}]},e.decorators=[{type:n.Component,args:[{selector:"ux-radio-button",template:'<label [attr.for]="(id || _radioButtonId) + \'-input\'"\n       class="ux-radio-button"\n       [class.ux-radio-button-checked]="value === option"\n       [class.ux-radio-button-simplified]="simplified"\n       [class.ux-radio-button-disabled]="disabled"\n       [class.ux-radio-button-focused]="_focused">\n\n    <div class="ux-radio-button-container">\n\n        <input class="ux-radio-button-input"\n            uxFocusIndicator\n            type="radio"\n            [id]="(id || _radioButtonId) + \'-input\'"\n            [checked]="value === option"\n            [disabled]="disabled"\n            [tabindex]="tabindex || value === option ? 0 : -1"\n            [attr.name]="name"\n            [required]="required"\n            [attr.aria-label]="ariaLabel"\n            [attr.aria-labelledby]="ariaLabelledby"\n            [attr.aria-describedby]="ariaDescribedby"\n            [attr.aria-checked]="value === option"\n            (indicator)="_focused = $event"\n            (change)="select()"\n            (click)="$event.stopPropagation()">\n    </div>\n\n    <span class="ux-radio-button-label">\n        <ng-content></ng-content>\n    </span>\n\n</label>\n',providers:[Nr],changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:Br,decorators:[{type:n.Optional}]}]},e.propDecorators={id:[{type:n.Input}],name:[{type:n.Input}],value:[{type:n.Input}],required:[{type:n.Input}],tabindex:[{type:n.Input}],clickable:[{type:n.Input}],disabled:[{type:n.Input}],simplified:[{type:n.Input}],option:[{type:n.Input}],ariaLabel:[{type:n.Input,args:["aria-label"]}],ariaLabelledby:[{type:n.Input,args:["aria-labelledby"]}],ariaDescribedby:[{type:n.Input,args:["aria-describedby"]}],valueChange:[{type:n.Output}]},e}(),Wr=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,h.FormsModule],exports:[Vr,Br],declarations:[Vr,Br]}]}],e}(),Ur=function(){function e(){this._nodes=[],this._links=[],this._nodeLinks=[],this._minWidth=0,this._maxWidth=1/0,this._padding=24}return e.prototype.spacing=function(e){return this._spacing=e,this},e.prototype.width=function(e){return this._width=e,this},e.prototype.height=function(e){return this._height=e,this},e.prototype.nodes=function(e){return this._nodes=e,this},e.prototype.links=function(e){return this._links=e,this},e.prototype.size=function(e,t,n){return this._minWidth=e,this._maxWidth=t,this._minHeight=n,this},e.prototype.columns=function(){for(var e=this.getColumnCount(),t=this.getColumnPadding(),n=[],i=0;i<e;i++)n[i]=this.getNodeWidth()+2*t,0!==i&&i!==e-1||(n[i]-=t-this._padding);return n},e.prototype.layout=function(){return this.getNodeLinks(),this.getNodeValues(),this.getNodeColumns(),this.getNodeWidths(),this.getNodeHeights(),this.getNodePositions(),this.getLinkPlots(),this._nodeLinks},e.prototype.link=function(e){var t=e.topLeft,n=e.topRight,i=e.bottomLeft,o=e.bottomRight,r=(n[0]-t[0])/2,a=[t[0]+r,t[1]],s=[n[0]-r,n[1]],c=[i[0]+r,i[1]],l=[o[0]-r,o[1]];return"M"+t[0]+","+t[1]+"C"+a[0]+","+a[1]+" "+s[0]+","+s[1]+" "+n[0]+","+n[1]+"L"+o[0]+","+o[1]+"C"+l[0]+","+l[1]+" "+c[0]+","+c[1]+" "+i[0]+","+i[1]+"L"+t[0]+","+t[1]},e.prototype.getFalloffPath=function(e){var t=e.x+e.width,n=e.outputs.reduce((function(e,t){return Math.max(e,t.bottomLeft[1])}),0);return"M"+t+","+n+"h 14a6,6 0 0,16,6 v"+Math.max(6,e.y+e.height-n+this._spacing/2)+"h-20Z"},e.prototype.getNodeLink=function(e){return this._nodeLinks.find((function(t){return t.node.id===e}))},e.prototype.getNodeLinks=function(){var e=this;this._nodeLinks=this._nodes.map((function(t){var n=e._links.filter((function(e){return e.target===t.id})),i=e._links.filter((function(e){return e.source===t.id}));return{node:t,inputs:n,outputs:i,value:0,column:0,x:0,y:0,width:0,height:0,naturalHeight:0,falloff:0,active:!1,focus:!1}}))},e.prototype.getNodeValues=function(){var e,t;try{for(var n=E(this._nodeLinks),i=n.next();!i.done;i=n.next()){var o=i.value;o.value=Math.max(_.sum(o.inputs,(function(e){return e.value})),_.sum(o.outputs,(function(e){return e.value})))}}catch(r){e={error:r}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.getNodeColumns=function(e,t){var n,i,o=this;void 0===e&&(e=this._nodeLinks.filter((function(e){return 0===e.inputs.length}))),void 0===t&&(t=0);try{for(var r=E(e),a=r.next();!a.done;a=r.next()){var s=a.value;s.column=t,this.getNodeColumns(s.outputs.map((function(e){return o.getNodeLink(e.target)})),t+1)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},e.prototype.getNodeWidths=function(){var e=this;this._nodeLinks.forEach((function(t){return t.width=e.getNodeWidth()}))},e.prototype.getNodeHeights=function(){var e,t,n,i,o=this.getColumnGroups(),r=Object.keys(o).map((function(e){return o[e]})),a=r.reduce((function(e,t){return Math.max(e,t.reduce((function(e,t){return e+t.value}),0))}),0);try{for(var s=E(r),c=s.next();!c.done;c=s.next()){var l=c.value;try{for(var u=(n=void 0,E(l)),p=u.next();!p.done;p=u.next()){var h=p.value;h.naturalHeight=h.value/a*this._height-this._spacing,h.height=Math.max(h.naturalHeight,this._minHeight)}}catch(d){n={error:d}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}}catch(g){e={error:g}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}if(this._minHeight>0)try{this.adjustNodeHeightsToFit(r)}catch(f){this.setNodesToNaturalHeight(r)}},e.prototype.adjustNodeHeightsToFit=function(e){for(var t,n,i,o,r=this,a=this.getLargestColumn(e);a.height>this._height;){var s=a.nodes.filter((function(e){return e.height<=r._minHeight})).length*this._minHeight+a.nodes.length*this._spacing;if(s>this._height)throw new Error("Cannot fit data into chart with minHeight = "+this._minHeight+"px (need "+s+"px; "+this._height+"px available)");var c=(this._height-s)/(a.height-s);try{for(var l=(t=void 0,E(e)),u=l.next();!u.done;u=l.next()){var p=u.value;try{for(var h=(i=void 0,E(p)),d=h.next();!d.done;d=h.next()){var g=d.value;g.height>this._minHeight&&(g.height*=c),g.height<this._minHeight&&(g.height=this._minHeight)}}catch(f){i={error:f}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}}}catch(y){t={error:y}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}a=this.getLargestColumn(e)}},e.prototype.setNodesToNaturalHeight=function(e){var t,n,i,o;try{for(var r=E(e),a=r.next();!a.done;a=r.next()){var s=a.value;try{for(var c=(i=void 0,E(s)),l=c.next();!l.done;l=c.next()){var u=l.value;u.height=u.naturalHeight}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.getColumnGroups=function(){return this._nodeLinks.reduce((function(e,t){return e[t.column]=e[t.column]||[],e[t.column].push(t),e}),{})},e.prototype.getColumnCount=function(){return this._nodeLinks.reduce((function(e,t){return Math.max(t.column+1,e)}),0)},e.prototype.getNodePositions=function(){var e,t,n=this.getColumnGroups(),i=this.getColumnPadding();try{for(var o=E(this._nodeLinks),r=o.next();!r.done;r=o.next()){var a=r.value;a.x=this.getColumnPosition(a.column)+i,0===a.column&&(a.x=this._padding),a.y=n[a.column].slice(0,n[a.column].indexOf(a)).reduce((function(e,t){return e+t.height}),0)+this._spacing*n[a.column].indexOf(a)}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.getColumnPadding=function(){var e=this.getColumnCount();return(this._width-e*this.getNodeWidth()-2*this._padding)/Math.max(2*e-2,0)},e.prototype.getLinkPlots=function(){var e,t,n,i,o,r;try{for(var a=E(this._nodeLinks),s=a.next();!s.done;s=a.next()){var c=s.value,l=c.y;try{for(var u=(n=void 0,E(c.inputs)),p=u.next();!p.done;p=u.next())(y=p.value).topRight=[c.x,l],y.bottomRight=[c.x,l+=y.value/c.value*c.height]}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}var h=0,d=c.y;try{for(var g=(o=void 0,E(c.outputs)),f=g.next();!f.done;f=g.next()){var y;(y=f.value).topLeft=[c.x+c.width,d],y.bottomLeft=[c.x+c.width,d+=y.value/c.value*c.height],h+=y.value}}catch(v){o={error:v}}finally{try{f&&!f.done&&(r=g.return)&&r.call(g)}finally{if(o)throw o.error}}c.falloff=c.value-h}}catch(b){e={error:b}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}},e.prototype.getColumnPosition=function(e){return this.columns().splice(0,e).reduce((function(e,t){return e+t}),0)},e.prototype.getNodeWidth=function(){var e=(this._width-2*this._padding)/(2*this.getColumnCount()-1);return Math.min(this._maxWidth,Math.max(this._minWidth,e))},e.prototype.getLargestColumn=function(e){var t,n,i=null,o=0;try{for(var r=E(e),a=r.next();!a.done;a=r.next()){var s=a.value,c=s.reduce((function(e,t){return e+t.height}),0)+s.length*this._spacing;c>o&&(o=c,i=s)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{nodes:i,height:o}},e}(),Gr=function(){function e(){this.active$=new t.BehaviorSubject(null),this.focused$=new t.Subject,this._nodes=[]}return Object.defineProperty(e.prototype,"_active",{get:function(){return this.active$.value},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this.active$.complete(),this.focused$.complete()},e.prototype.setNodes=function(e){this._nodes=e,this.hasActiveNode()||this.setActiveItem(this._nodes[0])},e.prototype.setActiveItem=function(e){this.active$.next(e)},e.prototype.onKeydown=function(e){switch(e.which){case l.UP_ARROW:this.shiftFocusVertically(-1),e.preventDefault();break;case l.DOWN_ARROW:this.shiftFocusVertically(1),e.preventDefault();break;case l.LEFT_ARROW:this.shiftFocusHorizontally(-1),e.preventDefault();break;case l.RIGHT_ARROW:this.shiftFocusHorizontally(1),e.preventDefault()}},e.prototype.setFocusedItem=function(e){this.setActiveItem(e),this.focused$.next(e)},e.prototype.shiftFocusVertically=function(e){var t=this,n=this.getNodesInColumn(this._active.column),i=n[n.findIndex((function(e){return e.node.id===t._active.node.id}))+e];i&&this.setFocusedItem(i)},e.prototype.shiftFocusHorizontally=function(e){var t=this,n=this.getNodesInColumn(this._active.column+e);if(0!==n.length){var i=n.reduce((function(e,n){return Math.max(e.y,t._active.y)-Math.min(e.y,t._active.y)<Math.max(n.y,t._active.y)-Math.min(n.y,t._active.y)?e:n}));i&&this.setFocusedItem(i)}},e.prototype.getNodesInColumn=function(e){return this.getNodesInOrder(this._nodes.filter((function(t){return t.column===e})))},e.prototype.getNodesInOrder=function(e){return A(e).sort((function(e,t){return e.y-t.y}))},e.prototype.hasActiveNode=function(){var e=this;return!!this.active$.value&&!!this._nodes.find((function(t){return t.node.id===e.active$.value.node.id}))},e.decorators=[{type:n.Injectable}],e}(),Kr=function(){function e(e,n){this._focusManager=e,this._elementRef=n,this.tabIndex=-1,this._onDestroy=new t.Subject}return e.prototype.ngOnInit=function(){var e=this;this._focusManager.active$.pipe(s.map((function(t){return t&&t.node.id===e.node.node.id})),s.takeUntil(this._onDestroy)).subscribe((function(t){return e.tabIndex=t?0:-1})),this._focusManager.focused$.pipe(s.filter((function(t){return t.node.id===e.node.node.id})),s.takeUntil(this._onDestroy)).subscribe((function(){return e._elementRef.nativeElement.focus()}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.onClick=function(){this._focusManager.setActiveItem(this.node)},e.prototype.onKeydown=function(e){this._focusManager.onKeydown(e)},e.ctorParameters=function(){return[{type:Gr},{type:n.ElementRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxSankeyNode]"}]}],e.ctorParameters=function(){return[{type:Gr},{type:n.ElementRef}]},e.propDecorators={node:[{type:n.Input,args:["uxSankeyNode"]}],tabIndex:[{type:n.HostBinding}],onClick:[{type:n.HostListener,args:["click"]}],onKeydown:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),qr=function(){function e(e,t,n){this._focusManager=e,this._changeDetector=t,this._colorService=n,this.nodes=[],this.links=[],this.columns=[],this.minWidth=0,this.maxWidth=1/0,this.minHeight=0,this.linkTooltip=this.getLinkTooltip,this.falloffTooltip=this.getFalloffTooltip,this._nodes=[],this._columns=[],this._isTooltipOpen=!1,this._tooltipPosition={x:0,y:0},this._isInitialised=!1,this._sankey=new Ur}return e.prototype.ngAfterViewInit=function(){if(!this.nodeTemplate)throw new Error("Sankey Chart - Node Template has not been defined.");this._width=this.nodeContainer.nativeElement.offsetWidth,this._height=this.nodeContainer.nativeElement.offsetHeight,this._render(),this._isInitialised=!0},e.prototype.ngOnChanges=function(){this._isInitialised&&this._render()},e.prototype._render=function(){this._nodes=this._sankey.nodes(this.nodes).links(this.links).spacing(14).size(this.minWidth,this.maxWidth,this.minHeight).width(this._width||this.nodeContainer.nativeElement.offsetWidth).height(this._height||this.nodeContainer.nativeElement.offsetHeight).layout(),this._focusManager.setNodes(this._nodes),this._columns=this.getColumns(),this._changeDetector.detectChanges()},e.prototype._onResize=function(e){this._width=e.width,this._height=e.height,this._render()},e.prototype._getColumnCount=function(){return this._nodes.reduce((function(e,t){return Math.max(e,t.column)}),0)},e.prototype._getPath=function(e){return this._sankey.link(e)},e.prototype._setNodeActive=function(e,t){var n=this;e.active=t,e.inputs.forEach((function(e){return e.active=t})),e.outputs.forEach((function(e){return e.active=t})),e.inputs.map((function(e){return n._sankey.getNodeLink(e.source)})).forEach((function(e){return e.active=t})),e.inputs.map((function(e){return n._sankey.getNodeLink(e.target)})).forEach((function(e){return e.active=t})),e.outputs.map((function(e){return n._sankey.getNodeLink(e.source)})).forEach((function(e){return e.active=t})),e.outputs.map((function(e){return n._sankey.getNodeLink(e.target)})).forEach((function(e){return e.active=t})),this._changeDetector.detectChanges()},e.prototype._setNodeFocus=function(e,t,n){var i=this;e.focus=t,e.inputs.forEach((function(e){return e.focus=t})),e.outputs.forEach((function(e){return e.focus=t})),e.inputs.map((function(e){return i._sankey.getNodeLink(e.source)})).forEach((function(e){return e.focus=t})),e.inputs.map((function(e){return i._sankey.getNodeLink(e.target)})).forEach((function(e){return e.focus=t})),e.outputs.map((function(e){return i._sankey.getNodeLink(e.source)})).forEach((function(e){return e.focus=t})),e.outputs.map((function(e){return i._sankey.getNodeLink(e.target)})).forEach((function(e){return e.focus=t})),this.color&&n.style.setProperty("box-shadow",this._getFocusIndicator(e),"important"),this._changeDetector.detectChanges()},e.prototype._setLinkActive=function(e,t){e.active=t,void 0!==e.source&&(this._sankey.getNodeLink(e.source).active=t),void 0!==e.target&&(this._sankey.getNodeLink(e.target).active=t),this._isTooltipOpen=t,this._tooltipContent=t?this.linkTooltip(e):"",this._changeDetector.detectChanges()},e.prototype._getLinkClass=function(e){return"ux-sankey-chart-link "+(e.active||e.focus?"ux-sankey-chart-link-active":"")},e.prototype._getFalloffPath=function(e){return this._sankey.getFalloffPath(e)},e.prototype._showFalloff=function(e){return e.column<this._columns.length-1},e.prototype._setFalloffTooltip=function(e,t){this._isTooltipOpen=t,this._tooltipContent=t?this.falloffTooltip(e.falloff):"",this._changeDetector.detectChanges()},e.prototype._setTooltipPosition=function(e){var t=this.nodeContainer.nativeElement.getBoundingClientRect(),n=e.pageX-t.left-(window.scrollX||document.documentElement.scrollLeft),i=e.pageY-t.top-(window.scrollY||document.documentElement.scrollTop);this._tooltipPosition={x:n,y:i},this._changeDetector.detectChanges()},e.prototype._trackNodeBy=function(e,t){return t.node.id},e.prototype._trackLinkBy=function(e,t){return t.source+"-"+t.target},e.prototype._getColor=function(e){if((e.active||e.focus)&&this.color)return this.color instanceof K?this.color.toRgba():this._colorService.resolve(this.color)},e.prototype._getFocusIndicator=function(e){return e.focus&&this.color?"0 0 0 1px #fff, 0 0 0 3px "+(this.color instanceof K?this.color:K.parse(this._colorService.resolve(this.color))).setAlpha(.5).toRgba():""},e.prototype.getColumns=function(){var e=this;return this._sankey.columns().map((function(t,n){return{width:t,title:e.columns[n]||"",position:e.getColumnPosition(n)}}))},e.prototype.getColumnPosition=function(e){var t=this._nodes.find((function(t){return t.column===e}));return t?t.x:0},e.prototype.getLinkTooltip=function(e){return e.value.toLocaleString("en")+" items"},e.prototype.getFalloffTooltip=function(e){return e.toLocaleString("en")+" items"},e.ctorParameters=function(){return[{type:Gr},{type:n.ChangeDetectorRef},{type:q}]},e.decorators=[{type:n.Component,args:[{selector:"ux-sankey-chart",template:'<div class="ux-sankey-chart-columns" *ngIf="columns && columns.length > 0">\n    <div *ngFor="let column of _columns"\n         class="ux-sankey-chart-column"\n         [style.width.px]="column.width">\n\n        <p class="ux-sankey-chart-column-title"\n            [style.left.px]="column.position">\n            {{ column.title }}\n        </p>\n    </div>\n</div>\n\n<svg #linkContainer\n     [attr.width]="_width"\n     [attr.height]="_height"\n     class="ux-sankey-chart-links"\n     [style.top.px]="!columns || columns.length === 0 ? 8 : null">\n\n    <defs>\n        <linearGradient id="falloff-gradient" x1="0%" y1="0%" x2="0%" y2="100%">\n            <stop class="ux-sankey-chart-falloff-gradient-start" offset="25%"></stop>\n            <stop class="ux-sankey-chart-falloff-gradient-end" offset="100%"></stop>\n        </linearGradient>\n    </defs>\n    <g>\n        <ng-container *ngFor="let node of _nodes; trackBy: _trackNodeBy">\n            <path *ngFor="let link of node.outputs; trackBy: _trackLinkBy"\n                    [attr.class]="_getLinkClass(link)"\n                    [attr.d]="_getPath(link)"\n                    [style.fill]="_getColor(link)"\n                    (mouseenter)="_setLinkActive(link, true)"\n                    (mouseleave)="_setLinkActive(link, false)"\n                    (mousemove)="_setTooltipPosition($event)">\n            </path>\n            <path *ngIf="node.falloff && _showFalloff(node)"\n                    class="ux-sankey-chart-falloff-indicator"\n                    [attr.d]="_getFalloffPath(node)"\n                    (mouseenter)="_setFalloffTooltip(node, true)"\n                    (mouseleave)="_setFalloffTooltip(node, false)"\n                    (mousemove)="_setTooltipPosition($event)">\n            </path>\n        </ng-container>\n    </g>\n</svg>\n\n<div #nodeContainer\n     class="ux-sankey-chart-nodes"\n     (uxResize)="_onResize($event)"\n     [style.top.px]="!columns || columns.length === 0 ? 8 : null">\n\n    <div *ngFor="let node of _nodes; trackBy: _trackNodeBy"\n        #nodeElement\n        [uxSankeyNode]="node"\n        uxFocusIndicator\n        class="ux-sankey-chart-node"\n        [class.ux-sankey-chart-node-active]="node.active || node.focus"\n        [style.left.px]="node.x"\n        [style.top.px]="node.y"\n        [style.width.px]="node.width"\n        [style.height.px]="node.height"\n        [style.background-color]="_getColor(node)"\n        (mouseenter)="_setNodeActive(node, true)"\n        (mouseleave)="_setNodeActive(node, false)"\n        (indicator)="_setNodeFocus(node, $event, nodeElement)">\n\n        <ng-container\n            [ngTemplateOutlet]="nodeTemplate"\n            [ngTemplateOutletContext]="{ node: node.node, active: node.active, focus: node.focus }">\n        </ng-container>\n    </div>\n\n    <ux-tooltip *ngIf="_isTooltipOpen"\n                class="ux-sankey-tooltip"\n                placement="top"\n                [content]="_tooltipContent"\n                alignment="center"\n                [style.left.px]="_tooltipPosition.x"\n                [style.top.px]="_tooltipPosition.y"\n                [@tooltipAnimation]>\n    </ux-tooltip>\n\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,viewProviders:[Gr],animations:[v.trigger("tooltipAnimation",[v.transition(":enter",[v.style({opacity:0}),v.animate(160,v.style({opacity:1}))]),v.transition(":leave",[v.animate(160,v.style({opacity:0}))])])]}]}],e.ctorParameters=function(){return[{type:Gr},{type:n.ChangeDetectorRef},{type:q}]},e.propDecorators={nodes:[{type:n.Input}],links:[{type:n.Input}],columns:[{type:n.Input}],minWidth:[{type:n.Input}],maxWidth:[{type:n.Input}],minHeight:[{type:n.Input}],linkTooltip:[{type:n.Input}],falloffTooltip:[{type:n.Input}],color:[{type:n.Input}],nodeTemplate:[{type:n.ContentChild,args:["sankeyNodeTemplate",{static:!1}]}],linkContainer:[{type:n.ViewChild,args:["linkContainer",{static:!0}]}],nodeContainer:[{type:n.ViewChild,args:["nodeContainer",{static:!0}]}]},e}(),Yr=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[qr,Kr],imports:[_e,i.CommonModule,$e,rt,Y],exports:[qr]}]}],e}(),Xr={groupId:null,index:-1},Zr=function(){function e(){this.focus$=new t.BehaviorSubject(Xr)}return e.prototype.setFocus=function(e,t){this.focus$.next({groupId:e,index:t})},e.prototype.clearFocus=function(){this.focus$.next(Xr)},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e}(),Qr=function(){function e(){this.query={},this.queryChange=new t.Subject,this.validationChange=new t.BehaviorSubject(!0),this._componentId=0,this._components=[],this._validation={}}return e.prototype.registerComponent=function(e){if(this._components.find((function(t){return t.name===e.name})))throw new Error("Search builder components must have a unique name. The name "+e.name+" has already been used.");this._components.push(e)},e.prototype.registerComponents=function(e){var t=this;e.forEach((function(e){return t.registerComponent(e)}))},e.prototype.getComponent=function(e){var t=this._components.find((function(t){return t.name===e}));if(!t)throw new Error("No search build component with the name "+e+" exists");return t.config=t.config||{},t},e.prototype.setQuery=function(e){this.query=Object.assign({},e)},e.prototype.getQuery=function(){return this.query},e.prototype.queryHasChanged=function(){this.queryChange.next(this.query)},e.prototype.setValid=function(e,t){var n=this;this._validation[e]=t,this.validationChange.next(!Object.keys(this._validation).some((function(e){return!n._validation[e]})))},e.prototype.generateComponentId=function(){return this._componentId++},e.decorators=[{type:n.Injectable}],e}(),Jr=function(){function e(e,t){this._searchBuilderService=e,this._searchBuilderFocusService=t}return e.prototype.init=function(e){var t=this;this._id=e,this._searchBuilderService.query[this._id]||(this._searchBuilderService.query[this._id]=[],setTimeout((function(){return t._searchBuilderService.queryHasChanged()})))},e.prototype.removeAtIndex=function(e){this.getQuery().splice(e,1),this._searchBuilderFocusService.setFocus(this._id,e<=0?0:e-1)},e.prototype.getQuery=function(){return this._searchBuilderService.query[this._id]?this._searchBuilderService.query[this._id]:[]},e.ctorParameters=function(){return[{type:Qr},{type:Zr}]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:Qr},{type:Zr}]},e}(),ea=function(){function e(e,i){this.searchBuilderGroupService=e,this._searchBuilderFocusService=i,this.operator="and",this.addText="Add a field",this.showPlaceholder=!1,this.add=new n.EventEmitter,this.remove=new n.EventEmitter,this.focusIndex=-1,this._onDestroy=new t.Subject}return e.prototype.ngOnInit=function(){var e=this;if(!this.id)throw new Error("Search builder group must have an id attribute.");this.searchBuilderGroupService.init(this.id),this._searchBuilderFocusService.focus$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){e.focusIndex=t.groupId===e.id?t.index:-1}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.addField=function(e){this.add.emit(e)},e.prototype.removeFieldAtIndex=function(e,t){this.searchBuilderGroupService.removeAtIndex(e),this.remove.emit(t)},e.prototype.setFocus=function(e){this._searchBuilderFocusService.setFocus(this.id,e)},e.prototype.clearFocus=function(){this._searchBuilderFocusService.clearFocus()},e.ctorParameters=function(){return[{type:Jr},{type:Zr}]},e.decorators=[{type:n.Component,args:[{selector:"ux-search-builder-group",template:'<h4 class="search-group-title">{{ header }}</h4>\n\n<div class="search-group-content">\n\n  <div class="search-group-operator search-group-operator-{{ operator }}"\n    [class.hidden-operator]="searchBuilderGroupService.getQuery().length < 2">{{ operator }}</div>\n\n  <div class="search-group-items">\n\n    <div *ngFor="let field of searchBuilderGroupService.getQuery(); let i = index"\n      class="search-group-item-container"\n      [class.search-group-item-focus]="focusIndex === i"\n      (uxFocusWithin)="setFocus(i)"\n      (uxBlurWithin)="clearFocus()">\n\n      <div class="search-group-item">\n        <ng-container *uxSearchBuilderOutlet="field.type; context: field; groupId: id; index: i"></ng-container>\n      </div>\n\n      <button type="button"\n        uxFocusIndicator\n        aria-label="Remove field"\n        class="search-group-item-remove"\n        (click)="removeFieldAtIndex(i, field)">\n\n        <ux-icon name="close"></ux-icon>\n\n      </button>\n\n    </div>\n\n    \x3c!-- Placeholder Item --\x3e\n    <ng-container *ngIf="showPlaceholder">\n\n      \x3c!-- The Default Placeholder --\x3e\n      <div class="search-group-item-container placeholder-item" *ngIf="!placeholder">\n\n        <div class="search-group-item">\n          <label class="form-label">New field</label>\n          <div class="form-control"></div>\n        </div>\n\n      </div>\n\n      \x3c!-- Allow a custom placeholder --\x3e\n      <ng-container *ngTemplateOutlet="placeholder"></ng-container>\n\n    </ng-container>\n\n  </div>\n\n  <button type="button" uxFocusIndicator class="search-builder-group-add-field" (click)="addField($event)">\n        <ux-icon class="search-builder-group-add-field-icon" name="add"></ux-icon>\n        <span class="search-builder-group-add-field-label">{{ addText }}</span>\n  </button>\n\n</div>\n\n<hr class="search-builder-group-divider">\n',providers:[Jr]}]}],e.ctorParameters=function(){return[{type:Jr},{type:Zr}]},e.propDecorators={id:[{type:n.Input}],header:[{type:n.Input}],operator:[{type:n.Input}],addText:[{type:n.Input}],placeholder:[{type:n.Input}],showPlaceholder:[{type:n.Input}],add:[{type:n.Output}],remove:[{type:n.Output}]},e}(),ta=function(){function e(e,n,i,o){this._viewContainerRef=e,this._componentFactoryResolver=n,this._searchBuilderService=i,this._searchBuilderFocusService=o,this._onDestroy=new t.Subject}return e.prototype.ngOnInit=function(){var e=this,t=this._searchBuilderService.getComponent(this.outlet),n=this._componentFactoryResolver.resolveComponentFactory(t.component);this._componentRef=this._viewContainerRef.createComponent(n);var i=Object.assign({},t.config,this.context.config||{});this._componentRef.instance.context=this.context,this._componentRef.instance.config=i,this._searchBuilderFocusService.focus$.pipe(s.distinctUntilChanged(),s.delay(0),s.takeUntil(this._onDestroy)).subscribe((function(t){e._componentRef.instance.focus=t.groupId===e.groupId&&t.index===e.index}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.ctorParameters=function(){return[{type:n.ViewContainerRef},{type:n.ComponentFactoryResolver},{type:Qr},{type:Zr}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxSearchBuilderOutlet]"}]}],e.ctorParameters=function(){return[{type:n.ViewContainerRef},{type:n.ComponentFactoryResolver},{type:Qr},{type:Zr}]},e.propDecorators={outlet:[{type:n.Input,args:["uxSearchBuilderOutlet"]}],context:[{type:n.Input,args:["uxSearchBuilderOutletContext"]}],groupId:[{type:n.Input,args:["uxSearchBuilderOutletGroupId"]}],index:[{type:n.Input,args:["uxSearchBuilderOutletIndex"]}]},e}(),na=function(){function e(e){var t=this;this._searchBuilderService=e,this.queryChange=new n.EventEmitter,this.valid=new n.EventEmitter(!0),this._querySubscription=e.queryChange.subscribe((function(e){return t.queryChange.emit(e)})),this._validSubscription=e.validationChange.pipe(s.distinctUntilChanged()).subscribe((function(e){return t.valid.emit(e)}))}return Object.defineProperty(e.prototype,"components",{set:function(e){this._searchBuilderService.registerComponents(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return this._searchBuilderService.getQuery()},set:function(e){this._searchBuilderService.setQuery(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this._querySubscription.unsubscribe(),this._validSubscription.unsubscribe()},e.ctorParameters=function(){return[{type:Qr}]},e.decorators=[{type:n.Component,args:[{selector:"ux-search-builder",template:"<ng-content></ng-content>",providers:[Qr]}]}],e.ctorParameters=function(){return[{type:Qr}]},e.propDecorators={components:[{type:n.Input}],query:[{type:n.Input}],queryChange:[{type:n.Output}],valid:[{type:n.Output}]},e}(),ia=0,oa={provide:h.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return ra})),multi:!0},ra=function(){function e(e,i,o,r,a){this._element=e,this._platform=i,this._document=o,this._typeaheadKeyService=r,this._changeDetector=a,this.id="ux-select-"+ ++ia,this.allowNull=!1,this.disabled=!1,this.dropDirection="down",this.maxHeight="250px",this.multiple=!1,this.pageSize=20,this.placeholder="",this.autocomplete="off",this.readonlyInput=!1,this.clearButton=!1,this.clearButtonAriaLabel="Reset selection",this.valueChange=new n.EventEmitter,this.inputChange=new n.EventEmitter,this.dropdownOpenChange=new n.EventEmitter,this.recentOptionsChange=new n.EventEmitter,this._value$=new t.ReplaySubject(1),this._hasValue=!1,this._input$=new t.BehaviorSubject(""),this._dropdownOpen=!1,this._userInput=!1,this._filterDebounceTime=200,this._autoCloseDropdown=!0,this._onChange=function(e){},this._onTouched=function(){},this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"input",{get:function(){return this._input$.value},set:function(e){this._input$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropdownOpen",{get:function(){return this._dropdownOpen},set:function(e){this._dropdownOpen=e,this.dropdownOpenChange.emit(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoCloseDropdown",{get:function(){return this._autoCloseDropdown},set:function(e){this._autoCloseDropdown=a.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filterDebounceTime",{get:function(){return this._filterDebounceTime},set:function(e){this._filterDebounceTime=a.coerceNumberProperty(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._value$.pipe(s.takeUntil(this._onDestroy),s.distinctUntilChanged()).subscribe((function(t){e._value=t,e._hasValue=!!t})),this._input$.pipe(s.skip(1),s.filter((function(){return e.allowNull})),s.filter((function(t){return!e.multiple&&t!==e.getDisplay(e.value)})),s.takeUntil(this._onDestroy)).subscribe((function(){e.value=null,e.valueChange.next(null),e._onChange(null)})),this.filter$.pipe(s.filter((function(){return e._userInput})),s.take(1),s.takeUntil(this._onDestroy)).subscribe((function(){e.dropdownOpen=!0,e._userInput=!1})),this._value$.pipe(s.distinctUntilChanged(),s.delay(0),s.filter((function(t){return null!==t&&!e.multiple})),s.takeUntil(this._onDestroy)).subscribe((function(t){var n=e.getDisplay(t);n!==e.input&&(e.input=n,e.inputChange.emit(e.input))}))},e.prototype.ngOnChanges=function(e){var t=this;e.multiple&&!e.multiple.firstChange&&e.multiple.currentValue!==e.multiple.previousValue&&(this.input=""),this.filter$=this._input$.pipe(s.map((function(e){return t.multiple||e!==t.getDisplay(t.value)?e:""})),s.debounceTime(this.filterDebounceTime))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.writeValue=function(e){void 0!==e&&e!==this.value&&(this.value=e,this._changeDetector.markForCheck())},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetector.markForCheck()},e.prototype.inputClickHandler=function(){this.selectInputText(),this.dropdownOpen=!0},e.prototype.inputBlurHandler=function(){var e=this;this.singleTypeahead&&this.singleTypeahead.clicking?this.singleInput.nativeElement.focus():setTimeout((function(){!e._element.nativeElement.contains(e._document.activeElement)&&e._autoCloseDropdown&&(e.dropdownOpen=!1,e.multiple||(e.input=e.getDisplay(e.value)))}),200)},e.prototype.inputKeyHandler=function(e){this._typeaheadKeyService.handleKey(e,this.singleTypeahead),e.keyCode===l.ENTER&&(this._dropdownOpen?this.singleTypeahead.selectHighlighted():this.dropdownOpen=!0,this.input=this.getDisplay(this.value),e.preventDefault()),1===e.key.length&&(this._userInput=!0,this._dropdownOpen=!0)},e.prototype.onInputChange=function(e){this.inputChange.emit(e)},e.prototype._singleOptionSelected=function(e){e.option&&e.option!==this.value&&(this.value=e.option,this.dropdownOpen=!1,this.valueChange.emit(this.value),this._onChange(this.value))},e.prototype._multipleOptionSelected=function(e){this._value$.next(e),this.valueChange.emit(this.value),this._onChange(this.value)},e.prototype.getDisplay=function(e){return null==e?"":"function"==typeof this.display?this.display(e):"string"==typeof this.display&&"object"==typeof e&&e.hasOwnProperty(this.display)?e[this.display]:e},e.prototype.toggle=function(){this.disabled||(this.dropdownOpen?this.dropdownOpen=!1:this.inputClickHandler())},e.prototype.onFocus=function(){if(this._onTouched(),this.readonlyInput){var e=this.singleInput.nativeElement;this._platform.FIREFOX?requestAnimationFrame((function(){return e.setSelectionRange(0,0)})):e.setSelectionRange(0,0)}},e.prototype.clear=function(){this.disabled||(this.value=null,this.input=null,this.selectInputText(),this.valueChange.emit(this.value),this._onChange(this.value),this.inputChange.emit(this.input))},e.prototype.selectInputText=function(){this.readonlyInput||this.singleInput.nativeElement.select()},e.ctorParameters=function(){return[{type:n.ElementRef},{type:r.Platform},{type:void 0,decorators:[{type:n.Inject,args:[i.DOCUMENT]}]},{type:Vn},{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-select, ux-combobox, ux-dropdown",template:'<ux-tag-input\r\n    *ngIf="multiple"\r\n    #tagInput="ux-tag-input"\r\n    [id]="id + \'-input\'"\r\n    [tags]="_value$ | async"\r\n    (tagsChange)="_multipleOptionSelected($event)"\r\n    [(input)]="input"\r\n    [required]="required"\r\n    (inputChange)="onInputChange($event)"\r\n    [ariaLabel]="ariaLabel"\r\n    [autocomplete]="autocomplete"\r\n    [addOnPaste]="false"\r\n    [disabled]="disabled"\r\n    [display]="display"\r\n    [freeInput]="false"\r\n    [placeholder]="placeholder || \'\'"\r\n    [tagTemplate]="tagTemplate"\r\n    (inputFocus)="onFocus()"\r\n    [showTypeaheadOnClick]="true"\r\n    [readonlyInput]="readonlyInput"\r\n    [icon]="icon"\r\n    [clearButton]="clearButton"\r\n    [autoCloseDropdown]="autoCloseDropdown"\r\n    [clearButtonAriaLabel]="clearButtonAriaLabel">\r\n\r\n    <ux-typeahead #multipleTypeahead\r\n        [id]="id + \'-typeahead\'"\r\n        [options]="options"\r\n        [filter]="filter$ | async"\r\n        [(open)]="dropdownOpen"\r\n        [display]="display"\r\n        [key]="key"\r\n        [disabledOptions]="_value$ | async"\r\n        [dropDirection]="dropDirection"\r\n        [maxHeight]="maxHeight"\r\n        [multiselectable]="true"\r\n        [pageSize]="pageSize"\r\n        [selectFirst]="true"\r\n        [loadingTemplate]="loadingTemplate"\r\n        [optionTemplate]="optionTemplate"\r\n        [noOptionsTemplate]="noOptionsTemplate"\r\n        [recentOptions]="recentOptions"\r\n        [recentOptionsMaxCount]="recentOptionsMaxCount"\r\n        (recentOptionsChange)="recentOptionsChange.emit($event)">\r\n    </ux-typeahead>\r\n\r\n</ux-tag-input>\r\n\r\n<div *ngIf="!multiple"\r\n    class="ux-select-container"\r\n    [class.disabled]="disabled"\r\n    role="combobox"\r\n    [attr.aria-expanded]="dropdownOpen"\r\n    aria-haspopup="listbox">\r\n\r\n    <input #singleInput type="text"\r\n        [attr.id]="id + \'-input\'"\r\n        class="form-control"\r\n        [required]="required"\r\n        [class.ux-tag-input-clear-inset]="clearButton && allowNull && _hasValue"\r\n        [attr.aria-activedescendant]="highlightedElement?.id"\r\n        aria-autocomplete="list"\r\n        [attr.aria-controls]="id + \'-typeahead\'"\r\n        [attr.aria-label]="ariaLabel"\r\n        aria-multiline="false"\r\n        [autocomplete]="autocomplete"\r\n        [(ngModel)]="input"\r\n        (ngModelChange)="onInputChange($event)"\r\n        [placeholder]="placeholder || \'\'"\r\n        [disabled]="disabled"\r\n        (click)="toggle()"\r\n        (focus)="onFocus()"\r\n        (blur)="inputBlurHandler()"\r\n        (keydown)="inputKeyHandler($event)"\r\n        [readonly]="readonlyInput">\r\n\r\n    <div class="ux-select-icons">\r\n        <i *ngIf="clearButton && allowNull && _hasValue"\r\n           uxFocusIndicator\r\n           [attr.tabindex]="disabled ? -1 : 0"\r\n           [attr.aria-label]="clearButtonAriaLabel"\r\n           class="ux-select-icon ux-icon ux-icon-close ux-select-clear-icon"\r\n           (click)="clear(); $event.stopPropagation()"\r\n           (keydown.enter)="clear(); $event.stopPropagation()">\r\n        </i>\r\n        <i *ngIf="!icon"\r\n           class="ux-select-icon ux-icon ux-select-chevron-icon"\r\n           [class.ux-icon-up]="dropDirection === \'up\'"\r\n           [class.ux-icon-down]="dropDirection === \'down\'"\r\n           (click)="toggle(); $event.stopPropagation()">\r\n        </i>\r\n        <div *ngIf="icon" class="ux-custom-icon">\r\n            <ng-container [ngTemplateOutlet]="icon"></ng-container>\r\n        </div>\r\n    </div>\r\n\r\n    <ux-typeahead #singleTypeahead\r\n        [id]="id + \'-typeahead\'"\r\n        [active]="_value$ | async"\r\n        [options]="options"\r\n        [filter]="filter$ | async"\r\n        [(open)]="dropdownOpen"\r\n        [display]="display"\r\n        [key]="key"\r\n        [dropDirection]="dropDirection"\r\n        [maxHeight]="maxHeight"\r\n        [multiselectable]="false"\r\n        [openOnFilterChange]="false"\r\n        [pageSize]="pageSize"\r\n        [selectFirst]="true"\r\n        [loadingTemplate]="loadingTemplate"\r\n        [optionTemplate]="optionTemplate"\r\n        [noOptionsTemplate]="noOptionsTemplate"\r\n        [recentOptions]="recentOptions"\r\n        [recentOptionsMaxCount]="recentOptionsMaxCount"\r\n        (optionSelected)="_singleOptionSelected($event)"\r\n        (highlightedElementChange)="highlightedElement = $event"\r\n        (recentOptionsChange)="recentOptionsChange.emit($event)">\r\n\r\n    </ux-typeahead>\r\n\r\n</div>\r\n',providers:[oa],host:{"[class.ux-select-custom-icon]":"!!icon","[class.ux-select-disabled]":"disabled"},changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:r.Platform},{type:void 0,decorators:[{type:n.Inject,args:[i.DOCUMENT]}]},{type:Vn},{type:n.ChangeDetectorRef}]},e.propDecorators={id:[{type:n.Input},{type:n.HostBinding,args:["attr.id"]}],value:[{type:n.Input}],input:[{type:n.Input}],dropdownOpen:[{type:n.Input}],options:[{type:n.Input}],display:[{type:n.Input}],key:[{type:n.Input}],allowNull:[{type:n.Input}],ariaLabel:[{type:n.Input}],disabled:[{type:n.Input}],dropDirection:[{type:n.Input}],maxHeight:[{type:n.Input}],multiple:[{type:n.Input}],pageSize:[{type:n.Input}],placeholder:[{type:n.Input}],tagTemplate:[{type:n.Input}],autocomplete:[{type:n.Input}],loadingTemplate:[{type:n.Input}],noOptionsTemplate:[{type:n.Input}],readonlyInput:[{type:n.Input}],clearButton:[{type:n.Input}],clearButtonAriaLabel:[{type:n.Input}],autoCloseDropdown:[{type:n.Input}],optionTemplate:[{type:n.Input}],recentOptions:[{type:n.Input}],recentOptionsMaxCount:[{type:n.Input}],required:[{type:n.Input}],filterDebounceTime:[{type:n.Input}],valueChange:[{type:n.Output}],inputChange:[{type:n.Output}],dropdownOpenChange:[{type:n.Output}],recentOptionsChange:[{type:n.Output}],icon:[{type:n.ContentChild,args:["icon",{static:!1}]}],singleInput:[{type:n.ViewChild,args:["singleInput",{static:!1}]}],tagInput:[{type:n.ViewChild,args:["tagInput",{static:!1}]}],multipleTypeahead:[{type:n.ViewChild,args:["multipleTypeahead",{static:!1}]}],singleTypeahead:[{type:n.ViewChild,args:["singleTypeahead",{static:!1}]}]},e}(),aa=function(){function e(e){this.tag=e,this._defaultPrevented=!1}return e.prototype.preventDefault=function(){this._defaultPrevented=!0},e.prototype.defaultPrevented=function(){return this._defaultPrevented},e}(),sa=0,ca={provide:h.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return ua})),multi:!0},la={provide:h.NG_VALIDATORS,useExisting:n.forwardRef((function(){return ua})),multi:!0},ua=function(){function e(e,i,o,r){this._changeDetector=e,this._element=i,this._document=o,this._typeaheadKeyService=r,this.id="ux-tag-input-"+ ++sa,this.input="",this.addOnPaste=!0,this.disabled=!1,this.enforceTagLimits=!1,this.freeInput=!0,this.readonlyInput=!1,this.maxTags=Number.MAX_VALUE,this.minTags=0,this.placeholder="",this.showTypeaheadOnClick=!1,this.tagDelimiters="",this.tagClass=function(){},this.validationErrors={},this.autocomplete="off",this.clearButton=!1,this.clearButtonAriaLabel="Reset selection",this.tagsChange=new n.EventEmitter,this.inputChange=new n.EventEmitter,this.tagAdding=new n.EventEmitter,this.tagAdded=new n.EventEmitter,this.tagInvalidated=new n.EventEmitter,this.tagRemoving=new n.EventEmitter,this.tagRemoved=new n.EventEmitter,this.tagClick=new n.EventEmitter,this.inputFocus=new n.EventEmitter,this.selectedIndex=-1,this.tagApi={getTagDisplay:this.getTagDisplay.bind(this),removeTagAt:this.removeTagAt.bind(this),canRemoveTagAt:this.canRemoveTagAt.bind(this)},this.valid=!0,this.inputValid=!0,this._tags=[],this._onChangeHandler=function(){},this._onTouchedHandler=function(){},this._onDestroy=new t.Subject,this._autoCloseDropdown=!0}return Object.defineProperty(e.prototype,"tags",{get:function(){return this._tags||(this._tags=[]),this._tags},set:function(e){this._tags=Array.isArray(e)?e:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoCloseDropdown",{get:function(){return this._autoCloseDropdown},set:function(e){this._autoCloseDropdown=a.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_showClearButton",{get:function(){return this.clearButton&&this.tags&&this.tags.length>0},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.connectTypeahead(this.typeaheadQuery.first),this.typeaheadQuery.changes.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){return e.connectTypeahead(t.first)}))},e.prototype.ngOnChanges=function(e){e.disabled&&e.disabled.currentValue&&(this.selectedIndex=-1,this.typeahead&&(this.typeahead.open=!1)),this.validate()},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe(),this._onDestroy.next(),this._onDestroy.complete()},e.prototype.writeValue=function(e){e&&(this.tags=e,this._changeDetector.markForCheck())},e.prototype.registerOnChange=function(e){this._onChangeHandler=e},e.prototype.registerOnTouched=function(e){this._onTouchedHandler=e},e.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetector.markForCheck()},e.prototype.focus=function(){this.tagInput&&this.tagInput.nativeElement.focus()},e.prototype.validate=function(){this.valid=!0;var e=null;return this.tags&&(this.tags.length<this.minTags||this.tags.length>this.maxTags)&&(e={given:this.tags.length,min:this.minTags,max:this.maxTags},this.valid=!1),this.validationErrors.tagRangeError=e,e},e.prototype.keyHandler=function(e){if(!this.disabled){var t=this.tagInput.nativeElement.selectionStart,n=this.tagInput.nativeElement.selectionStart!==this.tagInput.nativeElement.selectionEnd,i=this.isValidTagIndex(this.selectedIndex),o=i||t<=0&&!n,r=i||t>=(this.input?this.input.length:0)&&!n;switch(this._typeaheadKeyService.handleKey(e,this.typeahead),e.which){case l.ENTER:this.typeahead&&this.typeahead.open&&this.typeahead.highlighted?(this.commitTypeahead(this.typeahead.highlighted),this.typeahead.open=!1):!this.typeahead||this.typeahead.open||this.freeInput?this.commitInput():this.typeahead.open=!0,e.preventDefault();break;case l.BACKSPACE:o&&(this.backspace(),e.stopPropagation(),e.preventDefault());break;case l.DELETE:i&&this.removeTagAt(this.selectedIndex);break;case l.LEFT_ARROW:o&&(this.moveSelection(-1),e.preventDefault());break;case l.RIGHT_ARROW:r&&(this.moveSelection(1),e.preventDefault())}this.tagDelimiters&&this.tagDelimiters.indexOf(this.getKeyChar(e))>=0&&(this.commitInput(),e.stopPropagation(),e.preventDefault())}},e.prototype.focusOutHandler=function(){var e,t=this;(null===(e=this.typeahead)||void 0===e?void 0:e.clicking)||setTimeout((function(){!t._element.nativeElement.contains(t._document.activeElement)&&t.autoCloseDropdown&&(t.selectedIndex=-1,t.typeahead&&(t.typeahead.open=!1,t._changeDetector.markForCheck()))}),200)},e.prototype.onClick=function(){void 0!==this.tagInput&&(this.tagInput.nativeElement.focus(),this.inputClickHandler())},e.prototype.tagClickHandler=function(e,t,n){if(!this.disabled){var i=new aa(t);this.tagClick.emit(i),i.defaultPrevented()?e.preventDefault():this.selectTagAt(n)}},e.prototype.inputClickHandler=function(){this.disabled||this.typeahead&&this.showTypeaheadOnClick&&(this.typeahead.open=!0)},e.prototype.inputFocusHandler=function(){this.disabled||(this.selectInput(),this._onTouchedHandler())},e.prototype.inputPasteHandler=function(e){if(!this.disabled&&this.addOnPaste){var t=null;e.clipboardData?t=e.clipboardData.getData("text/plain"):window.clipboardData&&(t=window.clipboardData.getData("Text")),this.commit(t)&&(this.selectInput(),e.stopPropagation(),e.preventDefault())}},e.prototype.typeaheadOptionSelectedHandler=function(e){this.disabled||this.commitTypeahead(e.option)},e.prototype.commitInput=function(){this.commit(this.input)&&(this.selectInput(),this.setInputValue(""))},e.prototype.commitTypeahead=function(e){this.addTag(e)&&(this.selectInput(),this.setInputValue(""))},e.prototype.commit=function(e){var t,n,i,o;if(e&&this.freeInput){var r=this.splitTagInput(e),a=!0;try{for(var s=E(r),c=s.next();!c.done;c=s.next())this.validateTag(c.value)||(a=!1)}catch(p){t={error:p}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}if(a){try{for(var l=E(r),u=l.next();!u.done;u=l.next())this.addTag(this.createTag(u.value))}catch(h){i={error:h}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return!0}}return!1},e.prototype.backspace=function(){this.disabled||(this.isValidTagIndex(this.selectedIndex)?this.removeTagAt(this.selectedIndex):this.selectTagAt(this.tags.length-1))},e.prototype.moveSelection=function(e){this.disabled||this.isValidSelectIndex(this.selectedIndex)&&(this.selectedIndex+=e,this.selectedIndex<0?this.selectedIndex=this.tags.length:this.selectedIndex>this.tags.length&&(this.selectedIndex=0))},e.prototype.getTagDisplay=function(e){return"function"==typeof this.display?this.display(e):"string"==typeof this.display?e[this.display]:e},e.prototype.isSelected=function(e){return e===this.selectedIndex},e.prototype.selectTagAt=function(e){this.disabled||this.isValidTagIndex(e)&&(this.selectedIndex=e)},e.prototype.selectInput=function(){this.disabled||(this.selectedIndex=this.tags.length)},e.prototype.removeTagAt=function(e){if(!this.disabled&&this.canRemoveTagAt(e)&&this.isValidTagIndex(e)){var t=this.tags[e],n=new aa(t);this.tagRemoving.emit(n),n.defaultPrevented()||(this.selectInput(),this.tags=this.tags.filter((function(t,n){return n!==e})),this.setTagsValue(this._tags),this.selectInput(),this.tagRemoved.emit(new aa(t)),this.validate())}},e.prototype.canRemoveTagAt=function(e){return this.tags.length>this.minTags||!this.enforceTagLimits},e.prototype.isInputVisible=function(){return this.tags.length<this.maxTags||!this.enforceTagLimits},e.prototype.hasFocus=function(){return this.isValidSelectIndex(this.selectedIndex)},e.prototype.toggle=function(){this.typeahead&&this.typeahead.open?this.typeahead.open=!1:this.inputClickHandler()},e.prototype.clear=function(){this.disabled||(this.tags=[],this.setTagsValue(this._tags),this.setInputValue(""),this.focus())},e.prototype.setInputValue=function(e){this.input=e,this.inputChange.emit(e)},e.prototype.setTagsValue=function(e){this._onChangeHandler(e),this.tagsChange.emit(e)},e.prototype.connectTypeahead=function(e){var t=this;this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this.typeahead=e,this.typeahead&&(this._subscription=this.typeahead.optionSelected.subscribe(this.typeaheadOptionSelectedHandler.bind(this)),this._subscription.add(this.typeahead.highlightedElementChange.pipe(L()).subscribe((function(e){return t.highlightedElement=e}))))},e.prototype.validateTag=function(e){var t=null;return this.inputValid=!0,this.tagPattern&&!this.tagPattern.test(e)&&(t={given:e,pattern:this.tagPattern},this.inputValid=!1),this.validationErrors.inputPattern=t,this.inputValid},e.prototype.createTag=function(e){var t=null;return this.createTagHandler&&"function"==typeof this.createTagHandler?t=this.createTagHandler(e):"string"==typeof this.display?(t={})[this.display]=e:t=e,t},e.prototype.addTag=function(e){if(e){var t=this.getTagDisplay(e);if(t&&"string"==typeof t&&t.length>0){var n=new aa(e);if(this.tagAdding.emit(n),!n.defaultPrevented())return this.tags=A(this.tags,[e]),this.setTagsValue(this._tags),this.tagAdded.emit(new aa(e)),this.validate(),!0}}return!1},e.prototype.isValidTagIndex=function(e){return e>=0&&e<this.tags.length},e.prototype.isValidSelectIndex=function(e){return e>=0&&e<=this.tags.length},e.prototype.getKeyChar=function(e){switch(e.which){case l.SPACE:return" "}return e.key},e.prototype.splitTagInput=function(e){var t=[e];if(this.tagDelimiters&&"string"==typeof this.tagDelimiters){var n=this.tagDelimiters.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),i=new RegExp("["+n+"]","g");t=e.split(i).filter((function(e){return e.length>0}))}return t},e.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:n.ElementRef},{type:void 0,decorators:[{type:n.Inject,args:[i.DOCUMENT]}]},{type:Vn}]},e.decorators=[{type:n.Component,args:[{selector:"ux-tag-input",exportAs:"ux-tag-input",template:'<ol [attr.role]="typeahead ? \'combobox\' : \'none\'"\n    [attr.aria-haspopup]="typeahead ? \'listbox\' : null"\n    [class.ux-tag-input-clear-inset]="_showClearButton"\n    [class.ux-tag-input-icon-inset]="icon"\n    (click)="toggle()">\n\n    <li *ngFor="let tag of tags; let i = index" class="ux-tag"\n        [class.disabled]="disabled"\n        [ngClass]="tagClass(tag, i, isSelected(i))"\n        [attr.tabindex]="disabled ? null : 0"\n        [focusIf]="isSelected(i)"\n        (click)="tagClickHandler($event, tag, i); $event.stopPropagation()"\n        (focus)="selectTagAt(i)">\n\n        <ng-container [ngTemplateOutlet]="tagTemplate || defaultTagTemplate"\n                      [ngTemplateOutletContext]="{tag: tag, index: i, disabled: disabled, api: tagApi}">\n        </ng-container>\n\n    </li>\n    <li *ngIf="isInputVisible()" class="ux-tag-input" role="none">\n        <input #tagInput type="text" [attr.id]="id" class="ux-tag-input"\n               [ngModel]="input"\n               (ngModelChange)="setInputValue($event)"\n               [autocomplete]="autocomplete"\n               [class.invalid]="!inputValid"\n               [required]="required"\n               [attr.aria-activedescendant]="highlightedElement?.id"\n               [attr.aria-autocomplete]="typeahead ? \'list\' : \'none\'"\n               [attr.aria-controls]="typeahead?.id"\n               [attr.aria-label]="ariaLabel"\n               aria-multiline="false"\n               [placeholder]="disabled ? \'\' : (placeholder || \'\')"\n               [disabled]="disabled"\n               [focusIf]="isSelected(tags.length)"\n               (click)="toggle(); $event.stopPropagation()"\n               (focus)="inputFocusHandler(); inputFocus.emit($event)"\n               (paste)="inputPasteHandler($event)"\n               [readonly]="readonlyInput">\n    </li>\n</ol>\n\n\x3c!-- Insert the custom icon if provided --\x3e\n<div class="ux-tag-icons" *ngIf="icon || _showClearButton" (click)="toggle(); $event.stopPropagation()">\n\n    \x3c!-- Clear All Button --\x3e\n    <i uxFocusIndicator\n       class="ux-tag-icon ux-icon ux-icon-close ux-select-clear-icon"\n       [attr.tabindex]="disabled ? -1 : 0"\n       [attr.aria-label]="clearButtonAriaLabel"\n       *ngIf="_showClearButton"\n       (click)="clear(); $event.stopPropagation()"\n       (keydown.enter)="clear(); $event.stopPropagation()">\n    </i>\n\n    \x3c!-- Custom Icon --\x3e\n    <div *ngIf="icon" class="ux-custom-icon">\n        <ng-container [ngTemplateOutlet]="icon"></ng-container>\n    </div>\n</div>\n\n<ng-content #typeahead></ng-content>\n\n<ng-template #defaultTagTemplate let-tag="tag" let-index="index" let-disabled="disabled" let-api="api">\n    <span class="ux-tag-text">{{ api.getTagDisplay(tag) }}</span>\n    <button *ngIf="api.canRemoveTagAt(index)"\n            uxFocusIndicator\n            type="button"\n            class="ux-tag-remove"\n            aria-label="Remove Item"\n            [disabled]="disabled"\n            (click)="api.removeTagAt(index); $event.stopPropagation();">\n        <ux-icon name="close"></ux-icon>\n    </button>\n</ng-template>\n',providers:[ca,la],changeDetection:n.ChangeDetectionStrategy.OnPush,host:{"[class.disabled]":"disabled","[class.focus]":"hasFocus()","[class.invalid]":"!valid || !inputValid"}}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:n.ElementRef},{type:void 0,decorators:[{type:n.Inject,args:[i.DOCUMENT]}]},{type:Vn}]},e.propDecorators={id:[{type:n.Input},{type:n.HostBinding,args:["attr.id"]}],tags:[{type:n.Input}],input:[{type:n.Input}],display:[{type:n.Input}],addOnPaste:[{type:n.Input}],ariaLabel:[{type:n.Input}],disabled:[{type:n.Input}],required:[{type:n.Input}],enforceTagLimits:[{type:n.Input}],freeInput:[{type:n.Input}],readonlyInput:[{type:n.Input}],maxTags:[{type:n.Input}],minTags:[{type:n.Input}],placeholder:[{type:n.Input}],showTypeaheadOnClick:[{type:n.Input}],tagDelimiters:[{type:n.Input}],tagPattern:[{type:n.Input}],tagTemplate:[{type:n.Input}],tagClass:[{type:n.Input}],validationErrors:[{type:n.Input}],autocomplete:[{type:n.Input}],createTagHandler:[{type:n.Input,args:["createTag"]}],icon:[{type:n.Input}],clearButton:[{type:n.Input}],clearButtonAriaLabel:[{type:n.Input}],autoCloseDropdown:[{type:n.Input}],tagsChange:[{type:n.Output}],inputChange:[{type:n.Output}],tagAdding:[{type:n.Output}],tagAdded:[{type:n.Output}],tagInvalidated:[{type:n.Output}],tagRemoving:[{type:n.Output}],tagRemoved:[{type:n.Output}],tagClick:[{type:n.Output}],inputFocus:[{type:n.Output}],typeaheadQuery:[{type:n.ContentChildren,args:[qn]}],tagInput:[{type:n.ViewChild,args:["tagInput",{static:!1}]}],keyHandler:[{type:n.HostListener,args:["keydown",["$event"]]}],focusOutHandler:[{type:n.HostListener,args:["focusout"]}],onClick:[{type:n.HostListener,args:["click"]}]},e}(),pa=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,h.FormsModule,un,Pe,ci],exports:[ua],declarations:[ua]}]}],e}(),ha=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,h.FormsModule,ti,pa,ci,r.PlatformModule],exports:[ra],declarations:[ra]}]}],e}(),da=function(){function e(e){this._searchBuilderService=e,this._id=this._searchBuilderService.generateComponentId(),this._valid=!0}return Object.defineProperty(e.prototype,"id",{get:function(){return"ux-search-builder-search-component-"+this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.context.value},set:function(e){this.context.value=e,this._searchBuilderService.queryHasChanged(),this.validate()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this._valid},set:function(e){this._valid=e,this._searchBuilderService.setValid(this._id,e)},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this.valid=!0},e.prototype.validate=function(){this.valid=!this.config.validation||this.config.validation(this,this.value)},e.ctorParameters=function(){return[{type:Qr}]},e.decorators=[{type:n.Component,args:[{selector:"ux-base-search",template:""}]}],e.ctorParameters=function(){return[{type:Qr}]},e}(),ga=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="date-range",t}return D(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return this.config.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"from",{get:function(){return this.value&&this.value.from||(this.from=new Date),this.value.from instanceof Date==0&&(this.value.from=new Date(this.value.from)),this.value.from},set:function(e){var t=Object.assign({},this.value);e instanceof Date==0&&(e=new Date(e)),t.from=e,this.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"to",{get:function(){return this.value&&this.value.to||(this.to=new Date),this.value.to instanceof Date==0&&(this.value.to=new Date(this.value.to)),this.value.to},set:function(e){var t=Object.assign({},this.value);e instanceof Date==0&&(e=new Date(e)),t.to=e,this.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fromLabel",{get:function(){return this.config.fromLabel||"From"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toLabel",{get:function(){return this.config.toLabel||"To"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fromPlaceholder",{get:function(){return this.config.fromPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toPlaceholder",{get:function(){return this.config.toPlaceholder},enumerable:!1,configurable:!0}),t.prototype.validate=function(){if(this.config.validation)return e.prototype.validate.call(this);var t=new Date(this.value.from),n=new Date(this.value.to);t.setHours(0,0,0,0),n.setHours(0,0,0,0),this.valid=t<=n},t.decorators=[{type:n.Component,args:[{selector:"ux-search-date-range",template:'<label class="form-label" *ngIf="label">{{ label }}</label>\n\n<div class="row">\n    <div class="col-sm-12">\n        <div class="form-inline" [class.has-error]="!valid">\n\n            <div class="form-group p-r-md">\n                <label class="form-label m-r-xs">{{ fromLabel }}</label>\n\n                <div class="input-group date m-nil">\n                    <span class="input-group-addon p-r-xs" tabindex="1" (click)="fromPopover.show()">\n                        <ux-icon name="calendar"></ux-icon>\n                    </span>\n                    <input type="text" #fromPopover="ux-popover" [ngModel]="from | date:\'dd MMMM yyyy\'"\n                        [uxPopover]="fromPopoverTemplate" placement="bottom" popoverClass="date-time-picker-popover"\n                        class="form-control" aria-label="Selected date" [placeholder]="fromPlaceholder" [focusIf]="focus">\n                </div>\n            </div>\n\n            <div class="form-group p-r-xs">\n                <label class="form-label m-r-xs">{{ toLabel }}</label>\n\n                <div class="input-group date m-nil">\n                    <span class="input-group-addon" tabindex="1" (click)="toPopover.show()">\n                        <ux-icon name="calendar"></ux-icon>\n                    </span>\n                    <input type="text" #toPopover="ux-popover" [ngModel]="to | date:\'dd MMMM yyyy\'"\n                        [uxPopover]="toPopoverTemplate" placement="bottom" popoverClass="date-time-picker-popover"\n                        class="form-control" aria-label="Selected date" [placeholder]="toPlaceholder">\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>\n\n<ng-template #fromPopoverTemplate>\n    <ux-date-time-picker [(date)]="from" [showTime]="false"></ux-date-time-picker>\n</ng-template>\n\n<ng-template #toPopoverTemplate>\n    <ux-date-time-picker [(date)]="to" [showTime]="false"></ux-date-time-picker>\n</ng-template>'}]}],t}(da),fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="date",t}return D(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return this.config.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.config.placeholder||"Enter date"},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.value||(this.value=new Date)},t.decorators=[{type:n.Component,args:[{selector:"ux-search-date",template:'<label class="form-label" *ngIf="label">{{ label }}</label>\n\n<div class="input-group date m-nil">\n    <span class="input-group-addon" tabindex="1" (click)="popover.show()">\n        <ux-icon name="calendar"></ux-icon>\n    </span>\n    <input type="text"\n        class="form-control"\n        aria-label="Selected date"\n        [placeholder]="placeholder"\n        #popover="ux-popover"\n        [ngModel]="value | date:\'dd MMMM yyyy\'"\n        [uxPopover]="popoverTemplate"\n        placement="bottom"\n        popoverClass="date-time-picker-popover"\n        [focusIf]="focus">\n</div>\n\n<ng-template #popoverTemplate>\n    <ux-date-time-picker [(date)]="value" [showTime]="false"></ux-date-time-picker>\n</ng-template>'}]}],t}(da),ya=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="select",t}return D(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return this.config.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.config.options||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multiple",{get:function(){return this.config.multiple||!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.config.placeholder||"Select item"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropDirection",{get:function(){return this.config.dropDirection||"down"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowNull",{get:function(){return this.config.allowNull||!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.config.disabled||!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this.config.maxHeight||"250px"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageSize",{get:function(){return this.config.pageSize||20},enumerable:!1,configurable:!0}),t.decorators=[{type:n.Component,args:[{selector:"ux-search-select",template:'<label class="form-label" *ngIf="label">{{ label }}</label>\n\n<ux-select [(value)]="value"\n           [options]="options"\n           [multiple]="multiple"\n           [placeholder]="placeholder"\n           [dropDirection]="dropDirection"\n           [pageSize]="pageSize"\n           [allowNull]="allowNull"\n           [disabled]="disabled"\n           [maxHeight]="maxHeight"\n           [key]="config.key"\n           [display]="config.display"\n           [loadingTemplate]="config.loadingTemplate"\n           [optionTemplate]="config.optionTemplate"\n           [noOptionsTemplate]="config.noOptionsTemplate"\n           [focusIf]="focus">\n</ux-select>'}]}],t}(da),ma=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="text",t}return D(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return this.config.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.config.placeholder||"Enter text"},enumerable:!1,configurable:!0}),t.decorators=[{type:n.Component,args:[{selector:"ux-search-text",template:'<label *ngIf="label" class="form-label" [attr.for]="id">{{ label }}</label>\n<input type="text" [attr.id]="id" class="form-control" [placeholder]="placeholder" [(ngModel)]="value" [focusIf]="focus">\n'}]}],t}(da),va=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,kn,un,h.FormsModule,Pe,to,ha],exports:[na,ea,da],declarations:[na,ea,ma,fa,ga,ta,ya,da],entryComponents:[ma,fa,ga,ya]}]}],e}(),ba=function(){function e(e){this.selectionService=e}return e.prototype.setSelectionService=function(e){this.selectionService=e},e.prototype.mousedown=function(e,t){},e.prototype.click=function(e,t){},e.prototype.keydown=function(e,t){},e.prototype.select=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.selectionService).select.apply(e,A(t))},e.prototype.selectOnly=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.selectionService).selectOnly.apply(e,A(t))},e.prototype.toggle=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.selectionService).toggle.apply(e,A(t))},e.prototype.deselect=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.selectionService).deselect.apply(e,A(t))},e.prototype.selectAll=function(){this.select.apply(this,A(this.selectionService.dataset))},e.prototype.deselectAll=function(){this.selectionService.deselectAll()},e.prototype.destroy=function(){},e}(),_a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._selection={start:null,end:null},t}return D(t,e),t.prototype.mousedown=function(e){e.preventDefault()},t.prototype.click=function(e,t){var n=e.ctrlKey;return e.shiftKey?this.multipleSelect(t):n?this.toggle(t):void this.singleSelect(t)},t.prototype.keydown=function(e,t){switch(e.which){case l.UP_ARROW:case l.DOWN_ARROW:e.preventDefault(),this.navigate(e,t);break;case l.SPACE:e.preventDefault(),this.selectionService.strategy.toggle(t),this.selectionService.activate(t)}},t.prototype.toggle=function(t){e.prototype.toggle.call(this,t),this.selectionService.isSelected(t)?this.setSelectionStart(t):this.clearSelection()},t.prototype.singleSelect=function(e){this.deselectAll(),this.select(e),this.setSelectionStart(e)},t.prototype.multipleSelect=function(e){if(!this._selection.start)return this.select(e),this.setSelectionStart(e);this._selection.start&&this._selection.end&&this.deselect.apply(this,A(this.getSelectedItems())),this.setSelectionEnd(e),this.select.apply(this,A(this.getSelectedItems()))},t.prototype.setSelectionStart=function(e){this._selection.start=e,this._selection.end=null,this.selectionService.activate(e)},t.prototype.setSelectionEnd=function(e){this._selection.end=e,this.selectionService.activate(e)},t.prototype.clearSelection=function(e){void 0===e&&(e=!0),this._selection={start:null,end:null},e&&this.selectionService.deactivate()},t.prototype.getSelectedItems=function(){var e=this.selectionService.dataset,t=e.indexOf(this._selection.start),n=e.indexOf(this._selection.end);return e.slice(Math.min(t,n),Math.max(t,n)+1)},t.prototype.navigate=function(e,t){var n=e.shiftKey;e.ctrlKey||n||(this.deselectAll(),this.clearSelection(!1));var i=this.selectionService.activateSibling(e.which===l.UP_ARROW);n&&i&&(this._selection.start||this.multipleSelect(t),this.multipleSelect(i))},t}(ba),xa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.keydown=function(e,t){switch(e.which){case l.UP_ARROW:case l.DOWN_ARROW:e.preventDefault(),this.handleCursorKey(e,t);break;case l.SPACE:e.preventDefault(),this.selectionService.strategy.toggle(t)}},t.prototype.handleCursorKey=function(e,t){var n=e.ctrlKey;if(n||e.shiftKey||(this.deselectAll(),this.clearSelection(!1)),n)this.selectionService.activateSibling(e.which===l.UP_ARROW);else{var i=this.selectionService.getSibling(e.which===l.UP_ARROW);this.multipleSelect(i||t)}},t}(_a),wa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.click=function(e,t){this.toggle(t)},t.prototype.keydown=function(e,t){switch(e.which){case l.UP_ARROW:return e.preventDefault(),void this.selectionService.activateSibling(!0);case l.DOWN_ARROW:return e.preventDefault(),void this.selectionService.activateSibling(!1);case l.SPACE:return e.preventDefault(),this.toggle(t)}},t.prototype.toggle=function(t){e.prototype.toggle.call(this,t),this.selectionService.activate(t)},t}(ba),Sa=function(){function e(){this.strategy=new wa(this),this.isEnabled=!0,this.isClickEnabled=!0,this.isKeyboardEnabled=!0,this.focus$=new t.BehaviorSubject(null),this.active$=new t.BehaviorSubject(null),this.selection$=new t.BehaviorSubject([]),this._dataset=[],this._strategyToDestroy=this.strategy,this._selection=new Set,this._disabled=new Set}return Object.defineProperty(e.prototype,"dataset",{get:function(){return this._dataset},set:function(e){this._dataset=e,-1===this._dataset.indexOf(this._active)&&this.setFirstItemFocusable()},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this._strategyToDestroy&&this._strategyToDestroy.destroy(),this.focus$.complete(),this.active$.complete(),this.selection$.complete()},e.prototype.select=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(t=t.filter((function(t){return!e._disabled.has(t)}))).forEach((function(t){return e._selection.add(t)})),this.selectionHasMutated()},e.prototype.selectOnly=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t=t.filter((function(t){return!e._disabled.has(t)})),this._selection.clear(),t.forEach((function(t){return e._selection.add(t)})),this.selectionHasMutated()},e.prototype.deselect=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){return e._selection.delete(t)})),this.selectionHasMutated()},e.prototype.deselectAll=function(){this.deselect.apply(this,A(this._dataset)),this._selection.clear()},e.prototype.toggle=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){return e.isSelected(t)?e.deselect(t):e.select(t)}))},e.prototype.isSelected=function(e){return this._selection.has(e)},e.prototype.getSelectionState=function(e){var t=this;return this.selection$.pipe(s.map((function(){return t.isSelected(e)})),s.distinctUntilChanged())},e.prototype.setStrategy=function(e){if(this._strategyToDestroy&&(this._strategyToDestroy.destroy(),this._strategyToDestroy=null),e instanceof ba)this.strategy=e,this.strategy.setSelectionService(this);else switch(e.toLowerCase().trim()){case"simple":this.strategy=this._strategyToDestroy=new wa(this);break;case"row":this.strategy=this._strategyToDestroy=new _a(this);break;case"row-alt":this.strategy=this._strategyToDestroy=new xa(this);break;default:throw new Error("The selection mode '"+e+"' does not exist. Valid modes are 'simple', 'row', or 'row-alt'.")}},e.prototype.activate=function(e){this._active=e,this.active$.next(this._active)},e.prototype.deactivate=function(){this._active=null,this.active$.next(this._active)},e.prototype.getSibling=function(e){if(void 0===e&&(e=!1),this._active){var t=this.dataset.indexOf(this._active);return this.dataset[e?t-1:t+1]}},e.prototype.activateSibling=function(e){void 0===e&&(e=!1);var t=this.getSibling(e);return t&&this.activate(t),t},e.prototype.setDisabled=function(e){this.isEnabled=!e,this._active=null,this.active$.next(this._active),this._selection.clear(),this.selectionHasMutated()},e.prototype.setItemDisabled=function(e,t){t&&!this._disabled.has(e)?this._disabled.add(e):t||this._disabled.delete(e)},e.prototype.selectionHasMutated=function(){this.selection$.next(Array.from(this._selection))},e.prototype.setFirstItemFocusable=function(){this._dataset.length>0?(this.focus$.next(this._dataset[0]),this._active=this._dataset[0]):this._active=null},e.decorators=[{type:n.Injectable}],e}(),Ca=function(){function e(e,n,i){var o=this;this._selection=e,this.tabindex=-1,this._onDestroy=new t.Subject,this._focusIndicator=i.monitor(n.nativeElement),e.active$.pipe(s.takeUntil(this._onDestroy),s.filter((function(e){return e===o.data}))).subscribe((function(t){e.focus$.next(t),n.nativeElement.focus()})),e.focus$.pipe(s.takeUntil(this._onDestroy),L()).subscribe((function(e){return o.tabindex=e===o.data?0:-1}))}return Object.defineProperty(e.prototype,"selected",{get:function(){return this._selection.isSelected(this.data)},set:function(e){e?this._selection.select(this.data):this._selection.deselect(this.data)},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete(),this._focusIndicator.destroy()},e.prototype.onMouseDown=function(e){this._selection.strategy.mousedown(e,this.data)},e.prototype.onClick=function(e){this._selection.strategy.click(e,this.data)},e.prototype.onKeydown=function(e){this._selection.strategy.keydown(e,this.data)},e.ctorParameters=function(){return[{type:Sa},{type:n.ElementRef},{type:ie}]},e.decorators=[{type:n.Component,args:[{selector:"ux-select-list-item",template:"<ng-content></ng-content>",host:{role:"listitem"}}]}],e.ctorParameters=function(){return[{type:Sa},{type:n.ElementRef},{type:ie}]},e.propDecorators={data:[{type:n.Input}],tabindex:[{type:n.HostBinding,args:["tabindex"]}],selected:[{type:n.HostBinding,args:["class.selected"]},{type:n.HostBinding,args:["attr.aria-selected"]}],onMouseDown:[{type:n.HostListener,args:["mousedown",["$event"]]}],onClick:[{type:n.HostListener,args:["click",["$event"]]}],onKeydown:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),Da=function(){function e(e,i,o,r,a){this._selectionService=e,this._elementRef=i,this.focusIndicatorService=o,this._managedFocusContainerService=r,this._changeDetector=a,this.tabindex=null,this.selectedChange=new n.EventEmitter,this.active=!1,this.isFocused=!1,this._selected=!1,this._isDisabled=!1,this._managedTabIndex=-1,this._hasPendingStateChange=!1,this._onDestroy=new t.Subject,this._focusIndicator=o.monitor(i.nativeElement)}return Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){e?this.select():this.deselect()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uxSelectionDisabled",{set:function(e){this._selected&&e&&this.deselect(),this._selectionService.setItemDisabled(this.uxSelectionItem,e),this._isDisabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attrTabIndex",{get:function(){return null!==this.tabindex?this.tabindex:this._managedTabIndex},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;if(!this.uxSelectionItem)throw new Error("The uxSelectionItem directive must have data associated with it.");this._selectionService.getSelectionState(this.uxSelectionItem).pipe(s.skip(1),s.tap((function(){return e._hasPendingStateChange=!0})),s.debounceTime(0),s.takeUntil(this._onDestroy)).subscribe((function(t){e._hasPendingStateChange=!1,e._selected!==t&&(e._selected=t,e.selectedChange.emit(t),e._changeDetector.markForCheck())})),this._selected=this._selectionService.isSelected(this.uxSelectionItem),this._selectionService.active$.pipe(s.takeUntil(this._onDestroy),s.map((function(t){return t===e.uxSelectionItem}))).subscribe((function(t){e.active=t,!0===t&&(e._selectionService.focus$.next(e.uxSelectionItem),e._elementRef.nativeElement.focus())})),this._selectionService.focus$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){e._managedTabIndex=t===e.uxSelectionItem?0:-1})),this._managedFocusContainerService.register(this._elementRef.nativeElement,this),this._focusIndicator.origin$.pipe(s.map((function(e){return"keyboard"===e})),s.takeUntil(this._onDestroy)).subscribe((function(t){e.isFocused=t,e._changeDetector.markForCheck()}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete(),this._focusIndicator.destroy(),this._managedFocusContainerService.unregister(this._elementRef.nativeElement,this)},e.prototype.click=function(e){!this._isDisabled&&!this._hasPendingStateChange&&this._selectionService.isEnabled&&this._selectionService.isClickEnabled&&this._selectionService.strategy.click(e,this.uxSelectionItem)},e.prototype.mousedown=function(e){!this._isDisabled&&this._selectionService.isEnabled&&this._selectionService.isClickEnabled&&this._selectionService.strategy.mousedown(e,this.uxSelectionItem)},e.prototype.keydown=function(e){(!this._isDisabled||e.keyCode!==l.SPACE)&&this._selectionService.isEnabled&&this._selectionService.isKeyboardEnabled&&this._selectionService.strategy.keydown(e,this.uxSelectionItem)},e.prototype.focus=function(){this._selectionService.active$.getValue()!==this.uxSelectionItem&&this._selectionService.activate(this.uxSelectionItem)},e.prototype.select=function(){!this._isDisabled&&this._selectionService.isEnabled&&this._selectionService.strategy.select(this.uxSelectionItem)},e.prototype.deselect=function(){!this._isDisabled&&this._selectionService.isEnabled&&this._selectionService.strategy.deselect(this.uxSelectionItem)},e.ctorParameters=function(){return[{type:Sa},{type:n.ElementRef},{type:ie},{type:ue},{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxSelectionItem]",exportAs:"ux-selection-item"}]}],e.ctorParameters=function(){return[{type:Sa},{type:n.ElementRef},{type:ie},{type:ue},{type:n.ChangeDetectorRef}]},e.propDecorators={uxSelectionItem:[{type:n.Input}],selected:[{type:n.Input},{type:n.HostBinding,args:["class.ux-selection-selected"]},{type:n.HostBinding,args:["attr.aria-selected"]}],tabindex:[{type:n.Input}],uxSelectionDisabled:[{type:n.Input}],selectedChange:[{type:n.Output}],isFocused:[{type:n.HostBinding,args:["class.ux-selection-focused"]}],attrTabIndex:[{type:n.HostBinding,args:["attr.tabindex"]}],click:[{type:n.HostListener,args:["click",["$event"]]}],mousedown:[{type:n.HostListener,args:["mousedown",["$event"]]}],keydown:[{type:n.HostListener,args:["keydown",["$event"]]}],focus:[{type:n.HostListener,args:["focus"]}]},e}(),ka=function(){function e(e,i){var o=this;this._selectionService=e,this._cdRef=i,this.tabindex=null,this.uxSelectionChange=new n.EventEmitter,this._onDestroy=new t.Subject,this._lastSelection=[],e.selection$.pipe(s.debounceTime(0),s.takeUntil(this._onDestroy)).subscribe((function(e){o.isSelectionChanged(e)&&o.uxSelectionChange.emit(e),o._lastSelection=A(e)}))}return Object.defineProperty(e.prototype,"uxSelection",{set:function(e){var t;this._lastSelection=e,(t=this._selectionService).selectOnly.apply(t,A(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{set:function(e){this._selectionService.setDisabled(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mode",{set:function(e){this._selectionService.setStrategy(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clickSelection",{set:function(e){this._selectionService.isClickEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keyboardSelection",{set:function(e){this._selectionService.isKeyboardEnabled=e},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.update(),this.items.changes.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.update()}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.update=function(){this._selectionService.dataset=this.items.map((function(e){return e.uxSelectionItem})),null===this._selectionService.focus$.getValue()&&this._selectionService.dataset.length>0&&this._selectionService.focus$.next(this._selectionService.dataset[0]),this._cdRef.detectChanges()},e.prototype.selectAll=function(){this._selectionService.isEnabled&&this._selectionService.strategy.selectAll()},e.prototype.deselectAll=function(){this._selectionService.isEnabled&&this._selectionService.strategy.deselectAll()},e.prototype.isSelectionChanged=function(e){return!((this._lastSelection||!e)&&this._lastSelection.length===e.length&&(0===this._lastSelection.length&&0===e.length||this._lastSelection.every((function(t){return-1!==e.indexOf(t)}))))},e.ctorParameters=function(){return[{type:Sa},{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxSelection]",exportAs:"ux-selection",providers:[Sa]}]}],e.ctorParameters=function(){return[{type:Sa},{type:n.ChangeDetectorRef}]},e.propDecorators={uxSelection:[{type:n.Input}],disabled:[{type:n.Input}],mode:[{type:n.Input}],clickSelection:[{type:n.Input}],keyboardSelection:[{type:n.Input}],tabindex:[{type:n.Input},{type:n.HostBinding,args:["attr.tabindex"]}],uxSelectionChange:[{type:n.Output}],items:[{type:n.ContentChildren,args:[Da]}]},e}(),Ia=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule],declarations:[ka,Da],exports:[ka,Da]}]}],e}(),Oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.mousedown=function(e){e.preventDefault()},t.prototype.click=function(e,t){if(this.selectionService.activate(t),e.shiftKey)return this.multipleSelect(t);this.selectionService.isSelected(t)?(this.deselect(t),this._lastSelection=null):(this.select(t),this._lastSelection=t)},t.prototype.keydown=function(e,t){switch(e.which){case l.UP_ARROW:e.preventDefault();var n=this.selectionService.activateSibling(!0);e.shiftKey&&(this.select(t,n),this._lastSelection=n);break;case l.DOWN_ARROW:e.preventDefault(),n=this.selectionService.activateSibling(!1),e.shiftKey&&(this.select(t,n),this._lastSelection=n);break;case l.SPACE:case l.ENTER:e.preventDefault(),this.toggle(t),this._lastSelection=this.selectionService.isSelected(t)?t:null}},t.prototype.multipleSelect=function(e){if(!this._lastSelection)return this.select(e),void(this._lastSelection=e);this.select.apply(this,A(this.getSelectedItems(this._lastSelection,e))),this._lastSelection=e},t.prototype.getSelectedItems=function(e,t){var n=this.selectionService.dataset,i=n.indexOf(e),o=n.indexOf(t);return n.slice(Math.min(i,o),Math.max(i,o)+1)},t}(ba),Pa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.click=function(e,t){this.selectionService.activate(t),this.selectionService.isSelected(t)?this.deselect(t):this.selectOnly(t)},t.prototype.keydown=function(e,t){switch(e.which){case l.UP_ARROW:e.preventDefault(),this.selectionService.activateSibling(!0);break;case l.DOWN_ARROW:e.preventDefault(),this.selectionService.activateSibling(!1);break;case l.SPACE:case l.ENTER:e.preventDefault(),this.click(null,t)}},t}(ba),Ta=function(){function e(e){var i=this;this._selection=e,this.selectedChange=new n.EventEmitter,this._onDestroy=new t.Subject,this._selection.setStrategy(new Pa),this._selection.selection$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){return i.selectedChange.emit(e)}))}return Object.defineProperty(e.prototype,"multiple",{set:function(e){this._selection.strategy.deselectAll(),this._selection.setStrategy(e?new Oa:new Pa)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{set:function(e){var t;this._selection.selection$.value!==e&&(Array.isArray(e)&&0===e.length&&0===this._selection.selection$.value.length||(Array.isArray(e)?(t=this._selection).selectOnly.apply(t,A(e)):this._selection.selectOnly(e)))},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this._selection.dataset=this.items.map((function(e){return e.data})),this.items.changes.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e._selection.dataset=e.items.map((function(e){return e.data}))}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.ctorParameters=function(){return[{type:Sa}]},e.decorators=[{type:n.Component,args:[{selector:"ux-select-list",template:"<ng-content></ng-content>",providers:[Sa],host:{role:"list"}}]}],e.ctorParameters=function(){return[{type:Sa}]},e.propDecorators={multiple:[{type:n.Input}],selected:[{type:n.Input}],selectedChange:[{type:n.Output}],items:[{type:n.ContentChildren,args:[Ca]}]},e}(),Ea=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e],declarations:[Ta,Ca],exports:[Ta,Ca]}]}],e}(),Ra=function(){function e(e){this._changeDetector=e,this.filter="",this.disabled=!1,this.placeholder="Type to filter...",this.ariaLabel="",this.selectedChange=new n.EventEmitter,this.filterChange=new n.EventEmitter,this.dropdownOpenChange=new n.EventEmitter,this.dropdownOpen=!1,this.onChange=function(){},this.onTouched=function(){},this._onDestroy$=new t.Subject}return Object.defineProperty(e.prototype,"maxHeight",{set:function(e){this._maxHeight=a.coerceCssPixelValue(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnChanges=function(e){e.dropdownOpen&&!e.dropdownOpen.firstChange&&e.dropdownOpen.currentValue!==e.dropdownOpen.previousValue&&(e.dropdownOpen.currentValue?this.menuTrigger.openMenu():this.menuTrigger.closeMenu()),e.selected&&(this.menuTrigger&&!e.selected.firstChange&&this.menuTrigger.closeMenu(),this.resetFilter(),this.selectedChange.emit(e.selected.currentValue),this.onChange(e.selected.currentValue),this.onTouched())},e.prototype.ngAfterViewInit=function(){var e=this;this.dropdownOpen&&Promise.resolve().then((function(){return e.menuTrigger.openMenu()}))},e.prototype.ngOnDestroy=function(){this._onDestroy$.next(),this._onDestroy$.complete()},e.prototype.resetFilter=function(){this.filter="",this.filterChange.emit(this.filter),this._focusFilter()},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this.selected=e,this._changeDetector.markForCheck()},e.prototype.resetValue=function(e){this.disabled||(this.writeValue(void 0),this.selectedChange.emit(void 0),e.stopPropagation())},e.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetector.markForCheck()},e.prototype.onMenuOpen=function(){!0!==this.dropdownOpen&&(this.dropdownOpen=!0,this.dropdownOpenChange.emit(this.dropdownOpen),this._focusFilter())},e.prototype.onMenuClose=function(){!1!==this.dropdownOpen&&(this.dropdownOpen=!1,this.dropdownOpenChange.emit(this.dropdownOpen))},e.prototype._focusFilter=function(){this.filterInputElement&&this.filterInputElement.nativeElement.focus()},e.prototype.inputFocusHandler=function(){this.dropdownOpen||(this.dropdownOpen=!0,this.dropdownOpenChange.emit(this.dropdownOpen))},e.prototype.toggleMenu=function(){this.disabled||(this.dropdownOpen=!this.dropdownOpen,this.dropdownOpenChange.emit(this.dropdownOpen),this.menuTrigger.toggleMenu())},e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-input-dropdown",template:'<div class="ux-select-container">\n    <button #button type="button" class="form-control"\n            [uxMenuTriggerFor]="menu"\n            [disabled]="disabled">\n        <ng-template #defaultDisplayContent>{{selected ? (selected | json) : \'-\'}}</ng-template>\n        <ng-container [ngTemplateOutlet]="displayContentRef || defaultDisplayContent"></ng-container>\n    </button>\n    <div class="ux-select-icons">\n        <ux-icon name="close"\n                 uxFocusIndicator\n                 class="ux-select-icon ux-select-clear-icon"\n                 *ngIf="allowNull && selected"\n                 (click)="resetValue($event)"\n                 (keydown.enter)="resetValue($event)"\n                 tabindex="0">\n        </ux-icon>\n        <ux-icon name="chevron-down"\n                 class="ux-select-icon ux-select-chevron-icon"\n                 (click)="toggleMenu(); $event.stopPropagation()">\n        </ux-icon>\n    </div>\n</div>\n\n<ux-menu #menu menuClass="select-menu"\n         (opened)="onMenuOpen()"\n         (closed)="onMenuClose()"\n         [attr.aria-expanded]="dropdownOpen">\n\n    <div [style.max-height]="_maxHeight"\n         [style.width.px]="button.offsetWidth">\n\n        <div *ngIf="!hideFilter"\n             class="filter-container">\n\n            <input #filterInput\n                    type="text"\n                    [placeholder]="placeholder"\n                    class="form-control"\n                    [(ngModel)]="filter"\n                    (input)="filterChange.emit(filter)"\n                    (click)="$event.stopPropagation()"\n                    [attr.aria-label]="ariaLabel || placeholder"\n                    (focus)="inputFocusHandler()">\n\n            <button type="button"\n                    class="btn btn-flat filter-button"\n                    (click)="resetFilter(); $event.stopPropagation();"\n                    [tabindex]="filter.length > 0 ? 0 : -1">\n                <ux-icon [name]="filter.length === 0 ? \'search\' : \'close\'"></ux-icon>\n            </button>\n        </div>\n\n        <ng-content></ng-content>\n\n    </div>\n</ux-menu>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,providers:[{provide:h.NG_VALUE_ACCESSOR,multi:!0,useExisting:n.forwardRef((function(){return e}))}],host:{"[class.ux-select-disabled]":"disabled"}}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.propDecorators={selected:[{type:n.Input}],filter:[{type:n.Input}],hideFilter:[{type:n.Input}],maxHeight:[{type:n.Input}],disabled:[{type:n.Input}],allowNull:[{type:n.Input}],placeholder:[{type:n.Input}],ariaLabel:[{type:n.Input,args:["aria-label"]}],selectedChange:[{type:n.Output}],filterChange:[{type:n.Output}],dropdownOpenChange:[{type:n.Output}],dropdownOpen:[{type:n.Input}],displayContentRef:[{type:n.ContentChild,args:["displayContent",{static:!1}]}],menuTrigger:[{type:n.ViewChild,args:[Li,{static:!1}]}],filterInputElement:[{type:n.ViewChild,args:["filterInput",{static:!1}]}]},e}(),Aa=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,h.FormsModule,Pe,$i,_e],declarations:[Ra],exports:[Ra]}]}],e}(),Ma=function(){function e(e,t){this._service=e,this._focusOrigin=t}return e.prototype.onClick=function(e){this._focusOrigin.setOrigin($(e)?"keyboard":"mouse"),this._service.close()},e.ctorParameters=function(){return[{type:vo},{type:ne}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxSidePanelClose]"}]}],e.ctorParameters=function(){return[{type:vo},{type:ne}]},e.propDecorators={onClick:[{type:n.HostListener,args:["click",["$event"]]}]},e}(),La=[bo,Ma],$a=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,o.A11yModule,un],exports:La,declarations:La}]}],e}(),Fa=function(){function e(e){this._colorService=e,this.values=[],this.barHeight=10,this._theme="primary",this._barColor=[]}return Object.defineProperty(e.prototype,"theme",{get:function(){return this._theme},set:function(e){this._theme=this._colorService.resolveColorName(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackColor",{get:function(){return this._trackColor},set:function(e){this._trackColor=this._colorService.resolve(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"barColor",{get:function(){return this._barColor},set:function(e){var t=this;this._barColor=Array.isArray(e)?e.map((function(e){return t._colorService.resolve(e)})):[this._colorService.resolve(e)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.values},set:function(e){var t=Array.isArray(e)?e:[e],n=Math.max(t.reduce((function(e,t){return e+t}),0),100);this.values=t.map((function(e){return e/n*100}))},enumerable:!1,configurable:!0}),e.prototype.getAriaLabel=function(){if(!Array.isArray(this.ariaLabel))return this.ariaLabel||this.tooltip},e.prototype.getSegmentAriaLabel=function(e){if(Array.isArray(this.ariaLabel))return this.ariaLabel[e]},e.ctorParameters=function(){return[{type:q}]},e.decorators=[{type:n.Component,args:[{selector:"ux-spark",template:'\x3c!-- Inline Spark Chart --\x3e\n<div *ngIf="inlineLabel" class="ux-spark-inline-label-container">\n\n    <div class="ux-spark-inline-label-left" [innerHtml]="inlineLabel"></div>\n\n    <div class="ux-spark-line">\n\n        <div class="ux-spark-top-container" *ngIf="topLeftLabel || topRightLabel">\n            <div class="ux-spark-label-top-left" *ngIf="topLeftLabel" [innerHtml]="topLeftLabel"></div>\n            <div class="ux-spark-label-top-right" *ngIf="topRightLabel" [innerHtml]="topRightLabel"></div>\n        </div>\n\n        <div role="progressbar"\n            [attr.aria-label]="getAriaLabel()"\n            [attr.aria-description]="ariaDescription"\n            aria-valuemin="0"\n            aria-valuemax="100"\n            [attr.aria-valuenow]="values.length === 1 ? values[0] : undefined"\n            class="ux-spark ux-inline ux-spark-theme-{{theme}}"\n            [style.height.px]="barHeight"\n            [style.backgroundColor]="trackColor"\n            [uxTooltip]="tooltip">\n\n            <div class="ux-spark-bar"\n                *ngFor="let line of values; let idx = index"\n                [attr.aria-label]="getSegmentAriaLabel(idx)"\n                [style.width.%]="line"\n                [style.backgroundColor]="barColor[idx]">\n            </div>\n        </div>\n\n        <div class="ux-spark-bottom-container" *ngIf="bottomLeftLabel || bottomRightLabel">\n            <div class="ux-spark-label-bottom-left" *ngIf="bottomLeftLabel" [innerHtml]="bottomLeftLabel"></div>\n            <div class="ux-spark-label-bottom-right" *ngIf="bottomRightLabel" [innerHtml]="bottomRightLabel"></div>\n        </div>\n\n    </div>\n</div>\n\n\x3c!-- End Inline Spark Chart --\x3e\n\n\n\x3c!-- Non Inline Spark Chart --\x3e\n<div *ngIf="!inlineLabel" [attr.aria-label]="ariaLabel" [attr.aria-description]="ariaDescription">\n\n    <div class="ux-spark-top-container" *ngIf="topLeftLabel || topRightLabel">\n        <div class="ux-spark-label-top-left" *ngIf="topLeftLabel" [innerHtml]="topLeftLabel"></div>\n        <div class="ux-spark-label-top-right" *ngIf="topRightLabel" [innerHtml]="topRightLabel"></div>\n    </div>\n\n    <div role="progressbar"\n        [attr.aria-label]="getAriaLabel()"\n        [attr.aria-description]="ariaDescription"\n        aria-valuemin="0"\n        aria-valuemax="100"\n        [attr.aria-valuenow]="values.length === 1 ? values[0] : undefined"\n        class="ux-spark ux-spark-theme-{{theme}}"\n        [class.ux-spark-multi-value]="values.length > 1"\n        [style.height.px]="barHeight"\n        [style.backgroundColor]="trackColor"\n        [uxTooltip]="tooltip">\n\n        <div class="ux-spark-bar"\n            *ngFor="let line of value; let idx = index"\n            [attr.aria-label]="getSegmentAriaLabel(idx)"\n            [style.width.%]="line"\n            [style.backgroundColor]="barColor[idx]">\n        </div>\n    </div>\n\n    <div class="ux-spark-bottom-container" *ngIf="bottomLeftLabel || bottomRightLabel">\n        <div class="ux-spark-label-bottom-left" *ngIf="bottomLeftLabel" [innerHtml]="bottomLeftLabel"></div>\n        <div class="ux-spark-label-bottom-right" *ngIf="bottomRightLabel" [innerHtml]="bottomRightLabel"></div>\n    </div>\n</div>\n\n\x3c!-- End Non Inline Spark Chart --\x3e',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:q}]},e.propDecorators={barHeight:[{type:n.Input}],inlineLabel:[{type:n.Input}],topLeftLabel:[{type:n.Input}],topRightLabel:[{type:n.Input}],bottomLeftLabel:[{type:n.Input}],bottomRightLabel:[{type:n.Input}],tooltip:[{type:n.Input}],ariaLabel:[{type:n.Input,args:["aria-label"]}],ariaDescription:[{type:n.Input,args:["aria-description"]}],theme:[{type:n.Input}],trackColor:[{type:n.Input}],barColor:[{type:n.Input}],value:[{type:n.Input}]},e}(),Ha=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,Y,rt],exports:[Fa],declarations:[Fa]}]}],e}();function ja(e){return void 0!==e.name}var Ba,Na,za=function(){function e(){}return e.prototype.getDeselectedColumnsInPresentationOrder=function(e,t){var n;if(t){var i=this.normalizeColumns(e);i.sort(t),n=this.denormalizeColumns(i,e)}else{var o=e.filter((function(e){return ja(e)&&void 0!==e.group}));n=A(o,e.filter((function(e){return-1===o.indexOf(e)})))}return n},e.prototype.createTreeData=function(e){var t=this,n=[],i=e.filter((function(e){return ja(e)&&void 0!==e.group}));return e.forEach((function(e){-1!==i.indexOf(e)&&ja(e)?(t.createOrFindGroupNode(e,n).children.push(e.name),t.createColumnTreeNode(e,n,1)):ja(e)||t.createColumnTreeNode(e,n,0)})),n},e.prototype.normalizeColumns=function(e){return e.map((function(e){return{name:ja(e)?e.name:e,group:ja(e)?e.group:void 0}}))},e.prototype.denormalizeColumns=function(e,t){return e.map((function(e){return t.find((function(t){return!!ja(t)&&t.group===e.group&&t.name===e.name}))||e.name}))},e.prototype.createOrFindGroupNode=function(e,t){var n=t.find((function(t){return t.name===e.group&&t.expandable}));return n||(n=this.createGroupTreeNode(e,t)),n},e.prototype.createGroupTreeNode=function(e,t){return t.push({name:e.group,level:0,expandable:!0,isExpanded:this.isGroupTreeNodeExpanded(e.group),column:e,children:[]}),t[t.length-1]},e.prototype.createColumnTreeNode=function(e,t,n){t.push({name:ja(e)?e.name:e,level:n,expandable:!1,column:e})},e.prototype.isGroupTreeNodeExpanded=function(e){var t=this.groups.find((function(t){return t.name===e}));return!!t&&t.expanded},e.decorators=[{type:n.Injectable}],e}(),Va=function(){function e(e,t,i){this._columnPicker=e,this._liveAnnouncer=t,this._changeDetectorRef=i,this.selected=[],this.locked=[],this.deselected=[],this.selectedAriaLabel=this.getDefaultSelectedAriaLabel,this.deselectedGroupAriaLabel=this.getDefaultDeselectedGroupAriaLabel,this.columnMovedAnnouncement=this.getColumnMovedAnnouncement,this.selectedChange=new n.EventEmitter,this.deselectedChange=new n.EventEmitter,this._treeControl=new w.FlatTreeControl((function(e){return e.level}),(function(e){return e.expandable})),this._availableDeselectedColumns=0,this._deselectedSelection=[],this._selectedSelection=[],this._selection=[]}return Object.defineProperty(e.prototype,"groups",{get:function(){return this._columnPicker.groups},set:function(e){this._columnPicker.groups=e},enumerable:!1,configurable:!0}),e.prototype.ngOnChanges=function(e){e.deselected&&e.deselected.currentValue!==e.deselected.previousValue&&this.rebuildDeselectTree()},e.prototype.rebuildDeselectTree=function(){var e=this._columnPicker.getDeselectedColumnsInPresentationOrder(this.deselected.slice(),this.sort),t=this._columnPicker.createTreeData(e);this._treeData=t,this._treeDataSource=new x.ArrayDataSource(t),this.updateAvailableDeselectedColumns()},e.prototype.addColumns=function(e){var t=this;void 0===e&&(e=this._deselectedSelection);var n=e.filter((function(e){return-1===t.selected.indexOf(e)}));this.selected=A(this.selected,n),this.deselected=this.deselected.filter((function(e){return-1===n.indexOf(e)})),this.selectedChange.emit(this.selected),this.deselectedChange.emit(this.deselected),this.updateAvailableDeselectedColumns(),this._deselectedSelection=[]},e.prototype.removeColumns=function(e){void 0===e&&(e=this._selectedSelection),this.selected=this.selected.filter((function(t){return-1===e.indexOf(t)})),this.deselected=A(this.deselected,e),this.selectedChange.emit(this.selected),this.deselectedChange.emit(this.deselected),this.updateAvailableDeselectedColumns(),this._selectedSelection=[]},e.prototype.addAllColumns=function(){this.addColumns(this.deselected)},e.prototype.removeAllColumns=function(){this.removeColumns(this.selected)},e.prototype.storeSelection=function(){this._selection=A(this._selectedSelection)},e.prototype.restoreSelection=function(){this._selectedSelection=this._selection},e.prototype.onReorder=function(){this.selectedChange.emit(this.selected)},e.prototype.getDefaultDeselectedGroupAriaLabel=function(e,t){return"Toggle "+e},e.prototype.getDefaultSelectedAriaLabel=function(e,t){return e+". Press Alt up and alt down to reorder."},e.prototype.getColumnMovedAnnouncement=function(e,t){return e+" column moved "+(t>0?"down":"up")},e.prototype.move=function(e,t){var n=this,i=this.selected.indexOf(e);this.swap(i,i+t),this.selected.indexOf(e)!==i&&this._liveAnnouncer.announce("Column moved "+(t>0?"down":"up")),this.selectedChange.emit(this.selected),this._changeDetectorRef.detectChanges(),setTimeout((function(){var t=n.selected.indexOf(e),i=n.selectedElements.toArray()[t];i&&i.nativeElement.focus()}))},e.prototype.selectedTrackBy=function(e,t){return e+function(e){return ja(e)?e.name:e}(t)},e.prototype.swap=function(e,t){var n;if(!(t<0||t>this.selected.length-1)){var i=A(this.selected);n=R([i[e],i[t]],2),i[t]=n[0],i[e]=n[1],this.selected=A(i)}},e.prototype._getColumnName=function(e){return ja(e)?e.name:e},e.prototype._nodeHasChildren=function(e,t){return t.expandable},e.prototype._nodeHasAvailableChildren=function(e){var t=this;return e.children.filter((function(e){return-1===t.selected.indexOf(e)})).length>0},e.prototype._shouldRenderNode=function(e){var t=this,n=this.getTreeParent(e);return(!n||n.isExpanded)&&!this.selected.find((function(n){return t._getColumnName(n)===e.name}))},e.prototype.getTreeParent=function(e){var t=this._treeData.indexOf(e);if(e.level>0)for(var n=t-1;n>=0;n--)if(0===this._treeData[n].level)return this._treeData[n];return null},e.prototype.updateAvailableDeselectedColumns=function(){this._availableDeselectedColumns=this.deselected.length},e.prototype.onReorderChange=function(e){this.selected=A(e)},e.prototype._getActionContext=function(){return{addSelection:this._deselectedSelection,removeSelection:this._selectedSelection,addColumns:this.addColumns.bind(this),removeColumns:this.removeColumns.bind(this),addAllColumns:this.addAllColumns.bind(this),removeAllColumns:this.removeAllColumns.bind(this)}},e.prototype._setNodeExpanded=function(e,t){var n=this;e.isExpanded=t,requestAnimationFrame((function(){return n._changeDetectorRef.detectChanges()}))},e.ctorParameters=function(){return[{type:za},{type:o.LiveAnnouncer},{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-column-picker",template:'<div class="column-picker-column">\n\n    <div class="column-picker-stats">\n\n        <ng-container *ngIf="!deselectedTitleTemplate">\n            {{ _deselectedSelection.length }} of {{ _availableDeselectedColumns }} selected\n        </ng-container>\n\n        <ng-container\n            *ngIf="deselectedTitleTemplate"\n            [ngTemplateOutlet]="deselectedTitleTemplate">\n        </ng-container>\n    </div>\n\n    <cdk-tree class="column-picker-list"\n        [dataSource]="_treeDataSource"\n        [treeControl]="_treeControl"\n        [(uxSelection)]="_deselectedSelection"\n        tabindex="-1"\n        uxTabbableList>\n\n        \x3c!-- Create item for not expandable node --\x3e\n        <cdk-tree-node *cdkTreeNodeDef="let node"\n            [attr.aria-hidden]="selected && selected.indexOf(node.name) > -1">\n            <div uxTabbableListItem\n                [uxSelectionItem]="node.column"\n                *ngIf="_shouldRenderNode(node)"\n                class="column-picker-list-item"\n                [ngClass]="\'column-picker-tree-node-level-\' + node.level">\n\n                <ng-container *ngIf="!deselectedTemplate">{{ node.name }}</ng-container>\n\n                <ng-container\n                    *ngIf="deselectedTemplate"\n                    [ngTemplateOutlet]="deselectedTemplate"\n                    [ngTemplateOutletContext]="{ $implicit: node.name }">\n                </ng-container>\n            </div>\n\n        </cdk-tree-node>\n\n        \x3c!-- Create item for expandable node --\x3e\n        <cdk-tree-node *cdkTreeNodeDef="let node; when: _nodeHasChildren"\n            [attr.aria-expanded]="node.isExpanded">\n\n            <div *ngIf="_nodeHasAvailableChildren(node)"\n                class="column-picker-tree-group-node">\n\n                <button uxTabbableListItem\n                    (click)="_setNodeExpanded(node, !node.isExpanded)"\n                    (keydown.arrowright)="_setNodeExpanded(node, true)"\n                    (keydown.arrowleft)="_setNodeExpanded(node, false)"\n                    [style.visibility]="node.expandable ? \'visible\' : \'hidden\'"\n                    [attr.aria-label]="deselectedGroupAriaLabel(node.name, node.isExpanded)"\n                    class="column-picker-group-toggle-btn">\n\n                    <ux-icon [name]="node.isExpanded ? \'chevron-down\' : \'chevron-right\'"></ux-icon>\n\n                    <ng-container *ngIf="!deselectedTemplate">{{ node.name }}</ng-container>\n\n                    <ng-container\n                        *ngIf="deselectedTemplate"\n                        [ngTemplateOutlet]="deselectedTemplate"\n                        [ngTemplateOutletContext]="{ $implicit: node.name }">\n                    </ng-container>\n                </button>\n\n            </div>\n        </cdk-tree-node>\n    </cdk-tree>\n</div>\n\n<div class="column-picker-actions-column">\n    \x3c!-- Show the default action buttons --\x3e\n    <ng-container *ngIf="!actionsTemplate">\n        <button class="btn button-primary btn-block"\n                [disabled]="_deselectedSelection.length === 0"\n                (click)="addColumns()">\n            <ux-icon name="chevron-right"></ux-icon>\n        </button>\n\n        <button class="btn button-primary btn-block m-b-md"\n                [disabled]="_selectedSelection.length === 0"\n                (click)="removeColumns()">\n            <ux-icon name="chevron-left"></ux-icon>\n        </button>\n\n        <button class="btn button-secondary btn-block"\n                [disabled]="_availableDeselectedColumns === 0"\n                (click)="addAllColumns()">\n            <ux-icon name="chevron-right-double"></ux-icon>\n        </button>\n\n        <button class="btn button-secondary btn-block"\n                [disabled]="selected.length === 0"\n                (click)="removeAllColumns()">\n            <ux-icon name="chevron-left-double"></ux-icon>\n        </button>\n    </ng-container>\n\n    \x3c!-- Allow custom actions template --\x3e\n    <ng-container\n        *ngIf="actionsTemplate"\n        [ngTemplateOutlet]="actionsTemplate"\n        [ngTemplateOutletContext]="_getActionContext()">\n    </ng-container>\n\n</div>\n\n<div class="column-picker-column">\n    <div class="column-picker-stats">\n\n        <ng-container *ngIf="!selectedTitleTemplate">\n            {{ selected.length + locked.length }} columns added\n        </ng-container>\n\n        <ng-container\n            *ngIf="selectedTitleTemplate"\n            [ngTemplateOutlet]="selectedTitleTemplate">\n        </ng-container>\n    </div>\n\n    <div class="column-picker-list">\n\n        <div *ngFor="let column of locked"\n             class="column-picker-list-item column-picker-list-item-locked">\n\n             <ng-container *ngIf="!lockedTemplate">\n                {{ column }} <ux-icon name="lock"></ux-icon>\n            </ng-container>\n\n             <ng-container\n                *ngIf="lockedTemplate"\n                [ngTemplateOutlet]="lockedTemplate"\n                [ngTemplateOutletContext]="{ $implicit: column }">\n            </ng-container>\n        </div>\n\n        <div [(uxSelection)]="_selectedSelection"\n             uxReorderable\n             [reorderableModel]="selected"\n             (reorderableModelChange)="onReorderChange($event)"\n             (reorderStart)="storeSelection()"\n             (reorderEnd)="restoreSelection()"\n             (reorderEnd)="onReorder()">\n\n            <div *ngFor="let column of selected; trackBy: selectedTrackBy; let index = index"\n                 #selectedColumn\n                 uxFocusIndicator\n                 [programmaticFocusIndicator]="true"\n                 class="column-picker-list-item column-picker-list-item-selected"\n                 [uxSelectionItem]="column"\n                 [uxReorderableModel]="column"\n                 [attr.aria-label]="selectedAriaLabel(column, selected.indexOf(column))"\n                 (keydown.alt.arrowup)="move(column, -1)"\n                 (keydown.alt.arrowdown)="move(column, 1)">\n\n                 <ng-container *ngIf="!selectedTemplate">\n                    <ux-icon uxReorderableHandle name="drag" class="drag-handle-icon"></ux-icon>\n                    {{ _getColumnName(column) }}\n                 </ng-container>\n\n                 <ng-container\n                    *ngIf="selectedTemplate"\n                    [ngTemplateOutlet]="selectedTemplate"\n                    [ngTemplateOutletContext]="{ $implicit: column }">\n                </ng-container>\n            </div>\n        </div>\n\n    </div>\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,providers:[za]}]}],e.ctorParameters=function(){return[{type:za},{type:o.LiveAnnouncer},{type:n.ChangeDetectorRef}]},e.propDecorators={selected:[{type:n.Input}],locked:[{type:n.Input}],deselected:[{type:n.Input}],selectedTitleTemplate:[{type:n.Input}],deselectedTitleTemplate:[{type:n.Input}],deselectedTemplate:[{type:n.Input}],selectedTemplate:[{type:n.Input}],lockedTemplate:[{type:n.Input}],actionsTemplate:[{type:n.Input}],selectedAriaLabel:[{type:n.Input}],deselectedGroupAriaLabel:[{type:n.Input}],columnMovedAnnouncement:[{type:n.Input}],groups:[{type:n.Input}],sort:[{type:n.Input}],selectedChange:[{type:n.Output}],deselectedChange:[{type:n.Output}],selectedElements:[{type:n.ViewChildren,args:["selectedColumn"]}]},e}(),Wa=function(){function e(){this.onResize$=new t.Subject,this.tableWidth=0,this.isResizing$=new t.BehaviorSubject(!1),this.isInitialised$=new t.BehaviorSubject(!1),this.columns=[]}return e.prototype.ngOnDestroy=function(){this.onResize$.complete()},e.prototype.setResizing=function(e){this.isResizing$.next(e)},e.prototype.getColumnWidth=function(e,t,n){switch(void 0===n&&(n=this.columns),t){case Ba.Percentage:return n[e];case Ba.Pixel:return this.tableWidth/100*n[e]}},e.decorators=[{type:n.Injectable}],e}();!function(e){e[e.Pixel=0]="Pixel",e[e.Percentage=1]="Percentage"}(Ba||(Ba={})),function(e){e[e.Standard=0]="Standard",e[e.Expand=1]="Expand"}(Na||(Na={}));var Ua,Ga=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=Na.Standard,t}return D(t,e),t.prototype.setColumns=function(e){var t=this;this._columns=e,this.columns=e.map((function(e){return e.getNaturalWidth()/t.tableWidth*100})),this.columns=this.ensureNoOverflow(this.columns),this._columns.forEach((function(e,n){e.disabled||t.resizeColumn(n,0,!1)})),!1===this.isInitialised$.value&&this.isInitialised$.next(!0)},t.prototype.setUniformWidths=function(){var e=this;this.columns=this._columns.map((function(t){return t.disabled?t.getNaturalWidth()/e.tableWidth*100:0}));var t=this.columns.reduce((function(e,t){return e+t}));if(t>100)this.columns=this.ensureNoOverflow(this.columns);else{var n=(100-t)/this._columns.toArray().filter((function(e){return!e.disabled})).length;this.columns=this._columns.map((function(t,i){return t.disabled?e.columns[i]:n}))}this._columns.forEach((function(t,n){t.disabled||e.resizeColumn(n,0,!1)}))},t.prototype.ensureNoOverflow=function(e){var t=this;if(e.reduce((function(e,t){return e+t}))<=100)return e;var n=this._columns.filter((function(n){return!n.disabled&&t.getColumnWidth(n.getCellIndex(),Ua.Pixel,e)>n.minWidth}));if(0===n.length)return e;var i=this._columns.reduce((function(n,i){return n+t.getColumnWidth(i.getCellIndex(),Ua.Pixel,e)}),0),o=n.reduce((function(n,i){return n+t.getColumnWidth(i.getCellIndex(),Ua.Pixel,e)}),0),r=o-(this.tableWidth-(i-o)),a=n.reduce((function(n,i){return t.getColumnWidth(i.getCellIndex(),Ua.Pixel,e)>t.getColumnWidth(n.getCellIndex(),Ua.Pixel,e)?i:n}));return(e=this.setColumnWidth(a.getCellIndex(),this.getColumnWidth(a.getCellIndex(),Ua.Pixel,e)-r,Ua.Pixel,e)).reduce((function(e,t){return e+t}))>100.01?this.ensureNoOverflow(e):e},t.prototype.setColumnWidth=function(e,t,n,i){void 0===i&&(i=this.columns);var o=A(i);switch(n){case Ua.Percentage:o[e]=t;break;case Ua.Pixel:o[e]=t/this.tableWidth*100}return o},t.prototype.resizeColumn=function(e,t,n){void 0===n&&(n=!0);var i=this.getSiblingColumn(e);if(i){var o=A(this.columns);if(o=this.setColumnWidth(e,Math.round(this.getColumnWidth(e,Ua.Pixel)+t),Ua.Pixel,o),o=this.setColumnWidth(i,Math.round(this.getColumnWidth(i,Ua.Pixel)-t),Ua.Pixel,o),this.isWidthValid(e,this.getColumnWidth(e,Ua.Pixel,o))&&this.isWidthValid(i,this.getColumnWidth(i,Ua.Pixel,o))){var r=o.reduce((function(e,t){return t+e}),0);if(100!==r){var a=this.getVariableColumn(100-r);a&&!n?o[this._columns.toArray().indexOf(a)]+=100-r:o[e]+=100-r}this.columns=o,this.onResize$.next()}}},t.prototype.getVariableColumn=function(e){var t=this;return this._columns.filter((function(e){return!e.isFixedWidth&&!e.disabled})).reverse().find((function(n){return t.getColumnWidth(n.getCellIndex(),Ua.Pixel)>=n.minWidth+e}))},t.prototype.getColumn=function(e){return this._columns?this._columns.toArray()[e]:null},t.prototype.getColumnDisabled=function(e){return!!this.getColumn(e)&&this.getColumn(e).disabled},t.prototype.isWidthValid=function(e,t){var n=this.getColumnInstance(e);return n&&t>=n.minWidth},t.prototype.getSiblingColumn=function(e){for(var t=e+1;t<this.columns.length;t++){var n=this.getColumnInstance(t);if(!n||!n.disabled)return t}return null},t.prototype.getColumnInstance=function(e){return this._columns?this._columns.toArray()[e]:null},t.decorators=[{type:n.Injectable}],t}(Wa);!function(e){e[e.Pixel=0]="Pixel",e[e.Percentage=1]="Percentage"}(Ua||(Ua={}));var Ka,qa=new n.InjectionToken("RESIZABLE_TABLE_SERVICE_TOKEN"),Ya=function(){function e(e,n,i){this._elementRef=e,this._renderer=n,this._table=i,this._onDestroy=new t.Subject}return e.prototype.ngOnInit=function(){var e=this;this._minWidth=parseFloat(getComputedStyle(this._elementRef.nativeElement).minWidth),this._table.isInitialised$.value&&(this.setColumnWidth(),this.setColumnFlex()),t.combineLatest([this._table.onResize$,this._table.isResizing$]).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){e.setColumnWidth(),e.setColumnFlex()}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.getCellIndex=function(){return this._elementRef.nativeElement.cellIndex},e.prototype.setColumnWidth=function(){var e=this._table.isResizing$.value||this._table.getColumnDisabled(this.getCellIndex())?this._table.getColumnWidth(this.getCellIndex(),Ua.Pixel)+"px":this._table.getColumnWidth(this.getCellIndex(),Ua.Percentage)+"%";if(this._table.type===Na.Expand){var t=Math.max(this._table.getColumnWidth(this.getCellIndex(),Ua.Pixel),this._minWidth);this._renderer.setStyle(this._elementRef.nativeElement,"min-width",t+"px")}this._renderer.setStyle(this._elementRef.nativeElement,"width",e)},e.prototype.setColumnFlex=function(){if(this._table.isResizing$.value||this._table.getColumnDisabled(this.getCellIndex()))this._renderer.setStyle(this._elementRef.nativeElement,"flex","none");else{var e=this._table.isInitialised$.value?"0 1 "+this._table.getColumnWidth(this.getCellIndex(),Ua.Percentage)+"%":"";this._renderer.setStyle(this._elementRef.nativeElement,"flex",e)}},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:Wa,decorators:[{type:n.Inject,args:[qa]}]}]},e.decorators=[{type:n.Component,args:[{selector:"[uxResizableTableCell]",template:'<div class="ux-resizable-table-cell-content">\n    <ng-content></ng-content>\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:Wa,decorators:[{type:n.Inject,args:[qa]}]}]},e}(),Xa=function(){function e(e,i,o){this._elementRef=e,this._table=i,this._renderer=o,this._handleVisible=!0,this.disabled=!1,this.widthChange=new n.EventEmitter,this.isFixedWidth=!1,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"handleVisible",{get:function(){return this._handleVisible},set:function(e){this._handleVisible=a.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(e){if(null!=e)if(this._width=a.coerceNumberProperty(e),this.isFixedWidth=!0,this._table.isInitialised$.value){var t=this._table.getColumnWidth(this.getCellIndex(),Ua.Pixel);isNaN(t)?this._table.resizeColumn(this.getCellIndex(),this._width,!1):this._table.resizeColumn(this.getCellIndex(),this._width-t,!1)}else this._renderer.setStyle(this._elementRef.nativeElement,"width",this._width+"px")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){var e=parseFloat(getComputedStyle(this._elementRef.nativeElement).minWidth);return this.disabled?this._elementRef.nativeElement.offsetWidth:isNaN(e)?0:e},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this._table.isInitialised$.pipe(s.takeUntil(this._onDestroy),s.filter((function(e){return e}))).subscribe((function(){e._minWidth=parseFloat(getComputedStyle(e._elementRef.nativeElement).minWidth);var t=e._table.getColumnWidth(e.getCellIndex(),Ua.Pixel);isNaN(t)||e.widthChange.emit(t)})),this._table.onResize$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){e.setColumnWidth(),e.setColumnFlex();var t=e._table.getColumnWidth(e.getCellIndex(),Ua.Pixel);!isNaN(t)&&(void 0===e._width||Math.max(t,e._width)-Math.min(t,e._width)>=1)&&e.widthChange.emit(t)}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.getNaturalWidth=function(){return this._width||this._elementRef.nativeElement.offsetWidth},e.prototype.onDragStart=function(e){this._offset=e.clientX-e.target.getBoundingClientRect().left},e.prototype.onDragMove=function(e,t){var n=e.pageX-pageXOffset-(t.getBoundingClientRect().left+this._offset);this._table.resizeColumn(this.getCellIndex(),n),this._table.setResizing(!0)},e.prototype.onDragEnd=function(){this._table.setResizing(!1)},e.prototype.onMoveLeft=function(){this._table.resizeColumn(this.getCellIndex(),-10)},e.prototype.onMoveRight=function(){this._table.resizeColumn(this.getCellIndex(),10)},e.prototype.getCellIndex=function(){return this._elementRef.nativeElement.cellIndex},e.prototype.setColumnWidth=function(){if(this.disabled&&void 0!==this._width)return this._renderer.setStyle(this._elementRef.nativeElement,"width",this._width+"px"),void this._renderer.setStyle(this._elementRef.nativeElement,"max-width",this._width+"px");if(this._table.isInitialised$.value){var e=this._table.isResizing$.value?this._table.getColumnWidth(this.getCellIndex(),Ua.Pixel)+"px":this._table.getColumnWidth(this.getCellIndex(),Ua.Percentage)+"%";if(this._table.type===Na.Expand){var t=Math.max(this._table.getColumnWidth(this.getCellIndex(),Ua.Pixel),this._minWidth);this._renderer.setStyle(this._elementRef.nativeElement,"min-width",t+"px")}this._renderer.setStyle(this._elementRef.nativeElement,"width",e),this._renderer.setStyle(this._elementRef.nativeElement,"max-width",null)}},e.prototype.setColumnFlex=function(){(this._table.isResizing$.value||this.disabled)&&this._renderer.setStyle(this._elementRef.nativeElement,"flex","none");var e=this._table.isInitialised$.value?"0 1 "+this._table.getColumnWidth(this.getCellIndex(),Ua.Percentage)+"%":"";this._renderer.setStyle(this._elementRef.nativeElement,"flex",e)},e.ctorParameters=function(){return[{type:n.ElementRef},{type:Wa,decorators:[{type:n.Inject,args:[qa]}]},{type:n.Renderer2}]},e.decorators=[{type:n.Component,args:[{selector:"[uxResizableTableColumn]",template:'<div class="ux-resizable-table-column-content">\n    <ng-content></ng-content>\n</div>\n\n<div class="ux-resizable-table-column-actions">\n    <ng-content select="ux-column-sorting"></ng-content>\n</div>\n\n<div #handle *ngIf="!disabled && handleVisible"\n    uxDrag\n    uxFocusIndicator\n    tabindex="0"\n    aria-label="Column resize handle. Use arrow keys to change the column width."\n    class="ux-resizable-table-column-handle"\n    (onDragStart)="onDragStart($event)"\n    (onDrag)="onDragMove($event, handle)"\n    (onDragEnd)="onDragEnd()"\n    (keydown.ArrowLeft)="onMoveLeft()"\n    (keydown.ArrowRight)="onMoveRight()"\n    (click)="$event.stopPropagation()">\n\n    <div class="ux-resizable-table-column-handle-icon"></div>\n</div>\n\n',changeDetection:n.ChangeDetectionStrategy.OnPush,host:{class:"ux-resizable-table-column","[class.ux-resizable-table-hide-handle]":"!handleVisible"}}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:Wa,decorators:[{type:n.Inject,args:[qa]}]},{type:n.Renderer2}]},e.propDecorators={disabled:[{type:n.Input},{type:n.HostBinding,args:["class.ux-resizable-table-column-disabled"]}],handleVisible:[{type:n.Input}],width:[{type:n.Input}],widthChange:[{type:n.Output}]},e}(),Za=function(){function e(e,n,i,o){var r=this;this._elementRef=e,this._table=n,this._renderer=i,this._onDestroy=new t.Subject,this._initialised=!1,o.addResizeListener(this._elementRef.nativeElement).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){n.tableWidth=r.getScrollWidth(),r.onTableReady()}))}return e.prototype.onDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.setUniformWidths=function(){this._table.setUniformWidths()},e.prototype.getScrollWidth=function(){return Array.from(this._elementRef.nativeElement.tBodies).reduce((function(e,t){return Math.min(e,t.scrollWidth)}),this._elementRef.nativeElement.offsetWidth)},e.ctorParameters=function(){return[{type:n.ElementRef},{type:Wa,decorators:[{type:n.Inject,args:[qa]}]},{type:n.Renderer2},{type:Me}]},e}(),Qa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=Na.Expand,t}return D(t,e),t.prototype.setColumns=function(e){var t=this;this._columns=e,this.columns=e.map((function(e){return e.getNaturalWidth()/t.tableWidth*100})),this._columns.forEach((function(e,n){e.disabled||(t.columns=t.setColumnWidth(n,t.columns[n],Ka.Percentage,t.columns))})),!1===this.isInitialised$.value&&this.isInitialised$.next(!0)},t.prototype.setUniformWidths=function(){var e=this;this.columns=this._columns.map((function(t){return t.disabled?t.getNaturalWidth()/e.tableWidth*100:0}));var t=this.columns.reduce((function(e,t){return e+t}));if(t>98)this.columns=this.ensureNoOverflow(this.columns);else{var n=(98-t)/this._columns.toArray().filter((function(e){return!e.disabled})).length;this.columns=this._columns.map((function(t,i){return t.disabled?e.columns[i]:n}))}this._columns.forEach((function(t,n){t.disabled||e.resizeColumn(n,0,!1)}))},t.prototype.ensureNoOverflow=function(e){var t=this;if(e.reduce((function(e,t){return e+t}))<=100)return e;var n=this._columns.filter((function(n){return!n.disabled&&t.getColumnWidth(n.getCellIndex(),Ka.Pixel,e)>n.minWidth}));if(0===n.length)return e;var i=this._columns.reduce((function(n,i){return n+t.getColumnWidth(i.getCellIndex(),Ka.Pixel,e)}),0),o=n.reduce((function(n,i){return n+t.getColumnWidth(i.getCellIndex(),Ka.Pixel,e)}),0),r=o-(this.tableWidth-(i-o)),a=n.reduce((function(n,i){return t.getColumnWidth(i.getCellIndex(),Ka.Pixel,e)>t.getColumnWidth(n.getCellIndex(),Ka.Pixel,e)?i:n}));return(e=this.setColumnWidth(a.getCellIndex(),this.getColumnWidth(a.getCellIndex(),Ka.Pixel,e)-r,Ka.Pixel,e)).reduce((function(e,t){return e+t}))>100.01?this.ensureNoOverflow(e):e},t.prototype.setColumnWidth=function(e,t,n,i){void 0===i&&(i=this.columns);var o=A(i);switch(n){case Ka.Percentage:o[e]=t;break;case Ka.Pixel:o[e]=t/this.tableWidth*100}return o},t.prototype.resizeColumn=function(e,t,n){var i;void 0===n&&(n=!0),i=this.setColumnWidth(e,(this.columns[e]||0)+t/this.tableWidth*100,Ka.Percentage,this.columns),this.columns=i,this.onResize$.next()},t.prototype.getColumn=function(e){return this._columns?this._columns.toArray()[e]:null},t.prototype.getColumnDisabled=function(e){return!!this.getColumn(e)&&this.getColumn(e).disabled},t.decorators=[{type:n.Injectable}],t}(Wa);!function(e){e[e.Pixel=0]="Pixel",e[e.Percentage=1]="Percentage"}(Ka||(Ka={}));var Ja,es=function(e){function o(t,n,i,o,r){var a=e.call(this,t,n,i,o)||this;return a._platformId=r,a._overflowX=!1,a}return D(o,e),o.prototype.ngAfterViewInit=function(){var e,n,o=this;if(i.isPlatformBrowser(this._platformId)){var r=this._elementRef.nativeElement.querySelectorAll("thead > tr"),a=function(e){t.fromEvent(e,"scroll").pipe(s.takeUntil(c._onDestroy)).subscribe((function(){Array.from(r).forEach((function(t){return o._renderer.setStyle(t,"margin-left","-"+e.scrollLeft+"px")}))}))},c=this;try{for(var l=E(Array.from(this._elementRef.nativeElement.tBodies)),u=l.next();!u.done;u=l.next())a(u.value)}catch(p){e={error:p}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}t.merge(this._table.onResize$,this.columns.changes).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){o._overflowX=o._elementRef.nativeElement.tBodies[0].scrollWidth>o._elementRef.nativeElement.tBodies[0].offsetWidth}))}},o.prototype.ngOnDestroy=function(){this.onDestroy()},o.prototype.onTableReady=function(){var e=this;this._initialised||0===this.getScrollWidth()?this._initialised&&0===this.getScrollWidth()&&(this._initialised=!1):(this._table.tableWidth=this.getScrollWidth(),Promise.resolve().then((function(){e._table.setColumns(e.columns),e.updateLayout()})),this.columns.changes.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return Promise.resolve().then((function(){return e._table.setColumns(e.columns)}))})),this._initialised=!0)},o.prototype.updateLayout=function(){var e=this;Promise.resolve().then((function(){return e.columns.forEach((function(t,n){return e._table.resizeColumn(n,0)}))}))},o.ctorParameters=function(){return[{type:n.ElementRef},{type:Qa,decorators:[{type:n.Inject,args:[qa]}]},{type:n.Renderer2},{type:Me},{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]}]},o.decorators=[{type:n.Directive,args:[{selector:"[uxResizableExpandingTable]",exportAs:"ux-resizable-expanding-table",providers:[{provide:qa,useClass:Qa}],host:{class:"ux-resizable-expanding-table","[class.ux-resizable-expanding-table-overflow]":"_overflowX"}}]}],o.ctorParameters=function(){return[{type:n.ElementRef},{type:Qa,decorators:[{type:n.Inject,args:[qa]}]},{type:n.Renderer2},{type:Me},{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]}]},o.propDecorators={columns:[{type:n.ContentChildren,args:[Xa,{descendants:!0}]}]},o}(Za),ts=function(e){function t(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r._table.isResizing$.pipe(s.takeUntil(r._onDestroy)).subscribe(r.setOverflow.bind(r)),r}return D(t,e),t.prototype.ngOnDestroy=function(){this.onDestroy()},t.prototype.onTableReady=function(){var e=this;this._initialised||0===this.getScrollWidth()||(this._table.tableWidth=this.getScrollWidth(),Promise.resolve().then((function(){e._table.setColumns(e.columns),e.updateLayout()})),this.columns.changes.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return Promise.resolve().then((function(){return e._table.setColumns(e.columns)}))})),this._initialised=!0)},t.prototype.updateLayout=function(){var e=this;Promise.resolve().then((function(){return e.columns.forEach((function(t,n){return e._table.resizeColumn(n,0)}))}))},t.prototype.setOverflow=function(e){var t=this;Array.from(this._elementRef.nativeElement.tBodies).forEach((function(n){return t._renderer.setStyle(n,"overflow-x",e?"hidden":null)}))},t.ctorParameters=function(){return[{type:n.ElementRef},{type:Ga,decorators:[{type:n.Inject,args:[qa]}]},{type:n.Renderer2},{type:Me}]},t.decorators=[{type:n.Directive,args:[{selector:"[uxResizableTable]",exportAs:"ux-resizable-table",providers:[{provide:qa,useClass:Ga}],host:{class:"ux-resizable-table"}}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:Ga,decorators:[{type:n.Inject,args:[qa]}]},{type:n.Renderer2},{type:Me}]},t.propDecorators={columns:[{type:n.ContentChildren,args:[Xa,{descendants:!0}]}]},t}(Za),ns=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[o.A11yModule,_e,w.CdkTreeModule,i.CommonModule,_t,Pe,$e,yi,Ia],declarations:[Va,ts,es,Xa,Ya],exports:[Va,ts,es,Xa,Ya]}]}],e}(),is=0,os=function(){function e(){this.id="ux-timeline-event-"+is++}return e.decorators=[{type:n.Component,args:[{selector:"ux-timeline-event",template:'<div class="timeline-badge" [ngClass]="badgeColor" [attr.aria-describedby]="id">\r\n    <span>{{ badgeTitle }}</span>\r\n</div>\r\n\r\n<div class="timeline-panel" [id]="id">\r\n    <ng-content></ng-content>\r\n</div>\r\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.propDecorators={id:[{type:n.Input}],badgeColor:[{type:n.Input}],badgeTitle:[{type:n.Input}]},e}(),rs=function(){function e(){}return e.decorators=[{type:n.Component,args:[{selector:"ux-timeline",template:'<div class="timeline">\r\n    <div class="timeline-connector"></div>\r\n    <ux-icon class="timeline-arrow" name="chevron-down"></ux-icon>\r\n    <ng-content></ng-content>\r\n</div>\r\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e}(),as=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,Pe],exports:[rs,os],declarations:[rs,os]}]}],e}(),ss={provide:h.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return ls})),multi:!0},cs=0,ls=function(){function e(e){this._changeDetector=e,this._toggleSwitchId="ux-toggleswitch-"+ ++cs,this.id=this._toggleSwitchId,this.value=!1,this.tabindex=0,this.clickable=!0,this.disabled=!1,this.ariaLabel="",this.ariaLabelledby=null,this.valueChange=new n.EventEmitter,this._focused=!1,this.onTouchedCallback=function(){},this.onChangeCallback=function(){}}return e.prototype.toggle=function(){!this.disabled&&this.clickable&&(this.value=!this.value,this.valueChange.emit(this.value),this.onChangeCallback(this.value),this.onTouchedCallback())},e.prototype.writeValue=function(e){this.value=!!e,this._changeDetector.markForCheck()},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetector.markForCheck()},e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Component,args:[{selector:"ux-toggleswitch",template:'<label [attr.for]="(id || _toggleSwitchId) + \'-input\'"\n       class="ux-toggleswitch"\n       [class.ux-toggleswitch-checked]="value"\n       [class.ux-toggleswitch-disabled]="disabled"\n       [class.ux-toggleswitch-focused]="_focused">\n\n    <input class="ux-toggleswitch-input"\n           uxFocusIndicator\n           type="checkbox"\n           [id]="(id || _toggleSwitchId) + \'-input\'"\n           [checked]="value"\n           [disabled]="disabled"\n           [required]="required"\n           [attr.name]="name"\n           [tabindex]="tabindex"\n           [attr.aria-label]="ariaLabel"\n           [attr.aria-labelledby]="ariaLabelledby"\n           [attr.aria-checked]="value"\n           (indicator)="_focused = $event"\n           (change)="toggle()"\n           (click)="$event.stopPropagation()">\n\n    <div class="ux-toggleswitch-container">\n        <div class="ux-toggleswitch-bg"></div>\n        <div class="ux-toggleswitch-nub"></div>\n    </div>\n\n    <span class="ux-toggleswitch-label">\n        <ng-content></ng-content>\n    </span>\n</label>\n',providers:[ss],changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.propDecorators={id:[{type:n.Input}],name:[{type:n.Input}],value:[{type:n.Input}],tabindex:[{type:n.Input}],clickable:[{type:n.Input}],disabled:[{type:n.Input}],ariaLabel:[{type:n.Input,args:["aria-label"]}],ariaLabelledby:[{type:n.Input,args:["aria-labelledby"]}],required:[{type:n.Input}],valueChange:[{type:n.Output}]},e}(),us=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,h.FormsModule],exports:[ls],declarations:[ls]}]}],e}(),ps=function(){function e(e){this._elementRef=e,this.clicked=new n.EventEmitter}return Object.defineProperty(e.prototype,"width",{get:function(){return this._elementRef.nativeElement.offsetWidth},enumerable:!1,configurable:!0}),e.prototype.clickHandler=function(){this.clicked.emit()},e.ctorParameters=function(){return[{type:n.ElementRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxToolbarSearchButton]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef}]},e.propDecorators={clicked:[{type:n.Output}],clickHandler:[{type:n.HostListener,args:["click"]}]},e}(),hs={provide:h.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return ds})),multi:!0},ds=function(){function e(e,t){this._elementRef=e,this._changeDetector=t,this.cancel=new n.EventEmitter,this.submitted=new n.EventEmitter,this.onTouchedCallback=function(){},this.onChangeCallback=function(){}}return Object.defineProperty(e.prototype,"text",{get:function(){return this._elementRef.nativeElement.value},enumerable:!1,configurable:!0}),e.prototype.focus=function(){var e=this;this.onTouchedCallback(),requestAnimationFrame((function(){return e._elementRef.nativeElement.focus()}))},e.prototype.blur=function(){var e=this;requestAnimationFrame((function(){return e._elementRef.nativeElement.blur()}))},e.prototype.clear=function(){this.setValue("")},e.prototype.onEnter=function(){this.submitted.emit(this.text)},e.prototype.onEscape=function(){this._elementRef.nativeElement.blur(),this.cancel.emit()},e.prototype.onInput=function(){this.setValue(this.text)},e.prototype.writeValue=function(e){this.setValue(e),this._changeDetector.markForCheck()},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setValue=function(e){e||(e=""),this.onChangeCallback(e),this._elementRef.nativeElement.value=e},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ChangeDetectorRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxToolbarSearchField]",providers:[hs]}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ChangeDetectorRef}]},e.propDecorators={cancel:[{type:n.Output}],submitted:[{type:n.Output}],onEnter:[{type:n.HostListener,args:["keydown.enter"]}],onEscape:[{type:n.HostListener,args:["keydown.escape"]}],onInput:[{type:n.HostListener,args:["input"]}]},e}(),gs=function(){function e(e,i,o,r){this._elementRef=e,this._colorService=i,this._renderer=o,this._platformId=r,this.direction="right",this.inverse=!1,this.alwaysExpanded=!1,this.expandedChange=new n.EventEmitter,this.search=new n.EventEmitter,this._position="relative",this._backgroundColor="transparent",this._expanded=!1,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"expanded",{get:function(){return this.alwaysExpanded||this._expanded},set:function(e){this._expanded=e,this.expandedChange.emit(this.expanded),this.expanded?this.field.focus():(this.field.clear(),this.field.blur())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"background",{set:function(e){this._backgroundColor=this._colorService.resolve(e)||"transparent"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_expandedAnimation",{get:function(){return{value:this.expanded?"expanded":"collapsed",params:{initialWidth:this.button.width+"px"}}},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.field.submitted.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){return e.search.emit(t)})),this.field.cancel.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.expanded=!1})),this.button.clicked.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){e.expanded&&e.field.text?e.search.emit(e.field.text):e.expanded=!e.expanded})),i.isPlatformServer(this._platformId)||this.createPlaceholder()},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete(),this._placeholder&&this._renderer&&this._renderer.destroyNode&&this._renderer.destroyNode(this._placeholder)},e.prototype.animationStart=function(e){"expanded"===e.toState&&(this._position="absolute",this.setPlaceholderVisible(!0))},e.prototype.animationDone=function(e){"collapsed"===e.toState&&(this._position="relative",this.setPlaceholderVisible(!1))},e.prototype.createPlaceholder=function(){this._placeholder=this._renderer.createElement("div"),this._renderer.setStyle(this._placeholder,"display","none"),this._renderer.setStyle(this._placeholder,"width",this.button.width+"px"),this._renderer.setStyle(this._placeholder,"visibility","hidden"),this.setPlaceholderHeight(),this._renderer.insertBefore(this._elementRef.nativeElement.parentNode,this._placeholder,this._elementRef.nativeElement)},e.prototype.setPlaceholderVisible=function(e){this._placeholder&&(e&&this.setPlaceholderHeight(),this._renderer.setStyle(this._placeholder,"display",e?"inline-block":"none"))},e.prototype.setPlaceholderHeight=function(){var e=getComputedStyle(this._elementRef.nativeElement).height;this._renderer.setStyle(this._placeholder,"height",e)},e.ctorParameters=function(){return[{type:n.ElementRef},{type:q},{type:n.Renderer2},{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]}]},e.decorators=[{type:n.Component,args:[{selector:"ux-toolbar-search",template:"<ng-content></ng-content>",changeDetection:n.ChangeDetectionStrategy.OnPush,animations:[v.trigger("expanded",[v.state("collapsed",v.style({width:"{{initialWidth}}"}),{params:{initialWidth:"30px"}}),v.state("expanded",v.style({width:"100%"})),v.transition("collapsed <=> expanded",[v.animate("0.3s ease-out")])])],host:{"[class.expanded]":"expanded","[class.left]":'direction === "left"',"[class.right]":'direction === "right"',"[class.inverse]":"inverse","[style.position]":"_position","[style.background-color]":"_backgroundColor","[@expanded]":"_expandedAnimation"}}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:q},{type:n.Renderer2},{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]}]},e.propDecorators={direction:[{type:n.Input}],inverse:[{type:n.Input}],alwaysExpanded:[{type:n.Input}],expanded:[{type:n.Input}],background:[{type:n.Input}],expandedChange:[{type:n.Output}],search:[{type:n.Output}],field:[{type:n.ContentChild,args:[ds,{static:!0}]}],button:[{type:n.ContentChild,args:[ps,{static:!1}]}],animationStart:[{type:n.HostListener,args:["@expanded.start",["$event"]]}],animationDone:[{type:n.HostListener,args:["@expanded.done",["$event"]]}]},e}(),fs=[gs,ds,ps],ys=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule],exports:fs,declarations:fs,providers:[]}]}],e}(),ms=function(){function e(){this.itemSize=0,this.dataset=new t.ReplaySubject(1),this.range=new t.ReplaySubject(1)}return e.decorators=[{type:n.Injectable}],e}(),vs=function(){function e(e,n,i,o,r,a){if(this._viewContainerRef=e,this._templateRef=n,this._differs=i,this._renderer=o,this._changeDetector=r,this._virtualScroll=a,this.uxVirtualForTrackBy=this.defaultTrackBy,this._isDirty=!1,this._templateCache=[],this._cacheSize=20,this._onDestroy=new t.Subject,!this._virtualScroll)throw new Error('The "uxVirtualFor" directive requires the "uxVirtualForContainer" directive to be added to the parent element.')}return Object.defineProperty(e.prototype,"uxVirtualForOf",{set:function(e){this._virtualScroll.dataset.next(e),this._dataset=e,this._renderedRange&&this.onRangeChange()},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._virtualScroll.range.pipe(s.distinctUntilChanged(this.isRangeSame),s.takeUntil(this._onDestroy)).subscribe((function(t){e._renderedRange=t,e.onRangeChange(),e._changeDetector.detectChanges()}))},e.prototype.ngDoCheck=function(){if(this._isDirty&&this._differ){var e=this.getChanges();e?this.applyChanges(e):this.updateContexts(),this._isDirty=!1}},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.getHeight=function(e,t){var n=this.createView(0);n.context.$implicit=e,n.context.count=t,n.context.even=!0,n.context.odd=!1,n.context.first=!0,n.context.last=1===t,n.detectChanges();var i=n.rootNodes[0].offsetHeight;return this._viewContainerRef.remove(0),n.destroy(),i},e.prototype.isRangeSame=function(e,t){return e.start===t.start&&e.end===t.end},e.prototype.onRangeChange=function(){this._renderedItems=this._dataset.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.uxVirtualForTrackBy)),this._isDirty=!0},e.prototype.getChanges=function(){return this._differ.diff(this._renderedItems)},e.prototype.applyChanges=function(e){var t=this;e.forEachOperation((function(e,n,i){if(null===n)(o=t.createView(i)).context.$implicit=e.item;else if(null===i){var o=t._viewContainerRef.detach(i),r=t._viewContainerRef.indexOf(o);t._templateCache.length<t._cacheSize?t._templateCache.push(o):-1===r?o.destroy():t._viewContainerRef.remove(r)}else o=t._viewContainerRef.get(n),t._viewContainerRef.move(o,i),o.context.$implicit=e.item})),e.forEachIdentityChange((function(e){var n=t._viewContainerRef.get(e.currentIndex);n&&(n.context.$implicit=e.item)})),this.updateContexts()},e.prototype.updateContexts=function(){for(var e=this,t=function(t){var i=n._viewContainerRef.get(t);i.context.index=n._renderedRange.start+t,i.context.count=n._dataset.length,i.context.first=0===i.context.index,i.context.last=i.context.index===i.context.count-1,i.context.even=i.context.index%2==0,i.context.odd=!i.context.even,i.rootNodes.forEach((function(t){e._renderer.setStyle(t,"position","absolute"),e._renderer.setStyle(t,"width","100%"),e._renderer.setStyle(t,"top","0"),e._renderer.setStyle(t,"transform","translateY("+i.context.index*e._virtualScroll.itemSize+"px")})),i.detectChanges()},n=this,i=0;i<this._viewContainerRef.length;i++)t(i)},e.prototype.createView=function(e){var t=this._templateCache.pop();return t?(t.context.$implicit=null,t.context.index=-1,t.context.count=-1,t.context.first=!1,t.context.last=!1,t.context.even=!1,t.context.odd=!1,this._viewContainerRef.insert(t,e),t):this._viewContainerRef.createEmbeddedView(this._templateRef,{$implicit:null,index:-1,count:-1,first:!1,last:!1,even:!1,odd:!1},e)},e.prototype.defaultTrackBy=function(e){return e},e.ctorParameters=function(){return[{type:n.ViewContainerRef},{type:n.TemplateRef},{type:n.IterableDiffers},{type:n.Renderer2},{type:n.ChangeDetectorRef},{type:ms,decorators:[{type:n.Optional}]}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxVirtualFor][uxVirtualForOf]"}]}],e.ctorParameters=function(){return[{type:n.ViewContainerRef},{type:n.TemplateRef},{type:n.IterableDiffers},{type:n.Renderer2},{type:n.ChangeDetectorRef},{type:ms,decorators:[{type:n.Optional}]}]},e.propDecorators={uxVirtualForOf:[{type:n.Input}],uxVirtualForTrackBy:[{type:n.Input}]},e}(),bs=function(){function e(e,n,i){this._elementRef=e,this._virtualScroll=n,this._tabbableList=i,this._dataset=[],this._initialized=!1,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"itemSize",{get:function(){return this._virtualScroll.itemSize},set:function(e){var t=this;this._virtualScroll.itemSize=e,this._initialized&&requestAnimationFrame((function(){t.updateContainer(),t.virtualFor.updateContexts()}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_isTable",{get:function(){return"TABLE"===this._elementRef.nativeElement.tagName||"TBODY"===this._elementRef.nativeElement.tagName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_isList",{get:function(){return"OL"===this._elementRef.nativeElement.tagName||"UL"===this._elementRef.nativeElement.tagName},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this._virtualScroll.dataset.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){e._dataset=t,requestAnimationFrame((function(){e.updateContainer(),e._initialized=!0}))}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.updateContainer=function(){0===this.itemSize&&this._dataset.length>0&&(this.itemSize=this.virtualFor.getHeight(this._dataset[0],this._dataset.length)),this._totalHeight=this._dataset.length*this.itemSize;var e=this.getContainerHeight(),t=Math.ceil(e/this.itemSize*2),n=Math.ceil(e/this.itemSize*.5),i=this.getScrollOffset(),o=Math.max(Math.floor(i/this.itemSize)-Math.floor(n),0),r=Math.min(o+t,this._dataset.length);this._range={start:o,end:r},this._virtualScroll.range.next(this._range)},e.prototype.recalculateCellSize=function(){this.itemSize=0},e.prototype.onKeydown=function(e,t){var n=this;if(this._tabbableList)switch(t){case l.PAGE_UP:this._tabbableList.focusKeyManager.setFirstItemActive(),e.preventDefault();break;case l.PAGE_DOWN:this._tabbableList.focusKeyManager.setLastItemActive(),e.preventDefault();break;case l.HOME:this._tabbableList.shouldFocusOnChange=!1,this._elementRef.nativeElement.scrollTop=0,requestAnimationFrame((function(){n._tabbableList.focusKeyManager.setFirstItemActive(),n._tabbableList.shouldFocusOnChange=!0})),e.preventDefault();break;case l.END:this._tabbableList.shouldFocusOnChange=!1,this._elementRef.nativeElement.scrollTop=this._elementRef.nativeElement.scrollHeight,requestAnimationFrame((function(){n._tabbableList.focusKeyManager.setLastItemActive(),n._tabbableList.shouldFocusOnChange=!0})),e.preventDefault()}},e.prototype.getScrollOffset=function(){return this._elementRef.nativeElement.scrollTop},e.prototype.getContainerHeight=function(){return this._elementRef.nativeElement.clientHeight},e.ctorParameters=function(){return[{type:n.ElementRef},{type:ms},{type:fe,decorators:[{type:n.Self},{type:n.Optional}]}]},e.decorators=[{type:n.Component,args:[{selector:"[uxVirtualForContainer]",template:'\x3c!-- Display the appropriate top spacer --\x3e\n<tr class="ux-virtual-scroll-spacer"\n    [style.height.px]="_totalHeight"\n    [style.padding.px]="0"\n    [style.margin.px]="0"\n    [style.border]="\'none\'"\n    *ngIf="_isTable">\n</tr>\n\n<li class="ux-virtual-scroll-spacer"\n    [style.height.px]="_totalHeight"\n    [style.padding.px]="0"\n    [style.margin.px]="0"\n    [style.border]="\'none\'"\n    *ngIf="_isList">\n</li>\n\n<div class="ux-virtual-scroll-spacer"\n    [style.height.px]="_totalHeight"\n    [style.padding.px]="0"\n    [style.margin.px]="0"\n    [style.border]="\'none\'"\n    *ngIf="!_isTable && !_isList">\n</div>\n\n\n<ng-content></ng-content>\n',providers:[ms],host:{"[style.position]":'"relative"'}}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:ms},{type:fe,decorators:[{type:n.Self},{type:n.Optional}]}]},e.propDecorators={itemSize:[{type:n.Input}],virtualFor:[{type:n.ContentChild,args:[vs,{static:!1}]}],updateContainer:[{type:n.HostListener,args:["scroll"]}],onKeydown:[{type:n.HostListener,args:["keydown",["$event","$event.keyCode"]]}]},e}(),_s=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxVirtualScrollCell]"}]}],e}(),xs=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxVirtualScrollLoadButton]"}]}],e}(),ws=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[uxVirtualScrollLoading]"}]}],e}(),Ss=function(){function e(e,i){var o=this;this._elementRef=e,this.collection=t.Observable.create(),this.loadOnScroll=!0,this.loading=new n.EventEmitter,this.cells=new t.BehaviorSubject([]),this.scrollTop=0,this.isLoading=!1,this.pageNumber=0,this.data=[],this.loadingComplete=!1,this._buffer=5,this._onDestroy=new t.Subject,i.addResizeListener(e.nativeElement).pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){return o._height=e.height}))}return e.prototype.ngOnInit=function(){if(!this.cellHeight)throw new Error('Virtual Scroll Component requires "cellHeight" property to be defined.');this.setupObservable(),this.loadNextPage()},e.prototype.ngAfterContentInit=function(){this.renderCells()},e.prototype.ngOnChanges=function(e){e.collection&&e.collection.currentValue!==e.collection.previousValue&&!e.collection.isFirstChange()&&(this.setupObservable(),this.reset())},e.prototype.ngOnDestroy=function(){this._subscription.unsubscribe(),this._onDestroy.next(),this._onDestroy.complete()},e.prototype.setupObservable=function(){var e=this;this._subscription&&this._subscription.unsubscribe&&this._subscription.unsubscribe(),this._subscription=this.collection.subscribe((function(t){e.data=A(e.data,t),e.renderCells(),e.isLoading=!1}),null,(function(){e.loadingComplete=!0}))},e.prototype.renderCells=function(){this.cells.next(this.getVisibleCells()),!this.loadOnScroll||this.isLoading||this.loadingComplete||this._elementRef.nativeElement.scrollHeight-(this._elementRef.nativeElement.scrollTop+this._elementRef.nativeElement.clientHeight)<=this._elementRef.nativeElement.clientHeight&&this.loadNextPage()},e.prototype.getVisibleCells=function(){this._height||(this._height=this._elementRef.nativeElement.offsetHeight);var e=this._elementRef.nativeElement.scrollTop,t=Math.floor(e/this.cellHeight),n=Math.ceil(this._height/this.cellHeight),i=Math.max(0,t-this._buffer),o=t+(t-i)+Math.min(this.data.length,n+this._buffer);return this.scrollTop=e-e%this.cellHeight-(t-i)*this.cellHeight,this.data.slice(i,o).map((function(e,t){return{data:e,index:i+t}}))},e.prototype.getTotalHeight=function(){return this.cellHeight*this.data.length},e.prototype.loadNextPage=function(){this.isLoading=!0,this.loading.next(this.pageNumber),this.pageNumber++},e.prototype.reset=function(){this.scrollTop=0,this.data=[],this._height=void 0,this.pageNumber=0,this.loadingComplete=!1,this._elementRef.nativeElement.scrollTop=0,this.renderCells(),this.loadNextPage()},e.ctorParameters=function(){return[{type:n.ElementRef},{type:Me}]},e.decorators=[{type:n.Component,args:[{selector:"ux-virtual-scroll",template:'<div class="virtual-scroll-content-height" [style.height.px]="getTotalHeight()"></div>\n<div class="virtual-scroll-content" [style.transform]="\'translateY(\' + scrollTop + \'px)\'">\n\n    \x3c!-- Virtually Render Cells --\x3e\n    <ng-container *ngFor="let cell of cells | async">\n        <ng-container *ngTemplateOutlet="cellTemplate; context: { cell: cell.data, index: cell.index }"></ng-container>\n    </ng-container>\n\n    \x3c!-- Loading Indicator --\x3e\n    <ng-container *ngIf="loadingIndicatorTemplate && isLoading" [ngTemplateOutlet]="loadingIndicatorTemplate"></ng-container>\n\n    \x3c!-- Loading Button --\x3e\n    <div class="virtual-scroll-load-button" *ngIf="loadButtonTemplate && !loadOnScroll && !loadingComplete && !isLoading" (click)="loadNextPage()">\n        <ng-container *ngTemplateOutlet="loadButtonTemplate"></ng-container>\n    </div>\n\n</div>'}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:Me}]},e.propDecorators={collection:[{type:n.Input}],cellHeight:[{type:n.Input}],loadOnScroll:[{type:n.Input}],loading:[{type:n.Output}],cellTemplate:[{type:n.ContentChild,args:[_s,{read:n.TemplateRef,static:!1}]}],loadingIndicatorTemplate:[{type:n.ContentChild,args:[ws,{read:n.TemplateRef,static:!1}]}],loadButtonTemplate:[{type:n.ContentChild,args:[xs,{read:n.TemplateRef,static:!1}]}],renderCells:[{type:n.HostListener,args:["scroll"]}]},e}(),Cs=[Ss,ws,xs,_s,bs,vs],Ds=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e,i.CommonModule,$e],exports:Cs,declarations:Cs}]}],e}(),ks=function(){function e(e,t){if(this._elementRef=e,this._renderer=t,"textarea"!==e.nativeElement.tagName.toLowerCase())throw new Error("uxAutoGrow directive can only be used on <textarea> elements.")}return e.prototype.ngAfterViewInit=function(){this.update()},e.prototype.update=function(){this._renderer.setStyle(this._elementRef.nativeElement,"overflowY","hidden"),this._renderer.setStyle(this._elementRef.nativeElement,"height","auto");var e=this._elementRef.nativeElement.scrollHeight,t=getComputedStyle(this._elementRef.nativeElement).maxHeight,n=isNaN(parseFloat(t))?1/0:parseFloat(t);n<e?(this._renderer.setStyle(this._elementRef.nativeElement,"overflowY","auto"),this._renderer.setStyle(this._elementRef.nativeElement,"height",n+"px")):this._renderer.setStyle(this._elementRef.nativeElement,"height",e+"px")},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxAutoGrow]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2}]},e.propDecorators={update:[{type:n.HostListener,args:["input"]}]},e}(),Is=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[ks],declarations:[ks]}]}],e}(),Os=function(){function e(e,t,n,i){this._element=e,this._renderer=t,this._colorService=n,this._contrastService=i,this._className="ux-badge",this._darkColor=K.parse("#000"),this._lightColor=K.parse("#FFF"),this._badgeContent=null,this._badgeColor=this._darkColor,this.badgeVerticalPosition="above",this.badgeHorizontalPosition="after",this.badgeOverlap=!1,this.badgeSize="medium",this.badgeHidden=!1}return Object.defineProperty(e.prototype,"badgeContent",{get:function(){return this._badgeContent},set:function(e){if("number"==typeof e)this._badgeContent=e,this._isNumber=!0;else if("string"==typeof e&&e.replace(/ /g,"").length>0){var t=e.trim();this._isNumber=/^\d+$/.test(t),this._badgeContent=t}else this._badgeContent=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"badgeColor",{get:function(){return this._badgeColor.toRgba()},set:function(e){this._badgeColor=this.parseThemeColor(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"badgeBorderColor",{get:function(){return this._badgeBorderColor.toRgba()},set:function(e){this._badgeBorderColor=this.parseThemeColor(e)},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){this._badgeElement=this._renderer.createElement("span"),this._renderer.addClass(this._badgeElement,this._className),this._renderer.setStyle(this._badgeElement,"display","none"),this.setBadgeColor(),this.setBadgeBorderColor(),this.setBadgeSize(),this.setContent(this._badgeContent,this.badgeMaxValue),this._renderer.appendChild(this._element.nativeElement,this._badgeElement),this._renderer.removeStyle(this._badgeElement,"display")},e.prototype.ngOnChanges=function(e){this._badgeElement&&((e.badgeContent||e.badgeMaxValue)&&this.setContent(e.badgeContent&&e.badgeContent.currentValue||this.badgeContent||null,e.badgeMaxValue&&e.badgeMaxValue.currentValue||this.badgeMaxValue||null),e.badgeColor&&e.badgeColor.currentValue!==e.badgeColor.previousValue&&this.setBadgeColor(),e.badgeBorderColor&&e.badgeBorderColor.currentValue!==e.badgeBorderColor.previousValue&&this.setBadgeBorderColor(),e.badgeSize&&e.badgeSize.currentValue!==e.badgeSize.previousValue&&this.setBadgeSize(e.badgeSize.previousValue))},e.prototype.ngOnDestroy=function(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement)},e.prototype.setContent=function(e,t){var n;e&&t&&t>0&&(this._isNumber?("number"==typeof e?e:parseInt(e))>t&&(e=t+"+"):"string"==typeof e&&e.length>t&&(e=e.substr(0,t)+"\u2026")),this._badgeDisplayContent=e,this._badgeElement.textContent=null===(n=this._badgeDisplayContent)||void 0===n?void 0:n.toString()},e.prototype.setBadgeColor=function(){this._badgeColor?this._renderer.setStyle(this._badgeElement,"background-color",this._badgeColor.toRgba()):this._renderer.removeStyle(this._badgeElement,"background-color"),this._renderer.setStyle(this._badgeElement,"color",this.determineContentTextColor().toRgba())},e.prototype.setBadgeBorderColor=function(){this._badgeBorderColor?this._renderer.setStyle(this._badgeElement,"border-color",this._badgeBorderColor.toRgba()):this._renderer.removeStyle(this._badgeElement,"border-color"),this._renderer.setStyle(this._badgeElement,"background-clip",this._badgeBorderColor?"padding-box":"border-box")},e.prototype.setBadgeSize=function(e){e&&this._renderer.removeClass(this._badgeElement,"ux-badge-"+e),this._renderer.addClass(this._badgeElement,"ux-badge-"+this.badgeSize)},e.prototype.determineContentTextColor=function(){return this._badgeColor?K.parse(this._contrastService.getContrastColor(this._badgeColor,this._lightColor,this._darkColor).toRgba()):this._lightColor},e.prototype.parseThemeColor=function(e){return e?this._colorService.colorExists(e)?K.parse(this._colorService.resolve(e)):K.parse(e):null},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:q},{type:X}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxBadge]",exportAs:"ux-badge",host:{class:"ux-badge-container","[class.ux-badge-above]":'badgeVerticalPosition === "above"',"[class.ux-badge-below]":'badgeVerticalPosition === "below"',"[class.ux-badge-after]":'badgeHorizontalPosition === "after"',"[class.ux-badge-before]":'badgeHorizontalPosition === "before"'}}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:q},{type:X}]},e.propDecorators={badgeContent:[{type:n.Input,args:["uxBadge"]}],badgeColor:[{type:n.Input}],badgeBorderColor:[{type:n.Input}],badgeVerticalPosition:[{type:n.Input}],badgeHorizontalPosition:[{type:n.Input}],badgeOverlap:[{type:n.HostBinding,args:["class.ux-badge-overlap"]},{type:n.Input}],badgeMaxValue:[{type:n.Input}],badgeSize:[{type:n.Input}],badgeHidden:[{type:n.HostBinding,args:["class.ux-badge-hidden"]},{type:n.Input}]},e}(),Ps=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[Y,_e],exports:[Os],declarations:[Os]}]}],e}(),Ts=function(){function e(e,i,o){this._elementRef=e,this._renderer=i,this._resizeService=o,this.tablePaging=new n.EventEmitter,this._hasScrolled=!1,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"dataset",{set:function(e){var t=this;requestAnimationFrame((function(){return t.setLayout()}))},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._renderer.addClass(this._elementRef.nativeElement,"ux-fixed-header-table"),this._tableHead=this._elementRef.nativeElement.querySelector("thead"),this._tableBody=this._elementRef.nativeElement.querySelector("tbody"),this._renderer.listen(this._tableBody,"scroll",this.onScroll.bind(this)),this.setLayout(),this._resizeService.addResizeListener(this._elementRef.nativeElement).pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.setLayout()})),this.tablePaging.emit()},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.getTable=function(){return this._elementRef.nativeElement},e.prototype.setLayout=function(){this._tableBody&&this._tableHead&&(this._renderer.setStyle(this._tableHead,"padding-right",this._tableBody.offsetWidth-this._tableBody.clientWidth+"px"),this._renderer.setStyle(this._tableBody,"height","number"==typeof this.tableHeight?this.tableHeight+"px":this.tableHeight))},e.prototype.onScroll=function(){var e=this._tableBody.scrollTop,t=this._tableBody.scrollHeight-this._tableBody.offsetHeight;Math.max(e,t)-Math.min(e,t)<1&&this.tablePaging.emit(),this._hasScrolled=e>0},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:Me}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxFixedHeaderTable]",exportAs:"ux-fixed-header-table"}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:Me}]},e.propDecorators={dataset:[{type:n.Input}],tableHeight:[{type:n.Input}],tablePaging:[{type:n.Output}],_hasScrolled:[{type:n.HostBinding,args:["class.ux-fixed-header-table-scrolled"]}]},e}(),Es=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[$e],exports:[Ts],declarations:[Ts]}]}],e}(),Rs=function(){function e(e,n,i){this._elementRef=e,this._renderer=n,this._autofillMonitor=i,this.mode="focus",this.raised=!1,this._focused=!1,this._eventHandles=[],this._subscription=new t.Subscription}return Object.defineProperty(e.prototype,"input",{get:function(){return this._input},set:function(e){var t=this;this._input&&this._autofillMonitor.stopMonitoring(this._input),this._subscription.unsubscribe(),this._input=e,e&&(this._subscription=this._autofillMonitor.monitor(e).subscribe((function(e){!t.raised&&e.isAutofilled&&(t.raised=!0),!t.raised||e.isAutofilled||t.hasText()||(t.raised=!1)})))},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this._eventHandles.push(this._renderer.listen(this.input,"focus",this.inputFocus.bind(this)),this._renderer.listen(this.input,"blur",this.inputBlur.bind(this)),this._renderer.listen(this.input,"input",this.inputChange.bind(this))),this.raised=this.hasText(),!this._elementRef.nativeElement.getAttribute("for")&&this.input.getAttribute("id")&&this._renderer.setAttribute(this._elementRef.nativeElement,"for",this.input.getAttribute("id"))},e.prototype.ngOnChanges=function(){"focus"===this.mode&&this._focused||(this.raised=this.hasText())},e.prototype.ngOnDestroy=function(){this._eventHandles.forEach((function(e){return e()})),this._autofillMonitor.stopMonitoring(this._input),this._subscription.unsubscribe()},e.prototype.hasText=function(){return void 0===this.value?!!this.input.value:!!this.value},e.prototype.inputFocus=function(){"focus"===this.mode&&(this._focused=!0,this.raised=!0)},e.prototype.inputBlur=function(){"focus"===this.mode&&(this._focused=!1,this.raised=this.hasText())},e.prototype.inputChange=function(){"input"===this.mode&&(this.raised=this.hasText())},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:S.AutofillMonitor}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxFloatLabel]",host:{class:"ux-float-label"}}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:S.AutofillMonitor}]},e.propDecorators={input:[{type:n.Input,args:["uxFloatLabel"]}],value:[{type:n.Input}],mode:[{type:n.Input}],raised:[{type:n.HostBinding,args:["class.ux-float-label-raised"]}]},e}(),As=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[],exports:[Rs],declarations:[Rs],providers:[]}]}],e}(),Ms=function(){function e(){this.items=new t.BehaviorSubject([])}return e.prototype.registerItem=function(e){var t=this.items.getValue();t.push(e),this.items.next(t)},e.prototype.unregisterItem=function(e){var t=this.items.getValue();t=t.filter((function(t){return t!==e})),this.items.next(t)},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e}(),Ls=function(){function e(e){this._helpCenterService=e}return e.prototype.ngOnInit=function(){this._helpCenterService.registerItem(this.uxHelpCenterItem)},e.prototype.ngOnDestroy=function(){this._helpCenterService.unregisterItem(this.uxHelpCenterItem)},e.ctorParameters=function(){return[{type:Ms}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxHelpCenterItem]"}]}],e.ctorParameters=function(){return[{type:Ms}]},e.propDecorators={uxHelpCenterItem:[{type:n.Input}]},e}(),$s=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[Ls],declarations:[Ls]}]}],e}(),Fs=function(){function e(){this.active=new t.BehaviorSubject(!1),this._focused=!1,this._hovered=!1,this._actions=[]}return e.prototype.register=function(e){this._actions.push(e)},e.prototype.unregister=function(e){this._actions=this._actions.filter((function(t){return t!==e}))},e.prototype.setFocusState=function(e){this._focused=e,this.updateVisibility()},e.prototype.setHoverState=function(e){this._hovered=e,this.updateVisibility()},e.prototype.updateVisibility=function(){this.active.next(this._focused||this._hovered||this.actionHasFocus())},e.prototype.actionHasFocus=function(){return!!this.getFocusedAction()},e.prototype.getFocusedAction=function(){return this._actions.find((function(e){return e.focused}))},e.decorators=[{type:n.Injectable}],e}(),Hs=function(){function e(e,n,i){this._elementRef=e,this._managedFocusContainerService=n,this._hoverActionService=i,this.tabindex=0,this.active=!1,this._onDestroy=new t.Subject}return e.prototype.ngOnInit=function(){var e=this;this._managedFocusContainerService.register(this._elementRef.nativeElement,this),this._managedFocusContainerService.hasFocus(this._elementRef.nativeElement).pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){e.active=t,e._hoverActionService.setFocusState(t)}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete(),this._managedFocusContainerService.unregister(this._elementRef.nativeElement,this)},e.prototype.onHover=function(){this._hoverActionService.setHoverState(!0)},e.prototype.onLeave=function(){this._hoverActionService.setHoverState(!1)},e.ctorParameters=function(){return[{type:n.ElementRef},{type:ue},{type:Fs}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxHoverActionContainer]",providers:[Fs]}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:ue},{type:Fs}]},e.propDecorators={tabindex:[{type:n.Input},{type:n.HostBinding,args:["tabindex"]}],active:[{type:n.HostBinding,args:["class.hover-action-container-active"]}],onHover:[{type:n.HostListener,args:["mouseenter"]}],onLeave:[{type:n.HostListener,args:["mouseleave"]}]},e}(),js=function(){function e(e,n,i){var o=this;this._elementRef=e,this._hoverActionService=n,this.tabindex=0,this.active=!1,this.focused=!1,this._onDestroy=new t.Subject,this._focusIndicator=i.monitor(e.nativeElement),this._hoverActionService.register(this),this._hoverActionService.active.pipe(s.takeUntil(this._onDestroy)).subscribe((function(e){return o.active=e}))}return e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete(),this._hoverActionService.unregister(this),this._focusIndicator.destroy()},e.prototype.focus=function(){this._elementRef.nativeElement.focus()},e.prototype.onFocus=function(){this.focused=!0,this._hoverActionService.updateVisibility()},e.prototype.onBlur=function(){this.focused=!1,this._hoverActionService.updateVisibility()},e.ctorParameters=function(){return[{type:n.ElementRef},{type:Fs},{type:ie}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxHoverAction]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:Fs},{type:ie}]},e.propDecorators={tabindex:[{type:n.Input},{type:n.HostBinding,args:["tabindex"]}],active:[{type:n.HostBinding,args:["class.hover-action-active"]}],focused:[{type:n.HostBinding,args:["class.hover-action-focused"]}],onFocus:[{type:n.HostListener,args:["focus"]}],onBlur:[{type:n.HostListener,args:["blur"]}]},e}(),Bs=[js,Hs],Ns=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e],exports:Bs,declarations:Bs}]}],e}(),zs=function(){function e(e,t){this._templateRef=e,this._viewContainerRef=t}return e.prototype.getLayout=function(){return this._templateRef},e.prototype.getConfig=function(){return this._config},e.prototype.activate=function(){this._embeddedView=this._viewContainerRef.createEmbeddedView(this._templateRef)},e.prototype.deactivate=function(){var e=this._viewContainerRef.indexOf(this._embeddedView);this._viewContainerRef.remove(e),this._embeddedView=null},e.ctorParameters=function(){return[{type:n.TemplateRef},{type:n.ViewContainerRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxLayoutSwitcherItem]"}]}],e.ctorParameters=function(){return[{type:n.TemplateRef},{type:n.ViewContainerRef}]},e.propDecorators={_config:[{type:n.Input,args:["uxLayoutSwitcherItem"]}]},e}(),Vs=function(){function e(e,t,n){var i=this;this._elementRef=e,this._viewContainerRef=n,t.addResizeListener(e.nativeElement).subscribe((function(e){i._width=e.width,i.updateActiveLayout()}))}return e.prototype.ngOnChanges=function(e){e.group.currentValue!==e.group.previousValue&&this.updateActiveLayout()},e.prototype.getActiveLayout=function(){var e=this;return this._layouts?this._layouts.filter((function(t){return e.group===t.getConfig().group})).find((function(t){var n=t.getConfig().minWidth||0,i=t.getConfig().maxWidth||1/0;return e._width>=n&&e._width<i})):null},e.prototype.updateActiveLayout=function(){var e=this.getActiveLayout();this._activeLayout!==e&&(this._activeLayout&&this._activeLayout.deactivate(),this._activeLayout=e,this._activeLayout&&this._activeLayout.activate())},e.prototype.ngAfterContentInit=function(){this._width=this._elementRef.nativeElement.offsetWidth,requestAnimationFrame(this.updateActiveLayout.bind(this))},e.ctorParameters=function(){return[{type:n.ElementRef},{type:Me},{type:n.ViewContainerRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxLayoutSwitcher]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:Me},{type:n.ViewContainerRef}]},e.propDecorators={group:[{type:n.Input}],_layouts:[{type:n.ContentChildren,args:[zs]}]},e}(),Ws=[Vs,zs],Us=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[$e],exports:Ws,declarations:Ws,providers:[]}]}],e}(),Gs=function(){function e(){this.menuItems=[],this.active$=new t.BehaviorSubject(null)}return e.prototype.register=function(e){this.menuItems=A(this.menuItems,[e])},e.prototype.unregister=function(e){this.menuItems=this.menuItems.filter((function(t){return t!==e}))},e.decorators=[{type:n.Injectable}],e}(),Ks=function(){function e(e,i,o){var r=this;this._menuNavigationService=e,this._elementRef=i,this.activated=new n.EventEmitter,this._onDestroy=new t.Subject,e.register(this),this._focusIndicator=o.monitor(i.nativeElement,{programmaticFocusIndicator:!0,checkChildren:!1}),e.active$.pipe(s.takeUntil(this._onDestroy),s.filter((function(e){return e===r}))).subscribe((function(){return r.setActive()}))}return e.prototype.ngOnDestroy=function(){this._menuNavigationService.unregister(this),this._onDestroy.unsubscribe(),this._focusIndicator.destroy()},e.prototype.setActive=function(){this._elementRef.nativeElement.focus(),this.activated.emit()},e.ctorParameters=function(){return[{type:Gs},{type:n.ElementRef},{type:ie}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxMenuNavigationItem]"}]}],e.ctorParameters=function(){return[{type:Gs},{type:n.ElementRef},{type:ie}]},e.propDecorators={activated:[{type:n.Output}]},e}(),qs=function(){function e(e,t){this.menuPosition="bottom",this.menuOpenChange=new n.EventEmitter,this.keyEnter=new n.EventEmitter,this._focusIndicator=t.monitor(e.nativeElement)}return Object.defineProperty(e.prototype,"menuOpen",{get:function(){return this._menuOpen},set:function(e){this._menuOpen=e,this.menuOpenChange.emit(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this._focusIndicator.destroy()},e.prototype.focus=function(e){this._focusIndicator.focus(e)},e.prototype.keydownHandler=function(e){var t=this;this.isKeyMatch(e.which)&&(this.menuOpen=!0,setTimeout((function(){return t.keyEnter.emit()})),e.preventDefault(),e.stopPropagation())},e.prototype.isKeyMatch=function(e){switch(e){case l.ENTER:case l.SPACE:return!0;case l.UP_ARROW:return"top"===this.menuPosition;case l.DOWN_ARROW:return"bottom"===this.menuPosition;case l.LEFT_ARROW:return"left"===this.menuPosition;case l.RIGHT_ARROW:return"right"===this.menuPosition}return!1},e.ctorParameters=function(){return[{type:n.ElementRef},{type:ie}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxMenuNavigationToggle]",exportAs:"uxMenuNavigationToggle"}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:ie}]},e.propDecorators={menuOpen:[{type:n.Input}],menuPosition:[{type:n.Input}],menuOpenChange:[{type:n.Output}],keyEnter:[{type:n.Output}],keydownHandler:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),Ys=function(){function e(e){this._menuNavigationService=e,this.toggleButtonPosition="top",this.navigatedOut=new n.EventEmitter,this._isFocused=!1,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this.menuItems.indexOf(this._menuNavigationService.active$.value)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"menuItems",{get:function(){return this._menuNavigationService.menuItems},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.toggleButton&&this.toggleButton.keyEnter.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.focusFirst()}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.focusFirst=function(){this.moveFirst()},e.prototype.onFocusIn=function(){this._isFocused=!0},e.prototype.onFocusOut=function(){this._isFocused=!1},e.prototype.keydownHandler=function(e){if(!1!==this._isFocused){var t=!1;switch(e.which){case l.UP_ARROW:this.movePrevious(e),t=!0;break;case l.DOWN_ARROW:this.moveNext(e),t=!0;break;case l.LEFT_ARROW:"left"===this.toggleButtonPosition&&(this.moveToToggleButton(e),t=!0);break;case l.RIGHT_ARROW:"right"===this.toggleButtonPosition&&(this.moveToToggleButton(e),t=!0);break;case l.HOME:this.moveFirst(),t=!0;break;case l.END:this.moveLast(),t=!0;break;case l.ESCAPE:this.moveToToggleButton(e),t=!0}t&&(e.preventDefault(),e.stopPropagation())}},e.prototype.moveNext=function(e){if(!(this.activeIndex<0)){var t=this.activeIndex+1;t<this.menuItems.length?this._menuNavigationService.active$.next(this.menuItems[t]):"bottom"===this.toggleButtonPosition&&this.moveToToggleButton(e)}},e.prototype.movePrevious=function(e){if(!(this.activeIndex<0)){var t=this.activeIndex-1;t>=0?this._menuNavigationService.active$.next(this.menuItems[t]):"top"===this.toggleButtonPosition&&this.moveToToggleButton(e)}},e.prototype.moveFirst=function(){this.menuItems.length>0&&this._menuNavigationService.active$.next(this.menuItems[0])},e.prototype.moveLast=function(){this.menuItems.length>0&&this._menuNavigationService.active$.next(this.menuItems[this.menuItems.length-1])},e.prototype.moveToToggleButton=function(e){this.toggleButton&&(this.toggleButton.focus("keyboard"),this.toggleButton.menuOpen=!1),this.navigatedOut.emit(e)},e.ctorParameters=function(){return[{type:Gs}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxMenuNavigation]",exportAs:"uxMenuNavigation",providers:[Gs]}]}],e.ctorParameters=function(){return[{type:Gs}]},e.propDecorators={toggleButton:[{type:n.Input}],toggleButtonPosition:[{type:n.Input}],navigatedOut:[{type:n.Output}],onFocusIn:[{type:n.HostListener,args:["focusin"]}],onFocusOut:[{type:n.HostListener,args:["focusout"]}],keydownHandler:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),Xs=[Ys,Ks,qs],Zs=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[_e],exports:Xs,declarations:Xs}]}],e}(),Qs=function(){function e(e){this._elementRef=e,this.tolerance=0,this.uxOverflowObserver=new n.EventEmitter,this.uxOverflowHorizontalObserver=new n.EventEmitter,this.uxOverflowVerticalObserver=new n.EventEmitter,this._state={horizontalOverflow:!1,verticalOverflow:!1},this._onDestroy=new t.Subject}return e.prototype.ngOnInit=function(){var e=this;this.trigger&&this.trigger.pipe(s.takeUntil(this._onDestroy)).subscribe((function(){return e.checkForOverflow()}))},e.prototype.ngAfterViewInit=function(){var e=this;requestAnimationFrame((function(){return e.checkForOverflow()}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.checkForOverflow=function(){var e=this._elementRef.nativeElement,t=e.scrollWidth-e.offsetWidth>this.tolerance,n=e.scrollHeight-e.offsetHeight>this.tolerance;t!==this._state.horizontalOverflow&&this.uxOverflowHorizontalObserver.emit(t),n!==this._state.verticalOverflow&&this.uxOverflowVerticalObserver.emit(n),t===this._state.horizontalOverflow&&n===this._state.verticalOverflow||this.uxOverflowObserver.emit(t||n),this._state={horizontalOverflow:t,verticalOverflow:n}},e.ctorParameters=function(){return[{type:n.ElementRef}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxOverflowObserver], [uxOverflowHorizontalObserver], [uxOverflowVerticalObserver]",exportAs:"ux-overflow-observer"}]}],e.ctorParameters=function(){return[{type:n.ElementRef}]},e.propDecorators={trigger:[{type:n.Input}],tolerance:[{type:n.Input}],uxOverflowObserver:[{type:n.Output}],uxOverflowHorizontalObserver:[{type:n.Output}],uxOverflowVerticalObserver:[{type:n.Output}]},e}(),Js=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[Qs],declarations:[Qs]}]}],e}(),ec=function(e,n,i){this.level=e,this.setSize=n,this.positionInSet=i,this.loading$=new t.BehaviorSubject(!1)},tc=function(){function e(){var e=this;this.data$=new t.BehaviorSubject([]),this.rows$=new t.BehaviorSubject([]),this._onDestroy=new t.Subject,this.data$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){return e.rows$.next(e.getFlattenedTree(t))}))}return e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.setExpanded=function(e,t){return P(this,void 0,void 0,(function(){return T(this,(function(n){switch(n.label){case 0:return t?[4,this.getChildren(e)]:[3,2];case 1:return n.sent(),this.insertChildren(e),[3,3];case 2:this.removeChildren(e),n.label=3;case 3:return[2]}}))}))},e.prototype.getFlattenedTree=function(e,t){var n=this;return e.reduce((function(i,o,r){return o.state=new ec(t?t.state.level+1:0,e.length,r+1),A(i,[o],o.children&&o.expanded?n.getFlattenedTree(o.children,o):[])}),[])},e.prototype.getChildren=function(e){return P(this,void 0,void 0,(function(){var t;return T(this,(function(n){switch(n.label){case 0:if(e.children||!this.loadChildren)return[3,4];e.state.loading$.next(!0),n.label=1;case 1:return n.trys.push([1,,3,4]),t=e,[4,this.getNormalizedChildren(this.loadChildren(e))];case 2:return t.children=n.sent(),[3,4];case 3:return e.state.loading$.next(!1),[7];case 4:return[2]}}))}))},e.prototype.getNormalizedChildren=function(e){return P(this,void 0,void 0,(function(){return T(this,(function(n){switch(n.label){case 0:return t.isObservable(e)?[4,e.toPromise()]:[3,2];case 1:return[2,n.sent()];case 2:return e instanceof Promise?[4,e]:[3,4];case 3:return[2,n.sent()];case 4:return[2,e]}}))}))},e.prototype.insertChildren=function(e){if(e.children){var t=A(this.rows$.getValue()),n=t.indexOf(e);if(!(n<0)){var i=e.children.filter((function(e){return-1===t.indexOf(e)})),o=this.getFlattenedTree(i,e);t.splice.apply(t,A([n+1,0],o)),this.rows$.next(t)}}},e.prototype.removeChildren=function(e){var t=A(this.rows$.getValue()),n=t.indexOf(e);if(!(n<0)){for(;n+1<t.length&&t[n+1].state.level>e.state.level;)t.splice(n+1,1);this.rows$.next(t)}},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[]},e}(),nc=function(){function e(e){this._treeGridService=e,this.expandedChange=new n.EventEmitter,this.loading=!1,this._expanded=!1,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"expanded",{get:function(){return this._expanded},set:function(e){var t=a.coerceBooleanProperty(e);t!==this._expanded&&(this._expanded=t,this._treeGridService.setExpanded(this.item,t))},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;if(!this.item||!this.item.state)throw new Error("uxTreeGridRow should be configured with an object emitted by uxTreeGrid.rows.");this.item.state.loading$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){return e.loading=t}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.collapse=function(e){this.expanded=!1,this.expandedChange.emit(!1),e&&e.preventDefault()},e.prototype.expand=function(e){this.canExpand&&(this.expanded=!0,this.expandedChange.emit(!0),e&&e.preventDefault())},e.prototype.toggle=function(){this.expanded?this.collapse():this.expand()},e.ctorParameters=function(){return[{type:tc}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxTreeGridRow]",exportAs:"uxTreeGridRow",host:{"[class.treegrid-row]":"true"}}]}],e.ctorParameters=function(){return[{type:tc}]},e.propDecorators={item:[{type:n.Input,args:["uxTreeGridRow"]}],canExpand:[{type:n.Input}],expanded:[{type:n.Input},{type:n.HostBinding,args:["class.treegrid-row-expanded"]}],expandedChange:[{type:n.Output}],loading:[{type:n.HostBinding,args:["class.treegrid-row-loading"]}],collapse:[{type:n.HostListener,args:["keydown.ArrowLeft",["$event"]]}],expand:[{type:n.HostListener,args:["keydown.ArrowRight",["$event"]]}]},e}(),ic=function(){function e(e){this._row=e}return Object.defineProperty(e.prototype,"indentation",{get:function(){return this._row&&this._row.item?7+this._row.item.state.level*(this.uxTreeGridIndent||25):7},enumerable:!1,configurable:!0}),e.ctorParameters=function(){return[{type:nc}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxTreeGridIndent]"}]}],e.ctorParameters=function(){return[{type:nc}]},e.propDecorators={uxTreeGridIndent:[{type:n.Input}],indentation:[{type:n.HostBinding,args:["style.padding-left.px"]}]},e}(),oc=function(){function e(e,i){this._changeDetector=e,this._treeGridService=i,this.rowsChange=new n.EventEmitter,this._onDestroy=new t.Subject}return Object.defineProperty(e.prototype,"data",{set:function(e){this._treeGridService.data$.next(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loadChildren",{set:function(e){this._treeGridService.loadChildren=e},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._treeGridService.rows$.pipe(s.takeUntil(this._onDestroy)).subscribe((function(t){e.rowsChange.emit(t),e._changeDetector.detectChanges()}))},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:tc}]},e.decorators=[{type:n.Directive,args:[{selector:"[uxTreeGrid]",providers:[tc],host:{class:"treegrid"}}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:tc}]},e.propDecorators={data:[{type:n.Input,args:["uxTreeGrid"]}],loadChildren:[{type:n.Input}],rows:[{type:n.Input}],rowsChange:[{type:n.Output}]},e}(),rc=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[oc,nc,ic],exports:[oc,nc,ic]}]}],e}(),ac=function(){function e(){}return e.prototype.transform=function(e,t){return e?e.filter((function(e){return e.toLowerCase().indexOf(t.toLowerCase())>=0})):[]},e.decorators=[{type:n.Pipe,args:[{name:"stringFilter"}]},{type:n.Injectable}],e}(),sc=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{exports:[ac],declarations:[ac]}]}],e}(),cc=function(){},lc={timeline:{backgroundColor:"#f1f2f3",selectionColor:"rgba(198, 23, 157, 0.15)",onChange:cc,keyboard:{step:2592e6},handles:{backgroundColor:"#000",foregroundColor:"#dcdedf",focusIndicatorColor:"rgba(0, 115, 231, 0.5)"},range:{lower:null,upper:null,minimum:0,maximum:1/0},state:{lowerHandleFocus:!1,upperHandleFocus:!1,rangeHandleFocus:!1}}},uc=function(){function t(){}return t.register=function(){if(!this._isRegistered){if(!window.Chart)throw new Error("Please import Chart.js to use the timeline chart.");window.Chart.pluginService.register(new t),this._isRegistered=!0}},t.prototype.beforeInit=function(e){var t=this;if(this.getEnabled(e)){e.config.options.timeline=this.getOptionsWithDefaults(this.getOptions(e));var n=this.getRange(e);if(null===n.lower||null===n.upper)throw new Error("Timeline Chart - Ensure that both an upper and lower range are initially provided.");e.config.options.timeline.state.onMouseDown=function(){return t.onMouseDown(e)},e.config.options.timeline.state.onMouseUp=function(){return t.onMouseUp(e)},e.canvas.addEventListener("mousedown",e.config.options.timeline.state.onMouseDown),document.addEventListener("mouseup",e.config.options.timeline.state.onMouseUp)}},t.prototype.afterInit=function(e){this.getEnabled(e)&&(this.setupAccessibility(e),this.triggerOnChange(e))},t.prototype.beforeDraw=function(e){this.getEnabled(e)&&this.drawBackgroundColor(e)},t.prototype.afterDraw=function(e){this.getEnabled(e)&&(this.drawSelection(e),this.drawHandles(e))},t.prototype.afterEvent=function(e,t){if(this.getEnabled(e))switch(t.type){case"mousemove":this.setCursor(e,t),this.setRangeOnDrag(e,t),this.setState(e,{mouseX:t.x});break;case"mouseout":this.resetCursor(e)}},t.prototype.destroy=function(e){this.getEnabled(e)&&document.removeEventListener("mouseup",e.config.options.timeline.state.onMouseUp,!0)},t.prototype.getOptions=function(e){return e.config.options.timeline},t.prototype.getEnabled=function(e){return!!this.getOptions(e)},t.prototype.getRange=function(e){return this.getOptions(e).range},t.prototype.getChartArea=function(e){var t=e.chartArea,n=t.top,i=t.right,o=t.bottom,r=t.left,a=e.config.options.layout&&e.config.options.layout.padding?e.config.options.layout.padding:0;return"number"==typeof a?{top:n-a,right:i-a,left:r-a,bottom:o-a}:"object"==typeof a?{top:n-a.top,right:i-a.right,left:r-a.left,bottom:o-a.bottom}:e.chartArea},t.prototype.getState=function(e){return this.getOptions(e).state},t.prototype.setState=function(e,t){e.config.options.timeline.state=O(O({},e.config.options.timeline.state),t),e.update()},t.prototype.triggerOnChange=function(t){var n=this.getRange(t),i=n.lower,o=n.upper,r=this.getOptions(t).onChange;requestAnimationFrame((function(){return r(i,o)}));var a=this.getState(t),s=a.lowerHandleElement,c=a.upperHandleElement;s.setAttribute("aria-valuemin",new Date(this.getHandleMinimum(t,e.TimelineHandle.Lower)).toDateString()),s.setAttribute("aria-valuenow",i.toDateString()),s.setAttribute("aria-valuemax",new Date(this.getHandleMaximum(t,e.TimelineHandle.Lower)).toDateString()),c.setAttribute("aria-valuemin",new Date(this.getHandleMinimum(t,e.TimelineHandle.Upper)).toDateString()),c.setAttribute("aria-valuenow",o.toDateString()),c.setAttribute("aria-valuemax",new Date(this.getHandleMaximum(t,e.TimelineHandle.Upper)).toDateString())},t.prototype.setupAccessibility=function(t){var n=this,i=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div");i.setAttribute("tabindex","0"),o.setAttribute("tabindex","0"),r.setAttribute("tabindex","0"),t.canvas.appendChild(i),t.canvas.appendChild(o),t.canvas.appendChild(r),i.addEventListener("focus",(function(){return n.setState(t,{lowerHandleFocus:!0})})),i.addEventListener("blur",(function(){return n.setState(t,{lowerHandleFocus:!1})})),i.addEventListener("keydown",(function(i){return n.onKeydown(t,i,e.TimelineHandle.Lower)})),o.addEventListener("focus",(function(){return n.setState(t,{upperHandleFocus:!0})})),o.addEventListener("blur",(function(){return n.setState(t,{upperHandleFocus:!1})})),o.addEventListener("keydown",(function(i){return n.onKeydown(t,i,e.TimelineHandle.Upper)})),r.addEventListener("focus",(function(){return n.setState(t,{rangeHandleFocus:!0})})),r.addEventListener("blur",(function(){return n.setState(t,{rangeHandleFocus:!1})})),r.addEventListener("keydown",(function(e){return n.onRangeKeydown(t,e)})),this.setState(t,{lowerHandleElement:i,upperHandleElement:o,rangeHandleElement:r})},t.prototype.onKeydown=function(e,t,n){var i=this.getHandleValue(e,n).getTime(),o=this.getOptions(e).keyboard.step,r=R(this.getChartRange(e),2),a=r[0],s=r[1];switch(t.keyCode){case l.LEFT_ARROW:this.setHandleValue(e,n,new Date(i-o)),t.preventDefault();break;case l.HOME:this.setHandleValue(e,n,new Date(a)),t.preventDefault();break;case l.RIGHT_ARROW:this.setHandleValue(e,n,new Date(i+o)),t.preventDefault();break;case l.END:this.setHandleValue(e,n,new Date(s)),t.preventDefault()}},t.prototype.onRangeKeydown=function(t,n){var i=this.getHandleValue(t,e.TimelineHandle.Lower).getTime(),o=this.getHandleValue(t,e.TimelineHandle.Upper).getTime(),r=this.getOptions(t).keyboard.step,a=o-i,s=R(this.getChartRange(t),2),c=s[0],u=s[1];switch(n.keyCode){case l.LEFT_ARROW:o=(i=Math.max(i-r,c))+a,n.preventDefault();break;case l.RIGHT_ARROW:i=(o=Math.min(o+r,u))-a,n.preventDefault();break;case l.HOME:o=(i=c)+a,n.preventDefault();break;case l.END:i=(o=u)-a,n.preventDefault()}t.config.options.timeline.range[e.TimelineHandle.Lower]=new Date(i),t.config.options.timeline.range[e.TimelineHandle.Upper]=new Date(o),t.update(),this.triggerOnChange(t)},t.prototype.onMouseDown=function(e){if(e.ctx){var t=this.getChartArea(e).top,n=this.getState(e).mouseX,i=this.isWithinHandle(e,{x:n,y:t});this.setState(e,{handle:null!==i?i:null})}},t.prototype.onMouseUp=function(e){e.canvas&&this.setState(e,{handle:null})},t.prototype.setRangeOnDrag=function(t,n){var i=this.getState(t),o=i.handle,r=i.mouseX;if(o){var a=this.getChartArea(t),s=a.left,c=a.right,l=this.getRange(t),u=l.lower,p=l.upper,h=n.x-r,d=c-s,g=R(this.getChartRange(t),2),f=(g[1]-g[0])/100*(h/d*100);if(o===e.TimelineHandle.Lower&&this.setHandleValue(t,e.TimelineHandle.Lower,new Date(u.getTime()+f)),o===e.TimelineHandle.Upper&&this.setHandleValue(t,e.TimelineHandle.Upper,new Date(p.getTime()+f)),o===e.TimelineHandle.Range){var y=p.getTime()-u.getTime();f<0?(this.setHandleValue(t,e.TimelineHandle.Upper,new Date(p.getTime()+f)),this.setHandleValue(t,e.TimelineHandle.Lower,new Date(u.getTime()+f))):(this.setHandleValue(t,e.TimelineHandle.Lower,new Date(u.getTime()+f)),this.setHandleValue(t,e.TimelineHandle.Upper,new Date(p.getTime()+f)));var m=t.config.options.timeline.range.upper.getTime()-t.config.options.timeline.range.lower.getTime();m!==y&&(f<0?this.setHandleValue(t,e.TimelineHandle.Upper,new Date(t.config.options.timeline.range.upper.getTime()+(y-m))):this.setHandleValue(t,e.TimelineHandle.Lower,new Date(t.config.options.timeline.range.lower.getTime()+(m-y))))}}},t.prototype.drawBackgroundColor=function(e){var t=this.getChartArea(e),n=t.top,i=t.right,o=t.bottom,r=t.left;e.ctx.save(),e.ctx.fillStyle=this.getOptions(e).backgroundColor,e.ctx.fillRect(r,n,i-r,o-n),e.ctx.restore()},t.prototype.drawSelection=function(t){var n=this.getChartArea(t),i=n.top,o=n.bottom,r=this.getOptions(t).selectionColor,a=this.getOptions(t).handles.focusIndicatorColor,s=this.getHandleArea(t,e.TimelineHandle.Lower),c=this.getHandleArea(t,e.TimelineHandle.Upper);t.ctx.save(),t.ctx.fillStyle=r,t.ctx.fillRect(s.left,0,c.right-s.left,o-i),this.isHandleFocused(t,e.TimelineHandle.Range)&&(t.ctx.strokeStyle=a,t.ctx.lineWidth=2,t.ctx.strokeRect(s.left+4+2,1,c.right-s.left-12,o-i-2)),t.ctx.restore()},t.prototype.drawHandles=function(t){var n=this,i=this.getChartArea(t),o=i.top,r=i.bottom,a=this.getOptions(t).handles,s=a.backgroundColor,c=a.foregroundColor,l=a.focusIndicatorColor;[e.TimelineHandle.Lower,e.TimelineHandle.Upper].forEach((function(e){var i=n.getHandleArea(t,e),a=r-o;t.ctx.save(),n.isHandleFocused(t,e)&&(t.ctx.fillStyle=l,t.ctx.fillRect(i.left-2,0,9,a)),t.ctx.fillStyle=s,t.ctx.fillRect(i.left,0,5,a),t.ctx.fillStyle=c;var u=i.left+1,p=i.top+a/2,h=p-1.5,d=p+4.5;t.ctx.fillRect(u,p-7.5,3,3),t.ctx.fillRect(u,h,3,3),t.ctx.fillRect(u,d,3,3),t.ctx.restore()}))},t.prototype.setCursor=function(t,n){var i=this.getState(t).handle||this.isWithinHandle(t,n);i===e.TimelineHandle.Lower||i===e.TimelineHandle.Upper?t.canvas.style.cursor="ew-resize":i===e.TimelineHandle.Range?t.canvas.style.cursor="move":this.resetCursor(t)},t.prototype.resetCursor=function(e){""!==e.canvas.style.cursor&&(e.canvas.style.cursor="")},t.prototype.isHandleFocused=function(t,n){return n===e.TimelineHandle.Lower?this.getState(t).lowerHandleFocus:n===e.TimelineHandle.Upper?this.getState(t).upperHandleFocus:n===e.TimelineHandle.Range&&this.getState(t).rangeHandleFocus},t.prototype.isWithinHandle=function(t,n){var i=this.getHandleArea(t,e.TimelineHandle.Lower),o=this.getHandleArea(t,e.TimelineHandle.Upper),r=n.x,a=n.y;return r>=i.left&&r<=i.right&&a>=i.top&&a<=i.bottom?e.TimelineHandle.Lower:r>=o.left&&r<=o.right&&a>=o.top&&a<=o.bottom?e.TimelineHandle.Upper:r>i.right&&r<o.left&&a>=i.top&&a<=i.bottom?e.TimelineHandle.Range:null},t.prototype.getHandleArea=function(t,n){var i,o=this.getChartArea(t),r=o.left,a=o.top,s=o.bottom,c=o.right-r,l=R(this.getChartRange(t),2),u=l[0],p=l[1],h=this.getOptions(t).range,d=h.upper;return n===e.TimelineHandle.Lower?{top:a,left:(i=r+c/100*((h.lower.getTime()-u)/(p-u)*100))-5,right:i,bottom:s}:n===e.TimelineHandle.Upper?{top:a,left:i=r+c/100*((d.getTime()-u)/(p-u)*100),right:i+5,bottom:s}:void 0},t.prototype.getChartRange=function(e){var t=e.getDatasetMeta(0).data;return[t[0]._xScale.min,t[0]._xScale.max]},t.prototype.getHandleValue=function(t,n){var i=this.getOptions(t).range;return n===e.TimelineHandle.Lower?i.lower:i.upper},t.prototype.setHandleValue=function(t,n,i){n===e.TimelineHandle.Lower&&(i=new Date(Math.min(Math.max(this.getHandleMinimum(t,n),i.getTime()),this.getHandleMaximum(t,n)))),n===e.TimelineHandle.Upper&&(i=new Date(Math.max(Math.min(this.getHandleMaximum(t,n),i.getTime()),this.getHandleMinimum(t,n)))),t.config.options.timeline.range[n]=i,t.update(),this.triggerOnChange(t)},t.prototype.getHandleMinimum=function(t,n){var i=this.getOptions(t).range.minimum||0,o=this.getOptions(t).range.maximum||1/0,r=R(this.getChartRange(t),1)[0],a=this.getRange(t),s=a.lower;return n===e.TimelineHandle.Lower?Math.max(a.upper.getTime()-o,r):n===e.TimelineHandle.Upper?s.getTime()+i:void 0},t.prototype.getHandleMaximum=function(t,n){var i=this.getOptions(t).range.minimum||0,o=this.getOptions(t).range.maximum||1/0,r=R(this.getChartRange(t),2)[1],a=this.getRange(t),s=a.lower;return n===e.TimelineHandle.Lower?a.upper.getTime()-i:n===e.TimelineHandle.Upper?Math.min(s.getTime()+o,r):void 0},t.prototype.getOptionsWithDefaults=function(e){var t=function(e,n){var i,o;try{for(var r=E(Object.keys(n)),a=r.next();!a.done;a=r.next()){var s=a.value;n[s]instanceof Object&&!(n[s]instanceof Date)&&"function"!=typeof n[s]&&Object.assign(n[s],t(e[s],n[s]))}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return Object.assign(e||{},n)};return t(O({},lc.timeline),e)},t._isRegistered=!1,t}(),pc=function(){function e(){uc.register()}return e.decorators=[{type:n.NgModule,args:[{}]}],e.ctorParameters=function(){return[]},e}();(Ja=e.TimelineHandle||(e.TimelineHandle={})).Lower="lower",Ja.Upper="upper",Ja.Range="range";var hc,dc=function(){function e(){}return e.prototype.getItem=function(e){if(document.cookie){var t=document.cookie.split(";").map((function(e){return{key:e.split("=")[0].trim(),value:e.split("=")[1].trim()}})).find((function(t){return t.key===e}));return t?t.value:null}return null},e.prototype.setItem=function(e,t){document.cookie=e+"="+t+"; path=/"},e.prototype.removeItem=function(e){document.cookie.split(";").forEach((function(t){var n=t.indexOf("=");(n>-1?t.substr(0,n).trim():t)===e&&(document.cookie=t.trim().replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/"))}))},e.prototype.clear=function(){var e=this;document.cookie.split(";").map((function(e){return e.split("=")[0].trim()})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getSupported=function(){return this},e}(),gc=function(){function e(){}return e.prototype.getItem=function(e){return localStorage.getItem(e)},e.prototype.setItem=function(e,t){localStorage.setItem(e,t)},e.prototype.removeItem=function(e){localStorage.removeItem(e)},e.prototype.clear=function(){localStorage.clear()},e.prototype.getSupported=function(){if(!localStorage)return new dc;try{return localStorage.setItem("ux-persistent-data-service","ux-persistent-data-service"),localStorage.removeItem("ux-persistent-data-service"),this}catch(e){return new dc}},e}(),fc=function(){function e(){}return e.prototype.getItem=function(e){return sessionStorage.getItem(e)},e.prototype.setItem=function(e,t){sessionStorage.setItem(e,t)},e.prototype.removeItem=function(e){sessionStorage.removeItem(e)},e.prototype.clear=function(){sessionStorage.clear()},e.prototype.getSupported=function(){if(!sessionStorage)return new dc;try{return sessionStorage.setItem("ux-persistent-data-service","ux-persistent-data-service"),sessionStorage.removeItem("ux-persistent-data-service"),this}catch(e){return new dc}},e}(),yc=function(){function t(){}return t.prototype.setItem=function(t,n,i){void 0===i&&(i=e.PersistentDataStorageType.LocalStorage),this.getAdapter(i).setItem(t,n)},t.prototype.getItem=function(t,n){return void 0===n&&(n=e.PersistentDataStorageType.LocalStorage),this.getAdapter(n).getItem(t)},t.prototype.removeItem=function(t,n){void 0===n&&(n=e.PersistentDataStorageType.LocalStorage),this.getAdapter(n).removeItem(t)},t.prototype.clear=function(t){void 0===t&&(t=e.PersistentDataStorageType.LocalStorage),this.getAdapter(t).clear()},t.prototype.getAdapter=function(t){switch(t){case e.PersistentDataStorageType.Cookie:return new dc;case e.PersistentDataStorageType.LocalStorage:return(new gc).getSupported();case e.PersistentDataStorageType.SessionStorage:return(new fc).getSupported()}},t.decorators=[{type:n.Injectable}],t}();(hc=e.PersistentDataStorageType||(e.PersistentDataStorageType={}))[hc.LocalStorage=0]="LocalStorage",hc[hc.Cookie=1]="Cookie",hc[hc.SessionStorage=2]="SessionStorage";var mc=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{providers:[yc]}]}],e}();e.ACCESSIBILITY_OPTIONS_TOKEN=Q,e.AccessibilityModule=_e,e.AccessibilityOptionsService=J,e.AccordionComponent=z,e.AccordionModule=xe,e.AccordionPanelComponent=N,e.AccordionPanelHeadingDirective=H,e.AccordionService=j,e.AlertComponent=Se,e.AlertIconDirective=we,e.AlertModule=Ee,e.AudioService=Go,e.AudioServiceModule=Ko,e.AutoGrowDirective=ks,e.AutoGrowModule=Is,e.BadgeDirective=Os,e.BadgeModule=Ps,e.BaseSearchComponent=da,e.BreadcrumbsComponent=Re,e.BreadcrumbsModule=Ae,e.CHECKBOX_VALUE_ACCESSOR=ze,e.COLOR_SET_TOKEN=G,e.CONDUITS="_conduits",e.CardTabComponent=je,e.CardTabContentDirective=Fe,e.CardTabsModule=Ne,e.CardTabsService=He,e.CardTabsetComponent=Be,e.CheckboxComponent=We,e.CheckboxModule=Ue,e.ClickOutsideDirective=Xi,e.ClickOutsideModule=Zi,e.ColorContrastDirective=Z,e.ColorPickerColor=Ge,e.ColorPickerComponent=Ye,e.ColorPickerModule=at,e.ColorService=q,e.ColorServiceModule=Y,e.ColumnPickerComponent=Va,e.ColumnSortingComponent=lt,e.ColumnSortingDirective=st,e.ColumnSortingModule=ut,e.Conduit=function(e){return function(t,n){"function"==typeof e&&(e=e.call(null)),t.hasOwnProperty("_conduits")||Object.defineProperty(t,"_conduits",{value:[]}),t._conduits.push(O(O(O({},ft),e),{target:t,propertyKey:n}))}},e.ConduitComponent=dt,e.ConduitModule=yt,e.ConduitSubject=pt,e.ConduitZone=ht,e.ConduitZoneComponent=gt,e.ContrastService=X,e.CookieAdapter=dc,e.DashboardComponent=Ot,e.DashboardDragHandleDirective=Pt,e.DashboardGrabHandleDirective=It,e.DashboardModule=Et,e.DashboardService=St,e.DashboardWidgetComponent=Dt,e.DateFormatterPipe=nn,e.DateFormatterPipeModule=on,e.DateRangeOptions=en,e.DateRangePickerComponent=Jt,e.DateRangePickerDirective=tn,e.DateRangePickerModule=In,e.DateRangeService=Yt,e.DateTimePickerComponent=cn,e.DateTimePickerConfig=rn,e.DateTimePickerModule=kn,e.DateTimePickerService=an,e.DefaultFocusIndicatorDirective=re,e.DragDirective=vt,e.DragModule=_t,e.DragService=mt,e.DropDirective=bt,e.DurationPipe=Yo,e.DurationPipeModule=Xo,e.EboxComponent=On,e.EboxContentDirective=Tn,e.EboxHeaderDirective=Pn,e.EboxModule=En,e.Facet=function(e,t,n,i,o){void 0===t&&(t={}),void 0===i&&(i=!1),this.title=e,this.data=t,this.count=n,this.disabled=i,this.id=o},e.FacetCheckListComponent=jn,e.FacetCheckListItemComponent=Fn,e.FacetClearButtonDirective=Bn,e.FacetContainerComponent=Nn,e.FacetDeselect=Mn,e.FacetDeselectAll=Ln,e.FacetHeaderComponent=Rn,e.FacetSelect=An,e.FacetService=$n,e.FacetTypeaheadHighlight=hi,e.FacetTypeaheadListComponent=pi,e.FacetTypeaheadListItemComponent=li,e.FacetsModule=vi,e.FileSizePipe=Zo,e.FileSizePipeModule=Qo,e.FilterAddEvent=bi,e.FilterContainerComponent=Si,e.FilterDropdownComponent=Di,e.FilterDynamicComponent=Ii,e.FilterModule=Hi,e.FilterRemoveAllEvent=_i,e.FilterRemoveEvent=xi,e.FilterService=wi,e.FilterTypeaheadHighlight=Oi,e.FixedHeaderTableDirective=Ts,e.FixedHeaderTableModule=Es,e.FlippableCardBackDirective=Ni,e.FlippableCardComponent=ji,e.FlippableCardFrontDirective=Bi,e.FlippableCardModule=zi,e.FloatLabelDirective=Rs,e.FloatLabelModule=As,e.FloatingActionButtonComponent=Wi,e.FloatingActionButtonsComponent=Ui,e.FloatingActionButtonsModule=Gi,e.FocusIfDirective=ln,e.FocusIfModule=un,e.FocusIndicator=te,e.FocusIndicatorDirective=oe,e.FocusIndicatorOptionsDirective=ae,e.FocusIndicatorOrigin=se,e.FocusIndicatorOriginDirective=ce,e.FocusIndicatorOriginService=ne,e.FocusIndicatorService=ie,e.FocusWithinDirective=le,e.FrameExtractionService=$o,e.HelpCenterItemDirective=Ls,e.HelpCenterModule=$s,e.HelpCenterService=Ms,e.HierarchyBarCollapsedComponent=no,e.HierarchyBarComponent=Yi,e.HierarchyBarModule=so,e.HierarchyBarNodeIconDirective=Ki,e.HierarchyBarStandardComponent=ao,e.HoverActionContainerDirective=Hs,e.HoverActionDirective=js,e.HoverActionModule=Ns,e.ICON_OPTIONS_TOKEN=Ce,e.IconComponent=Oe,e.IconModule=Pe,e.IconService=Ie,e.InfiniteScrollDirective=Zn,e.InfiniteScrollLoadButtonDirective=Yn,e.InfiniteScrollLoadErrorEvent=ei,e.InfiniteScrollLoadedEvent=Jn,e.InfiniteScrollLoadingDirective=Xn,e.InfiniteScrollLoadingEvent=Qn,e.InfiniteScrollModule=ti,e.InputDropdownComponent=Ra,e.InputDropdownModule=Aa,e.ItemDisplayPanelComponent=wo,e.ItemDisplayPanelContentDirective=_o,e.ItemDisplayPanelFooterDirective=xo,e.ItemDisplayPanelModule=Co,e.LayoutSwitcherDirective=Vs,e.LayoutSwitcherItemDirective=zs,e.LayoutSwitcherModule=Us,e.LocalFocusIndicatorOptions=ee,e.LocalStorageAdapter=gc,e.ManagedFocusContainerDirective=de,e.ManagedFocusContainerService=ue,e.MarqueeWizardComponent=Mo,e.MarqueeWizardModule=Lo,e.MarqueeWizardStepComponent=Ao,e.MarqueeWizardStepIconDirective=Do,e.MediaPlayerBaseExtensionDirective=Ho,e.MediaPlayerComponent=qo,e.MediaPlayerControlsExtensionComponent=Vo,e.MediaPlayerCustomControlDirective=Wo,e.MediaPlayerModule=er,e.MediaPlayerTimelineExtensionComponent=Uo,e.MenuComponent=Ri,e.MenuDividerComponent=Pi,e.MenuItemComponent=Ai,e.MenuModule=$i,e.MenuNavigationDirective=Ys,e.MenuNavigationItemDirective=Ks,e.MenuNavigationModule=Zs,e.MenuNavigationToggleDirective=qs,e.MenuTabbableItemDirective=Mi,e.MenuTriggerDirective=Li,e.NAVIGATION_MODULE_OPTIONS=nr,e.NUMBER_PICKER_VALUE_ACCESSOR=Ze,e.NavigationComponent=rr,e.NavigationItemComponent=tr,e.NavigationLinkDirective=or,e.NavigationModule=ar,e.NavigationService=ir,e.NestedDonutChartComponent=sr,e.NestedDonutChartModule=cr,e.NotificationListComponent=ur,e.NotificationModule=pr,e.NotificationService=lr,e.NumberPickerComponent=Qe,e.NumberPickerModule=et,e.ObserversModule=Js,e.OrganizationChartComponent=hr,e.OrganizationChartModule=dr,e.OverflowDirective=Qs,e.PAGINATION_CONTROL_VALUE_ACCESSOR=Er,e.PageHeaderComponent=Pr,e.PageHeaderCustomMenuDirective=_r,e.PageHeaderIconMenuComponent=xr,e.PageHeaderModule=Tr,e.PageHeaderNavigationComponent=Or,e.PaginationComponent=Rr,e.PaginationModule=Ar,e.PartitionMapComponent=Lr,e.PartitionMapModule=$r,e.PartitionMapSegmentEventsDirective=Mr,e.PersistentDataModule=mc,e.PersistentDataService=yc,e.PopoverComponent=Ji,e.PopoverDirective=eo,e.PopoverModule=to,e.ProgressBarComponent=Fr,e.ProgressBarModule=Hr,e.RADIOBUTTON_VALUE_ACCESSOR=Nr,e.RADIO_GROUP_CONTROL_VALUE_ACCESSOR=jr,e.RadioButtonComponent=Vr,e.RadioButtonGroupDirective=Br,e.RadioButtonModule=Wr,e.ReorderableDirective=fi,e.ReorderableHandleDirective=di,e.ReorderableModelDirective=gi,e.ReorderableModule=yi,e.ResizableExpandingTableDirective=es,e.ResizableTableCellComponent=Ya,e.ResizableTableColumnComponent=Xa,e.ResizableTableDirective=ts,e.ResizeDirective=Le,e.ResizeModule=$e,e.ResizeService=Me,e.SELECT_VALUE_ACCESSOR=oa,e.SPIN_BUTTON_VALUE_ACCESSOR=pn,e.SankeyChart=Ur,e.SankeyChartComponent=qr,e.SankeyChartModule=Yr,e.SankeyNodeDirective=Kr,e.ScrollIntoViewDirective=oi,e.ScrollIntoViewIfDirective=ii,e.ScrollIntoViewService=ni,e.ScrollModule=ri,e.SearchBuilderComponent=na,e.SearchBuilderFocusService=Zr,e.SearchBuilderGroupComponent=ea,e.SearchBuilderGroupService=Jr,e.SearchBuilderModule=va,e.SearchBuilderOutletDirective=ta,e.SearchBuilderService=Qr,e.SearchDateComponent=fa,e.SearchDateRangeComponent=ga,e.SearchSelectComponent=ya,e.SearchTextComponent=ma,e.SelectComponent=ra,e.SelectListComponent=Ta,e.SelectListItemComponent=Ca,e.SelectListModule=Ea,e.SelectModule=ha,e.SelectionDirective=ka,e.SelectionItemDirective=Da,e.SelectionModule=Ia,e.SelectionService=Sa,e.SelectionStrategy=ba,e.SessionStorageAdapter=fc,e.SidePanelCloseDirective=Ma,e.SidePanelComponent=bo,e.SidePanelModule=$a,e.SliderComponent=jo,e.SliderModule=No,e.SparkComponent=Fa,e.SparkModule=Ha,e.SpinButtonComponent=hn,e.SpinButtonModule=dn,e.SplitterAccessibilityDirective=ge,e.StepChangingEvent=To,e.StorageAdapter=function(){},e.StringFilterModule=sc,e.StringFilterPipe=ac,e.TIME_PICKER_VALUE_ACCESSOR=gn,e.TOOLBAR_SEARCH_VALUE_ACCESSOR=hs,e.TabComponent=mr,e.TabHeadingDirective=gr,e.TabbableListDirective=be,e.TabbableListItemDirective=ve,e.TabbableListService=fe,e.TableModule=ns,e.TabsetComponent=vr,e.TabsetModule=br,e.TabsetService=fr,e.TagInputComponent=ua,e.TagInputEvent=aa,e.TagInputModule=pa,e.ThemeColor=K,e.TimePickerComponent=fn,e.TimePickerModule=yn,e.TimelineChartModule=pc,e.TimelineChartPlugin=uc,e.TimelineComponent=rs,e.TimelineEventComponent=os,e.TimelineModule=as,e.ToggleSwitchComponent=ls,e.ToggleSwitchModule=us,e.ToolbarSearchButtonDirective=ps,e.ToolbarSearchComponent=gs,e.ToolbarSearchFieldDirective=ds,e.ToolbarSearchModule=ys,e.TooltipComponent=nt,e.TooltipDirective=ot,e.TooltipModule=rt,e.TooltipService=it,e.TreeGridDirective=oc,e.TreeGridIndentDirective=ic,e.TreeGridModule=rc,e.TreeGridRowDirective=nc,e.TreeGridState=ec,e.TypeaheadComponent=qn,e.TypeaheadKeyService=Vn,e.TypeaheadModule=ci,e.TypeaheadOptionEvent=zn,e.VirtualForContainerComponent=bs,e.VirtualForDirective=vs,e.VirtualForService=ms,e.VirtualScrollCellDirective=_s,e.VirtualScrollComponent=Ss,e.VirtualScrollLoadButtonDirective=xs,e.VirtualScrollLoadingDirective=ws,e.VirtualScrollModule=Ds,e.WizardComponent=Po,e.WizardModule=Ro,e.WizardService=ko,e.WizardStepComponent=Io,e.colorSets=U,e.compareDays=Lt,e.dateComparator=$t,e.dateRange=Mt,e.defaultConduitProps=ft,e.defaultOptions=Ct,e.differenceBetweenDates=Ft,e.getIconType=M,e.getStartOfDay=jt,e.gridify=Rt,e.hpeIconset=Te,e.isColumnPickerGroupItem=ja,e.isDateAfter=Bt,e.isDateBefore=Nt,e.isKeyboardTrigger=$,e.isMouseTrigger=function(e){return!$(e)},e.meridians=Kt,e.months=Vt,e.monthsShort=Wt,e.range=At,e.tick=L,e.timezoneComparator=Ht,e.timezones=qt,e.uxIconset=ke,e.weekdays=Ut,e.weekdaysShort=Gt,e.\u02750=cc,e.\u0275a=V,e.\u0275b=W,e.\u0275bb=mo,e.\u0275bc=Fo,e.\u0275bd=wr,e.\u0275be=Dr,e.\u0275bf=kr,e.\u0275bg=Cr,e.\u0275bh=Ir,e.\u0275bi=Gr,e.\u0275bj=za,e.\u0275bk=qa,e.\u0275bl=Wa,e.\u0275bm=Za,e.\u0275bn=Me,e.\u0275bo=Qa,e.\u0275bp=Ga,e.\u0275bq=Fs,e.\u0275br=Gs,e.\u0275bs=tc,e.\u0275d=kt,e.\u0275e=bn,e.\u0275f=vn,e.\u0275g=mn,e.\u0275h=xn,e.\u0275i=_n,e.\u0275j=Dn,e.\u0275k=Cn,e.\u0275l=Sn,e.\u0275m=wn,e.\u0275n=Wn,e.\u0275o=Un,e.\u0275p=ai,e.\u0275q=si,e.\u0275r=Ei,e.\u0275t=Vi,e.\u0275u=qi,e.\u0275v=io,e.\u0275w=ro,e.\u0275x=oo,e.\u0275y=De,e.\u0275z=vo,Object.defineProperty(e,"__esModule",{value:!0})}));