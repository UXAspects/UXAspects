<div class="hierarchy-bar-container"
     ng-class="{ 'overflow': vm.hierarchyBarOverflow }"
     ng-if="vm.options.enabled === true">

    <div class="overflow-ellipsis"
         ng-if="vm.hierarchyBarOverflow"
         popover-template="'directives/hierarchyBar/hierarchyBar.ellipsis-popover.html'"
         popover-placement="bottom"
         popover-trigger="insideHover"
         popover-popup-delay="200"
         popover-class="hierarchy-bar-popover">

        <span class="ellipsis">. . .</span>
    </div>

    <a class="hierarchy-bar-action"
       ng-if="vm.options.overview">
        <i class="hpe-icon hpe-tree"></i>
    </a>

    <ul class="hierarchy-bar-list">

        <li class="hierarchy-bar-list-item"
            ng-repeat="crumb in vm.data"> 

            <img class="hierarchy-bar-image" ng-if="vm.options.image" ng-src="{{ vm.options.image(crumb) }}">

                    <span ng-bind="::vm.options.valueFormatter(crumb)" ng-click="vm.selectNodeCallback(crumb)"></span> 
                    
                    <span class="hpe-icon hpe-next"
                          ng-class="{ 'active': popoverOpen, 'visible': vm.options.action.event }"
                          popover-template="'directives/hierarchyBar/hierarchyBar.popover.html'"
                          popover-placement="bottom"
                          popover-trigger="{{vm.popoverTrigger}}"
                          popover-is-open="popoverOpen"
                          popover-popup-delay="200"
                          popover-class="hierarchy-bar-popover"
                          ng-click="vm.action(crumb)"></span>  

        </li>

    </ul>
</div>