<div class="partition-map-container" id="partition-box">

  <button aria-label="maximize" class="btn btn-icon btn-circular button-primary btn-lg partition-expand" ng-show="chart.allowMaximize && !chart.noData" ng-class="{ 'maximized' : chart.isMaximized }" type="button" ng-click="chart.toggleMaximized()">
    <div ng-class="{ 'partition-fullscreen-icon': !chart.isMaximized, 'partition-close-icon': chart.isMaximized }"></span>
  </button>

  <partition-editing show="chart.editMode" groups="chart.groups" rows="chart.maxRows"></partition-editing>
  
  <div class="partition-map">


    <h3 class="no-data" ng-show="chart.noData" ng-bind="chart.noDataLabel"></h3>
    <div class="loading" ng-show="chart.isLoading" ng-class="{ 'fade-in' : chart.isLoading }">
      <div class="contents">
        <div class="vertically-centered">
          <h3 class="loading-text" ng-bind="chart.loadingLabel"></h3>
        </div>
      </div>
    </div>
  </div>
  <partition-popover></partition-popover>

  <div class="partition-docked-popover" style="display: none">
    <div ng-hide="chart.isLoading">
    <div class="callout"></div>
    <div class="user-content docked" ng-show="chart.popoverTemplate !== null"></div>
    <div class="data-content">
      <div scroll-config="{ autoReinitialise: false, enableKeyboardNavigation: true, verticalGutter:-2 }" scroll-name="partition-popover-scrollbar" scroll-pane>
        <ul class="child-list">
          <li class="child-item" ng-repeat="child in $parent.chart.dockedChildList" ng-click="$parent.chart.selectSegment(child)">
            <div class="color-block" ng-style="::{'background-color': child.color}"></div>
            <p class="item-key" ng-bind="::child.key"></p>
            <p class="item-value pull-right text-muted" ng-bind="::child.formattedValue"></p>
          </li>
        </ul>
      </div>
    </div>
  </div>
  </div>

</div>
