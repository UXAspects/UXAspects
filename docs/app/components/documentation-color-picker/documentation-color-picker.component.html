<button
    type="button"
    aria-label="Select a color"
    class="btn button-secondary dropdown-toggle"
    #toggleButton
    [uxMenuTriggerFor]="dropdownMenu"
    [closeOnBlur]="true"
>
    <span class="ux-color-picker-button-preview" [style.background-color]="selected.rgba">
        &nbsp;
    </span>
    <ux-icon name="chevron-down"></ux-icon>
</button>

<ux-menu
    #dropdownMenu
    id="color-picker-dropdown"
    (opened)="focused = true"
    (closed)="focused = false">

    <ux-color-picker
        tabindex="0"
        [focusIf]="focused"
        [colors]="colors"
        [(selected)]="selected"
        (selectedChange)="onColorPickerSelectedChange($event)"
        (inputSubmit)="close()"
    ></ux-color-picker>
</ux-menu>