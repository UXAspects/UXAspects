

<hr>

<p>The <code class="highlighter-rouge">social-chart</code> directive accepts the following parameters:</p>

<div class="demo-attributes table-responsive">
  <table class="table">
    <tbody>
      <tr>
        <th>Property</th>
        <th>Type</th>
        <th>Description</th>
        <th>Optional</th>
      </tr>
      <tr>
        <td class="attribute">data</td>
        <td>object</td>
        <td>The data to be displayed in the chart.</td>
        <td>false</td>
      </tr>
      <tr>
        <td class="attribute">width</td>
        <td>string</td>
        <td>The dimensions of the chart container (all CSS dimension units accepted). Note that the containing element must have
          specified dimensions in order to use percentage values.</td>
        <td>false</td>
      </tr>
      <tr>
        <td class="attribute">height</td>
        <td>string</td>
        <td>The dimensions of the chart container (all CSS dimension units accepted). Note that the containing element must have
          specified dimensions in order to use percentage values.</td>
        <td>false</td>
      </tr>
      <tr>
        <td class="attribute">api</td>
        <td>object</td>
        <td>A host object for returned objects and functions.</td>
        <td>false</td>
      </tr>
      <tr>
        <td class="attribute">communities</td>
        <td>object</td>
        <td>A map of node types to colors and styles.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">detail-style</td>
        <td>object</td>
        <td>CSS styles to override the detail panel container styling.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">popover-style</td>
        <td>object</td>
        <td>CSS styles to override the popover panel container styling.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">node-detail</td>
        <td>URL</td>
        <td>The HTML template for the node detail panel.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">edge-detail</td>
        <td>URL</td>
        <td>The HTML template for the edge detail panel.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">node-popover</td>
        <td>URL</td>
        <td>The HTML template for the node popover panel.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">edge-popover</td>
        <td>URL</td>
        <td>The HTML template for the edge popover panel.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">force-atlas-duration</td>
        <td>number</td>
        <td>Time in milliseconds to run the ForceAtlas2 layout algorithm (default 1800).</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">node-size-attribute</td>
        <td>expression</td>
        <td>The node attribute to be used to calculate relative sizes (see below).</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">start-maximized</td>
        <td>boolean</td>
        <td>When true the chart will initially be shown full-screen.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">show-maximize-control</td>
        <td>boolean</td>
        <td>When true the fullscreen display toggle button will be shown.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">fullscreen-button-position</td>
        <td>object</td>
        <td>Override the placement of the fullscreen display toggle button (see below).</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">social-chart-container</td>
        <td>string</td>
        <td>Class name of the container element for full-screen display.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">local-strings</td>
        <td>object</td>
        <td>Localizable strings for internal control labels and tooltips (see below).</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">options</td>
        <td>options</td>
        <td>Additional configuration parameters.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">chart-title</td>
        <td>object</td>
        <td>Configuration options for the title which is displayed when the chart is fullscreen.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">edge-weight-influence</td>
        <td>boolean</td>
        <td>When true the edge weight will be taken into account when positioning the nodes (see layout section).</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">min-labels</td>
        <td>number</td>
        <td>When specified the chart will add labels to at least this many nodes where possible. If a node or edge has been selected
          then only the nodes with focus are eligible to have labels added to them. Labels are added based on the node size,
          with the largest getting labels added first. Nodes near the edges of the chart will also not get labels added to
          them to ensure labels will be fully visible. For more control over when nodes should display labels use the <code>labelThreshold</code>          option.</td>
        <td>true</td>
      </tr>
    </tbody>
  </table>
</div>

<p>The Social Chart is defined by the <code class="highlighter-rouge">social-chart</code> directive. The nodes should have a
  <code class="highlighter-rouge">label</code> and <code class="highlighter-rouge">id</code> defined.</p>

<tabset>


</tabset>

<p>Nodes can also have the optional <code class="highlighter-rouge">community</code> attribute set, which should be a string
  corresponding to an entry in the <code class="highlighter-rouge">communities</code> map passed to the directive (see below).
  Extra data properties can be set to the <code class="highlighter-rouge">additional</code> property; this object will be
  copied to the nodes rendered in the chart, and so can contain any required information or properties.</p>

<p>The edges should have a <code class="highlighter-rouge">source</code> and <code class="highlighter-rouge">target</code> defined
  which should correspond to the ids of nodes.</p>

<p>Edges may also have an optional <code class="highlighter-rouge">weight</code> property which should be an arbitrary value
  that represents the strength of the relationship between the nodes that the edge connects. The higher the value the closer
  the nodes connected by that edge will be positioned together where possible (see layout section).</p>

<p>Edges will be assigned ids based on the order they arrive in the graph, prefixed with the letter ‘e’.</p>

<uxd-snippet></uxd-snippet>

<p>Edges also support the additional property described above.</p>

<h4 id="api-object">Api Object</h4>

<p>The API object is a host object that contains some properties and functions for the chart, and should be passed to the directive
  with null properties for <code class="highlighter-rouge">selectedNode</code> and <code class="highlighter-rouge">selectedEdge</code>.
  These properties will be populated then updated with values from the chart as the user interacts with it. Note the initial
  state of the graph should be set with the methods below. When rendered, chart nodes will have the <code class="highlighter-rouge">getNeighbors</code>  function available, which returns a map of all the node’s 1st degree connections and their edges. Chart edges will have
  the <code class="highlighter-rouge">getSourceNode</code> and <code class="highlighter-rouge">getTargetNode</code> functions
  available, which return node objects.</p>

<p>The chart can be driven via two methods also exposed in this object - these functions are added to the supplied API object
  after the chart is instantiated for use in the developer’s own controller context:</p>

<div class="demo-attributes table-responsive">
  <table class="table">
    <tbody>
      <tr>
        <th>Property</th>
        <th>Type</th>
        <th>Description</th>
        <th>Optional</th>
      </tr>
      <tr>
        <td class="attribute">setSelectedNodeById</td>
        <td>function</td>
        <td>Updates the currently selected node.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">SetSelectedEdgeById</td>
        <td>function</td>
        <td>Updates the currently selected edge.</td>
        <td>true</td>
      </tr>
    </tbody>
  </table>
</div>

<p>Node Ids are persisted from the original data source; edge Ids are generated based on the order the edges arrive in the graph
  and prefixed with the letter ‘e’. Use of these methods is demonstrated below the chart on this page. The code for the two
  text inputs is as shown, showing how to control the chart from an external controller:</p>

<uxd-snippet></uxd-snippet>

<p>To execute custom logic on the node, edge, or stage click events, the following functions should be set on the API object.</p>

<div class="demo-attributes table-responsive">
  <table class="table">
    <tbody>
      <tr>
        <th>Property</th>
        <th>Type</th>
        <th>Description</th>
        <th>Optional</th>
      </tr>
      <tr>
        <td class="attribute">onNodeClick</td>
        <td>function</td>
        <td>Invoked with the selected/hovered node as a parameter.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">onNodeHover</td>
        <td>function</td>
        <td>Invoked with the selected/hovered node as a parameter.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">onEdgeClick</td>
        <td>function</td>
        <td>Invoked with the selected/hovered node as a parameter.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">onEdgeHover</td>
        <td>function</td>
        <td>Invoked with the selected/hovered node as a parameter.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">onStageClick</td>
        <td>function</td>
        <td>Invoked with no parameters.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">onLoadComplete</td>
        <td>function</td>
        <td>Invoked with no parameters, when the graph is initially loaded and the initial layout algorithm has completed.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">onToggleFullscreen</td>
        <td>function</td>
        <td>Invoked with no parameters when the fullscreen/standard toggle button is clicked, if this button is shown. <b>Important:</b>          this function should return a value:
          <ul>
            <li><code>true</code> - perform the default toggle between fullscreen and standard.</li>
            <li><code>false</code> - do not perform the toggle.</li>
          </ul>
        </td>
        <td>true</td>
      </tr>
    </tbody>
  </table>
</div>

<p>To access external objects and API calls that may be required to populate on-demand values, remember that a function closure
  will have access to its original context when executing. For example, if the API object was defined like this:</p>

<uxd-snippet></uxd-snippet>

<p>You can define the functions in the following way (this example uses random values in place of where you could perform API
  calls):</p>

<uxd-snippet></uxd-snippet>

<p>Functions defined in this way will have access to the context where you created the original “vm.api” object even when they
  are executed in the context of the chart’s internal code.</p>

<h4 id="chart-title">Chart Title</h4>

<p>The chart title object contains the properties required for displaying the optional title when the social chart is fullscreen.</p>

<p>The chart title will accept the follwing properties.</p>

<div class="demo-attributes table-responsive">
  <table class="table">
    <tbody>
      <tr>
        <th>Property</th>
        <th>Type</th>
        <th>Description</th>
        <th>Optional</th>
      </tr>
      <tr>
        <td class="attribute">title</td>
        <td>string</td>
        <td>The initial title string which will be displayed before the chart has been used.</td>
        <td>false</td>
      </tr>
      <tr>
        <td class="attribute">timeout</td>
        <td>number</td>
        <td>The time in milliseconds before the title fades, if this is not defined the title will be permanently displayed.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">nodeSelectedTitle</td>
        <td>string</td>
        <td>
          <p ng-non-bindable="">The string which will replace the title when a node is selected, <code>{{node}}</code> will be replaced by the
            name of the currently selected node.</p>
        </td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">edgeSelectedTitle</td>
        <td>string</td>
        <td>
          <p ng-non-bindable="">The string which will replace the title when an edge is selected, <code>{{source}}</code> and <code>{{target}}</code>            will be replaced by the name of the source and target nodes.</p>
        </td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">stageSelectedTitle</td>
        <td>string</td>
        <td>The string which will replace the title when the stage is clicked.</td>
        <td>true</td>
      </tr>
    </tbody>
  </table>
</div>

<uxd-snippet></uxd-snippet>

<h4 id="communities">Communities</h4>

<p>Communities allow styles and colors to be set for groups of nodes. The default render will be a solid fill in the default
  chart color; here this can be changed to any color and to a stroke style. An example community is shown:</p>

<uxd-snippet></uxd-snippet>

<p>Nodes which should receive this style should have a <code class="highlighter-rouge">community</code> attribute set to example_group_1.
  The <code class="highlighter-rouge">color</code> attribute can be any CSS color value, and the <code class="highlighter-rouge">style</code>  attribute can be set to <code class="highlighter-rouge">stroke</code> or <code class="highlighter-rouge">fill</code> (the
  default).</p>

<h4 id="detail-and-popover-templates">Detail and Popover Templates</h4>

<p>The HTML templates set to the node and edge detail parameters will be used to display the detail panels for selected nodes
  and edges. The templates bound here will have access to the <code class="highlighter-rouge">sc.selectedNode</code> and
  <code class="highlighter-rouge">sc.selectedEdge</code> values. The popover is shown when hovering a node or edge and has
  access to the <code class="highlighter-rouge">sc.hoveredItem</code> value, which will be an edge or node object.</p>

<p>These templates are optional, however the callbacks described above for selection and hover events will be fired whether
  these templates are supplied or not. The Detail Panels have a small “close” button in the top right-hand corner, when this
  is clicked, the selected node or edge will be deselected. To remove this button, pass an <code class="highlighter-rouge">option</code>  object to the directive with the <code class="highlighter-rouge">showDetailCloseButton</code> flag set to false.</p>

<h4 id="detail-and-popover-style">Detail and Popover Style</h4>

<p>The templates supplied for both the Detail Panels and the Popover Panels will be fit inside containers. To override the styles
  of these containers use the <code class="highlighter-rouge">detail-style</code> parameter for the Detail Panels and the
  <code class="highlighter-rouge">popover-style</code> parameter for the Popover Panels:</p>

<uxd-snippet></uxd-snippet>

<h4 id="tooltips">Tooltips</h4>

<p>The chart contains some tooltips which are rendered internally. In order to localize the text displayed here, pass the
  <code
    class="highlighter-rouge">local-strings</code> parameter. This should be an object map of keys to localized strings. The following properties can
    be mapped:</p>

<div class="demo-attributes table-responsive">
  <table class="table">
    <tbody>
      <tr>
        <th>Property</th>
        <th>Type</th>
        <th>Description</th>
        <th>Optional</th>
      </tr>
      <tr>
        <td class="attribute">title</td>
        <td>string</td>
        <td>The name of your chart; defaults to "Entire Network" in English.</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">reset</td>
        <td>string</td>
        <td>Localized string for English word "reset".</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">zoomIn</td>
        <td>string</td>
        <td>Localized string for English phrase "Zoom In".</td>
        <td>true</td>
      </tr>
      <tr>
        <td class="attribute">zoomOut</td>
        <td>string</td>
        <td>Localized string for English phrase "Zoom Out".</td>
        <td>true</td>
      </tr>
    </tbody>
  </table>
</div>

<h4 id="initial-state">Initial State</h4>

<p>The initial state of the graph will be zoomed to show all nodes. The <code class="highlighter-rouge">onLoadComplete</code>  API call is available for changing this behaviour. For example, to start the graph with a particular node selected, the
  following code could be used:</p>

<uxd-snippet></uxd-snippet>

<h4 id="full-screen-mode">Full Screen Mode</h4>

<p>To allow a Social Chart to be maximized, a container must be specified. To identify the container, set the <code class="highlighter-rouge">social-chart-container</code>  attribute on the directive to be the string name of a class and set that class on a page element. It is recommended that
  it be applied to the <code class="highlighter-rouge">div</code> element containing the main page content (which will often
  have the class <code class="highlighter-rouge">wrapper-content</code>), this way any navigation, headers or toolbars will
  not be obstructed. The container will be used to position the Social Chart on the page, but the width and height will grow
  to fill the page. The chart size can then be toggled via a button which will be presented near the top-right of the render
  area when the <code class="highlighter-rouge">show-maximize-control</code> attribute is passed as <code class="highlighter-rouge">true</code>.
  By default, the chart does not open in its maximized appearance - you can change this behaviour by setting the <code class="highlighter-rouge">start-maximized</code>  attribute to <code class="highlighter-rouge">true</code>.</p>

<p>To perform custom logic when this button is pressed, including disabling the standard fullscreen/standard view toggle behaviour
  whilst using the button for another purpose, see the optional <code class="highlighter-rouge">onToggleFullscreen</code>  described above.</p>

<p>By default the button will appear in the top-right; to control the placement of this, pass the <code class="highlighter-rouge">fullscreen-button-position</code>  attribute. This should be an object with a definition for one or both of <code class="highlighter-rouge">maximize</code>  (i.e. the button that switches to fullscreen) and <code class="highlighter-rouge">minimize</code> (the button that switches
  from fullscreen back to the standard view). CSS Positioning values should be used, as the button will be absolutely positioned.
  An example is given below:</p>

<uxd-snippet></uxd-snippet>

<p>This example uses <code class="highlighter-rouge">%</code> but other units are also acceptable.</p>

<h4 id="rendering">Rendering</h4>

<p>By default, nodes will be rendered at a size based on their degree. If a node contains a value for the <code class="highlighter-rouge">size</code>  property, this will be used instead.</p>

<p>If the <code class="highlighter-rouge">node-size-attribute</code> parameter is passed to the directive, the <code class="highlighter-rouge">additional</code>  property of each node will be inspected for a numerical property of this name. Note that the value passed to this parameter
  should be an expression (i.e. resolving to a property on your controller); to pass a string directly in the HTML where
  the directive is instantiated, wrap it in a second set of alternate quotation marks. The sizes of the nodes will then be
  interpolated between a minimum and maximum size, based on the value of this property. The minimum and maximum sizes should
  be configured via the <code class="highlighter-rouge">options</code> parameter of the directive, using the <code class="highlighter-rouge">minNodeSize</code>  and <code class="highlighter-rouge">maxNodeSize</code> properties respectively. These are set to 0 and 8 by default. If
  both are set to 0, then the calculated size of the node will be used without interpolation.</p>

<p>The <code class="highlighter-rouge">labelThreshold</code> property can also be set using the <code class="highlighter-rouge">options</code>  object, and determines how large a node should be to have its label displayed. This is relative to the camera zoom level
  and defaults to 7.</p>

<p>When a node is selected, the camera will attempt to pan so that this node is centred in the viewport and the majority of
  the 1st degree nodes remain visible. You can adjust this behaviour by setting the <code class="highlighter-rouge">adjustCameraCenter</code>  property on the <code class="highlighter-rouge">options</code> object (default: true). The camera position when a node
  is selected will then be translated according to the container size and the current camera zoom level, and can be further
  adjusted via a value supplied as <code class="highlighter-rouge">cameraCenterOffset</code> in the <code class="highlighter-rouge">options</code>.</p>

<h4 id="layout">Layout</h4>

<p>By default the layout of the graph is calculated using the ForceAtlas2 algorithm. This algorithm does not have a natural
  termination point, so must be stopped manually after a period of time. The <code class="highlighter-rouge">force-atlas-duration</code>  attribute determines how long the chart will render before it is shown. For larger charts, higher values should be used
  to ensure an evenly spaced appearance. The default is 1800 (milliseconds).</p>

<p>When a node is selected, the selected node and all 1st degree neighbor nodes will be highlighted. The layout of these neighboring
  nodes can be configured using the <code class="highlighter-rouge">neighborViewOnSelect</code> property of the <code class="highlighter-rouge">options</code>  object. The possible values are:</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">true</code> - The 1st degree neighbors will be arranged in an ellipse around the selected
      node, fitting to the viewport. The camera will be centred on the selected node, and the camera zoom level will be the
      same for all nodes. This is the default behaviour.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">false</code> - The node positions remain unchanged when a node is selected. The camera
      will be centred on the selected node, but the zoom level will be adjusted to present as many 1st degree neighbors as
      possible.</p>
  </li>
</ul>

<p>Additionally the layout can be influenced by edge weights. This will position the nodes with the largest weights closer to
  each other where possible. Depending on the number of nodes in the chart increasing the <code class="highlighter-rouge">force-atlas-duration</code>  may improve the layout. To utilize this layout option a <code class="highlighter-rouge">weight</code> property should be
  added to edges:</p>

<uxd-snippet></uxd-snippet>

<p>If no weight property is given to an edge it will be assumed to have a weight of zero. Finally the <code class="highlighter-rouge">edge-weight-influence</code>  attribute needs to be set to a value of <code class="highlighter-rouge">true</code>.</p>

<p>The different layouts can be seen below:</p>

<div class="social-sreenshot-container">
  <div class="screenshot">
    <img src="../../../../../assets/img/social-chart-layout-1.png" width="350" height="350">
    <p class="m-t-sm">Regular Force Atlas Layout</p>
  </div>
  <div class="screenshot">
    <img src="../../../../../assets/img/social-chart-layout-2.png" width="350" height="350">
    <p class="m-t-sm">Edge Weight Influence Enabled</p>
  </div>
</div>

<blockquote>
  <p><strong>Note</strong>: Refer to <a href="https://github.com/jacomyal/sigma.js/wiki/Settings">Sigma JS</a> for more options.</p>
</blockquote>