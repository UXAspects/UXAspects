<div class="demo-toolbar">

    <div class="demo-toolbar-left">
        <ux-toolbar-search [(expanded)]="expanded" direction="right" (search)="onSearch($event)">
            <input uxToolbarSearchField #searchField type="text" class="form-control" placeholder="Search"
                aria-label="Search" [(ngModel)]="searchText"
                [class.ux-toolbar-search-clear-offset]="searchText">
            <button uxToolbarSearchButton type="button" class="btn btn-link btn-icon button-secondary"
                aria-label="Toggle Search" uxTooltip="Search">
                <ux-icon name="search"></ux-icon>
            </button>
            <button *ngIf="searchText" type="button"
                class="btn btn-link btn-icon button-secondary ux-toolbar-search-clear"
                (click)="searchText = ''; searchField.focus()">
                <ux-icon name="close"></ux-icon>
            </button>
        </ux-toolbar-search>
        <button type="button" class="btn btn-link btn-icon button-secondary" uxTooltip="Add">
            <ux-icon name="add"></ux-icon>
        </button>
        <button type="button" class="btn btn-link btn-icon button-secondary" uxTooltip="Edit">
            <ux-icon name="edit"></ux-icon>
        </button>
    </div>

    <div class="demo-toolbar-right">
        <button type="button" class="btn btn-link btn-icon button-secondary" uxTooltip="Grid View">
            <ux-icon name="grid"></ux-icon>
        </button>
        <button type="button" class="btn btn-link btn-icon button-secondary" uxTooltip="List View">
            <ux-icon name="list"></ux-icon>
        </button>
        <ux-toolbar-search direction="left" (search)="onSearchRight($event)">
            <input uxToolbarSearchField #searchFieldRight type="text" class="form-control"
                placeholder="Search" aria-label="Search">
            <button uxToolbarSearchButton type="button" class="btn btn-link btn-icon button-secondary"
                aria-label="Toggle Search" uxTooltip="Search">
                <ux-icon name="search"></ux-icon>
            </button>
        </ux-toolbar-search>
    </div>

</div>

<p class="m-t-md">Searched for: <strong>{{searchedFor}}</strong></p>

<hr>

<p>
    The <code>ux-toolbar-search</code> component can be used to toggle the visibility of a search input box in the
    context of a toolbar. Within this component, create an input field with the attribute
    <code>uxToolbarSearchField</code>, which will act as the search input box, and a
    button with the attribute <code>uxToolbarSearchButton</code>, which will toggle the visibility of the input field,
    and submit the search text when input has been provided. Then, use the <code>(search)</code> event to trigger the
    application's search routine.
</p>

<p>
    The search input field will expand to fill the dimensions of its parent, overlaying any other controls present. To
    support this, ensure that the parent container has <code>position: relative</code> specified.
</p>

<p>
    By default, the escape key is used to collapse the search field. Other keys or events can be used by binding to the
    <code>expanded</code> input property. For example, to collapse when focus is lost, attach a <code>(blur)</code>
    handler to the input field and set the expanded state to false.
</p>

<p>
    Other components can be added as required. The toolbar search component on the left above shows how to include an
    optional "clear" button to the input field using the built-in <code>ux-toolbar-search-clear</code> class.
    If the "clear" button is added, you should add the <code>ux-toolbar-search-clear-offset</code> to the <code>input</code>
    field element to apply the appropriate padding. The sample code shows an example of binding this class.
</p>

<p>
    Another common use-case is to include a <a href="https://valor-software.com/ngx-bootstrap/#/typeahead">typeahead</a> list to
    hint results as the user is typing.
</p>

<p>The following properties are available to configure <code>ux-toolbar-search</code>:</p>

<uxd-api-properties tableTitle="Inputs">
    <tr uxd-api-property name="expanded" type="boolean">
        Whether the input field is visible. Use this to collapse or expand the control in response to other events.
    </tr>
    <tr uxd-api-property name="direction" type="'left' | 'right'" defaultValue="right">
        The direction in which the search box will expand. If the search button is aligned to the right edge of the
        container, specify <code>left</code>.
    </tr>
    <tr uxd-api-property name="alwaysExpanded" type="boolean" defaultValue="false">
        Whether the input field should always appear in the expanded state.
    </tr>
</uxd-api-properties>

<uxd-api-properties tableTitle="Output">
    <tr uxd-api-property name="search" type="string">
        Emitted when a search query has been submitted, either by pressing enter when the search field has focus, or by
        clicking the search button when the search field contains text. The event contains the search text.
    </tr>
</uxd-api-properties>

<ux-tabset [minimal]="false">
    <ux-tab heading="HTML">
        <uxd-snippet [content]="snippets.compiled.appHtml"></uxd-snippet>
    </ux-tab>
    <ux-tab heading="TypeScript">
        <uxd-snippet [content]="snippets.compiled.appTs"></uxd-snippet>
    </ux-tab>
    <ux-tab heading="CSS">
        <uxd-snippet [content]="snippets.compiled.appCss"></uxd-snippet>
    </ux-tab>
</ux-tabset>