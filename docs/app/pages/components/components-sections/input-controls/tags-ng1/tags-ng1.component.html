<uxd-tags-wrapper></uxd-tags-wrapper>

<hr>

<p>The tag input is set with the <code class="highlighter-rouge">tag-input</code> directive. It accepts the following attributes:</p>

<uxd-api-properties>
    <tr uxd-api-property name="tags" type="array" binding="variable" required="true">
      An initial set of tags to be displayed.
    </tr>
    <tr uxd-api-property name="full-tag-set" type="array" binding="variable">
      A set of tags to be used for autocompletion.
    </tr>
    <tr uxd-api-property name="api" type="object" binding="variable">
      A set of callback functions for events and validation.
    </tr>
    <tr uxd-api-property name="options" type="object" binding="variable">
      An object allowing configuration of the control's behaviour.
    </tr>
    <tr uxd-api-property name="ng-disabled" type="boolean" binding="variable" defaultValue="false">
      Determines whether the control is disabled. 
    </tr>
</uxd-api-properties>

<h4>Tags</h4>

<p>Tags can be specified in a number of formats. 
The simplest format is to provide tags as an array of strings; these will be internally converted to an array of objects holding a <code class="highlighter-rouge">text</code> property. 
Tags can also be supplied as an array of objects, where the <code class="highlighter-rouge">text</code> property of each member will be used for the tag control.</p>

<p>Alternatively, you can specify a <code class="highlighter-rouge">format</code> property in the options for the control, and map the display properties to arbitrary values. 
See the Options section below for more details.</p>

<p>By default, tags will be added when the user presses the enter key.</p>

<p>Configuration options are available for extending this to cover the space and comma keys, as well as options for the blur event of the control 
and how to handle text pasted from the clipboard. When the backspace key is pressed after a tag has been entered, the tag will be highlighted. 
The highlighted tag can be changed with the arrow keys, and pressing backspace again will delete the tag.</p>

<h4>Autocomplete</h4>

<p>The tag control supports free-form typing, autocomplete assisted free-form typing, and inputs limited to autocomplete values. 
The Options section below describes how to configure the autocomplete behaviour.</p>

<p>The set of tags should be an array of strings.</p>

<blockquote>
  <p><strong>Note</strong>: that for autocomplete functionality, you must provide a value for the <code class="highlighter-rouge">full-tag-set</code> attribute, and the <code class="highlighter-rouge">autocomplete</code> configuration block must be supplied.</p>
</blockquote>

<h4>API</h4>

<p>The <code class="highlighter-rouge">API</code> attribute allows you to provide an object hosting functions, which will be invoked when the corresponding internal behaviour is executed. 
All of these functions will be called with the tag available as <code class="highlighter-rouge">$tag</code>.</p>

<uxd-api-properties>
    <tr uxd-api-property name="onTagAdding">
      Called before a new tag is added. This method must return <code>true</code> or <code>false</code>, 
      with a return value of <code>false</code> preventing the tag from being added.
    </tr>
    <tr uxd-api-property name="onTagAdded">
      Called after a new tag is added.
    </tr>
    <tr uxd-api-property name="onInvalidTag">
      Called when a tag is invalid.
    </tr>
    <tr uxd-api-property name="onTagRemoving">
      Called before removing a tag. This method must return <code>true</code> or <code>false</code>, 
      with a return value of <code>false</code> preventing the tag from being removed.
    </tr>
    <tr uxd-api-property name="onTagRemoved">
      Called after a tag is removed.
    </tr>
    <tr uxd-api-property name="onTagClicked">
      	Called when the user clicks on an existing tag.
    </tr>
</uxd-api-properties>

<h4>Options</h4>

<p>The <code class="highlighter-rouge">options</code> attribute allows you to provide an object which will configure the behaviour of the control. The following options are available:</p>

<uxd-api-properties>
    <tr uxd-api-property name="placeholder">
      Placeholder text for the input control.
    </tr>
    <tr uxd-api-property name="initialPlaceholder" defaultValue="false">
      Defines if the placeholder should only show when there are no selected tags.
    </tr>
    <tr uxd-api-property name="minTagLength" defaultValue="1">
      Minimum length for a new tag.
    </tr>
    <tr uxd-api-property name="maxTagLength" defaultValue="Max Int">
      	Maximum length for a new tag.
    </tr>
    <tr uxd-api-property name="minNumberTags" defaultValue="0">
      Minimum valid number of tags.
    </tr>
    <tr uxd-api-property name="maxNumberTags" defaultValue="Max Int">
      Maximum valid number of tags.
    </tr>
    <tr uxd-api-property name="addOnSpace" defaultValue="false">
      Flag for if new tags should be added when the space key is pressed.
    </tr>
    <tr uxd-api-property name="addOnComma" defaultValue="false">
      Flag for if new tags should be added when the comma key is pressed.
    </tr>
    <tr uxd-api-property name="addOnBlur" defaultValue="true">
      Flag for if new tags should be added when the control loses focus.
    </tr>
    <tr uxd-api-property name="addOnPaste" defaultValue="true">
      Flag for if new tags should be added when pasting from the clipboard.
    </tr>
    <tr uxd-api-property name="pasteSplitPattern" defaultValue=",">
      When pasting from the clipboard, string delimiter for parsing input into tags.
    </tr>
    <tr uxd-api-property name="tabIndex" defaultValue="undefined">
      Tabindex for the control.
    </tr>
    <tr uxd-api-property name="template">
      HTML for custom tag style.
    </tr>
    <tr uxd-api-property name="maxTagsMessage">
      String for the message which will be displayed if the user exceeds the maximum number of tags.
    </tr>
    <tr uxd-api-property name="maxTagsHidden" defaultValue="false">
      Boolean value to hide the placeholder and autocomplete dropdown if the maximum number of tags has been reached.
    </tr>
    <tr uxd-api-property name="format">
      Object with the following properties:
      <ul>
          <li><code>key</code> - property name in your object format for uniquely identifying tags (Default: 'text').</li>
          <li><code>display</code> - property name in your object format for displaying as the tag's text (Default: 'text').</li>
      </ul>
    </tr>
    <tr uxd-api-property name="autocomplete">
      Object with the following properties:
      <ul>
          <li><code>addFromAutocompleteOnly</code> - flag for allowing only autocomplete values (Default: 'false').</li>
          <li><code>delay</code> - delay in ms before the autocomplete will open (Default: 100).</li>
          <li><code>minLength</code> - number of characters the user should type before the autocomplete will open (Default: 3).</li>
          <li><code>template</code> - html for custom autocomplete style (optional).</li>
          <li><code>source</code> - expression to evaluate upon changing the input content (optional).</li>
      </ul>
    </tr>
    <tr uxd-api-property name="tagClass">
      Function which returns an <code>ng-class</code>-type object defining one or more custom classes and 
      their conditions for activating. The function receives the following parameters:
      <ul>
        <li><code>tag</code> - the tag object, or if an array of strings are being used as tags, an object 
        with a <code>text</code> property.</li>
        <li><code>index</code> - the zero-based index of the tag.</li>
        <li><code>selected</code> - true if the tag is selected.</li>
      </ul>
      <uxd-snippet [content]="snippets.compiled.tagClassSnippetJs" language="javascript"></uxd-snippet>
    </tr>
</uxd-api-properties>

<p>The code for the above example is as follows:</p>

<ux-tabset [minimal]="false">
    <ux-tab heading="HTML">
        <uxd-snippet [content]="snippets.compiled.sampleHtml"></uxd-snippet>
    </ux-tab>
    <ux-tab heading="JavaScript">
        <uxd-snippet [content]="snippets.compiled.sampleJs" language="javascript"></uxd-snippet>
    </ux-tab>
</ux-tabset>

<hr>

<p>The following example demonstrates how to use the autocomplete behaviour. Try typing the names of colours.</p>

<uxd-tags-autocomplete-wrapper></uxd-tags-autocomplete-wrapper>

<hr>

<p>The code for the above example is as follows:</p>

<ux-tabset [minimal]="false">
    <ux-tab heading="HTML">
        <uxd-snippet [content]="snippets.compiled.autocompleteHtml"></uxd-snippet>
    </ux-tab>
    <ux-tab heading="JavaScript">
        <uxd-snippet [content]="snippets.compiled.autocompleteJs" language="javascript"></uxd-snippet>
    </ux-tab>
</ux-tabset>

<hr>

<p>The following example shows how a custom template can be added to the autocomplete to provide more details. Try typing a name.</p>

<uxd-tags-custom-wrapper></uxd-tags-custom-wrapper>

<hr>

<p>The code for the above example is as follows:</p>

<ux-tabset [minimal]="false">
    <ux-tab heading="HTML">
        <uxd-snippet [content]="snippets.compiled.customHtml"></uxd-snippet>
    </ux-tab>
    <ux-tab heading="JavaScript">
        <uxd-snippet [content]="snippets.compiled.customJs" language="javascript"></uxd-snippet>
    </ux-tab>
</ux-tabset>