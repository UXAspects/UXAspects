<div class="sorter-container">
    <span class="sorter-title">Sort by</span>

    <div class="btn-group filter sort-direction-toggle"
        uxMenuNavigation
        (navigatedOut)="toggle.focus()"
        [toggleButton]="toggle"
        dropdown
        #dropdown="bs-dropdown">

        <!-- Dropdown Button -->
        <button #toggle="uxMenuNavigationToggle"
            uxMenuNavigationToggle
            [(menuOpen)]="dropdown.isOpen"
            dropdownToggle
            class="btn dropdown-toggle filter-dropdown">
            {{ selected }} <span class="hpe-icon hpe-down"></span>
        </button>

        <!-- Dropdown List -->
        <ul *dropdownMenu class="dropdown-menu" role="menu">
            <li *ngFor="let option of options">
                <a (click)="sort(option)"
                    role="menuitem"
                    (keydown.enter)="sort(option); toggle.focus()"
                    tabindex="-1"
                    uxMenuNavigationItem>

                    <i class="hpe-icon hpe-checkmark sorter-icon"
                        [class.invisible]="option !== selected">
                    </i>
                    <span class="sorter-text">{{ option }}</span>
                </a>
            </li>
        </ul>

        <!-- Sort Direction Toggle -->
        <button class="sort-icon hpe-icon text-muted"
            uxFocusIndicator
            attr.aria-label="{{ descending ? 'Descending' : 'Ascending' }} sort applied, activate
            to apply a {{ !descending ? 'descending' : 'ascending' }} sort"
            [class.hpe-descend]="descending"
            [class.hpe-ascend]="!descending"
            (click)="descending = !descending">
        </button>
    </div>
</div>