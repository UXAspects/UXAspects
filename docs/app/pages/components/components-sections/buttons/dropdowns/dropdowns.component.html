<div class="btn-group"
     dropdown
     #dropdown="bs-dropdown"
     (onHidden)="isMarkAsMenuOpen = false; isAddCaseMenuOpen = false">

    <button dropdownToggle
            id="button-dropdown-toggle"
            type="button"
            class="btn button-secondary dropdown-toggle"
            aria-haspopup="true"
            [attr.aria-expanded]="dropdown.isOpen"
            uxMenuNavigationToggle
            [(menuOpen)]="dropdown.isOpen"
            #menuNavigationToggle="uxMenuNavigationToggle">
        Actions <span class="hpe-icon hpe-down dropdown-icon-inline"></span>
    </button>

    <ul *dropdownMenu
        class="dropdown-menu dropdown-menu-demo"
        role="menu"
        aria-labelledby="button-dropdown-toggle"
        uxMenuNavigation
        [toggleButton]="menuNavigationToggle"
        toggleButtonPosition="top">

        <li role="menuitem" class="dropdown-submenu" >
            <a href="javascript:void(0);"
               class="dropdown-menu-item"
               uxMenuNavigationItem
               tabindex="-1"
               uxMenuNavigationToggle
               [(menuOpen)]="isMarkAsMenuOpen"
               menuPosition="right"
               #markAsMenuNavigationToggle="uxMenuNavigationToggle">

                <span class="dropdown-menu-icon"></span>
                <span class="dropdown-menu-text">Mark as</span>
                <span class="dropdown-menu-right dropdown-menu-hint">
                    <i class="hpe-icon hpe-next"></i>
                </span>
            </a>
            <ul class="dropdown-menu dropdown-menu-demo"
                role="menu"
                uxMenuNavigation
                [toggleButton]="markAsMenuNavigationToggle"
                toggleButtonPosition="left"
                [class.dropdown-open]="isMarkAsMenuOpen">

                <li role="menuitem">
                    <a href="javascript:void(0);"
                       class="dropdown-menu-item"
                       uxMenuNavigationItem tabindex="-1">
                        <span class="dropdown-menu-icon">
                            <i class="hpe-icon hpe-more"></i>
                        </span>
                        <span class="dropdown-menu-text">Pending</span>
                        <span class="dropdown-menu-right dropdown-menu-hint">ALT+P</span>
                    </a>
                </li>
                <li role="menuitem">
                    <a href="javascript:void(0);"
                       class="dropdown-menu-item"
                       uxMenuNavigationItem tabindex="-1">
                        <span class="dropdown-menu-icon">
                            <i class="hpe-icon hpe-link-up"></i>
                        </span>
                        <span class="dropdown-menu-text">Escalated</span>
                        <span class="dropdown-menu-right dropdown-menu-hint">ALT+E</span>
                    </a>
                </li>
                <li role="menuitem">
                    <a href="javascript:void(0);"
                       class="dropdown-menu-item"
                       uxMenuNavigationItem tabindex="-1">
                        <span class="dropdown-menu-icon">
                            <i class="hpe-icon hpe-checkmark"></i>
                        </span>
                        <span class="dropdown-menu-text">Closed</span>
                        <span class="dropdown-menu-right dropdown-menu-hint">ALT+C</span>
                    </a>
                </li>
            </ul>
        </li>
        <li class="divider"></li>
        <li role="menuitem">
            <a href="javascript:void(0);"
               class="dropdown-menu-item"
               uxMenuNavigationItem tabindex="-1">
                <span class="dropdown-menu-icon"></span>
                <span class="dropdown-menu-text">Export</span>
            </a>
        </li>
        <li role="menuitem" class="dropdown-submenu">
            <a href="javascript:void(0);"
               class="dropdown-menu-item"
               uxMenuNavigationItem
               tabindex="-1"
               uxMenuNavigationToggle
               [(menuOpen)]="isAddCaseMenuOpen"
               menuPosition="right"
               #addCaseMenuNavigationToggle="uxMenuNavigationToggle">
                <span class="dropdown-menu-icon"></span>
                <span class="dropdown-menu-text">Add to case</span>
                <span class="dropdown-menu-right dropdown-menu-hint">
                    <i class="hpe-icon hpe-next"></i>
                </span>
            </a>
            <div class="dropdown-menu case-dropdown"
                 uxMenuNavigation
                 [toggleButton]="addCaseMenuNavigationToggle"
                 toggleButtonPosition="left"
                 [class.dropdown-open]="isAddCaseMenuOpen">
                <div class="case-filter">
                    <div class="inner-addon right-addon">
                        <i class="hpe-icon hpe-search"></i>
                        <input type="text"
                               class="form-control"
                               [(ngModel)]="caseFilter"
                               (click)="$event.stopPropagation();" />
                    </div>
                </div>
                <div>
                    <div class="case-items">
                        <ul>
                            <li role="menuitem" *ngFor="let case of cases | stringFilter: caseFilter">
                                <a href="javascript:void(0);"
                                   uxMenuNavigationItem
                                   tabindex="-1">
                                   {{ case }}
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </li>
        <li role="menuitem">
            <a href="javascript:void(0);"
               class="dropdown-menu-item"
               uxMenuNavigationItem
               tabindex="-1">
                <span class="dropdown-menu-icon"></span>
                <span class="dropdown-menu-text">Save list</span>
                <span class="dropdown-menu-right dropdown-menu-hint">ALT+L</span>
            </a>
        </li>
        <li role="menuitem">
            <a href="javascript:void(0);"
               class="dropdown-menu-item"
               uxMenuNavigationItem
               tabindex="-1">
                <span class="dropdown-menu-icon"></span>
                <span class="dropdown-menu-text">Save search query</span>
                <span class="dropdown-menu-right dropdown-menu-hint">ALT+S</span>
            </a>
        </li>
        <li role="menuitem">
            <a href="javascript:void(0);"
               class="dropdown-menu-item"
               uxMenuNavigationItem
               tabindex="-1">
                <span class="dropdown-menu-icon">
                    <i class="hpe-icon hpe-edit"></i>
                </span>
                <span class="dropdown-menu-text">Annotate</span>
                <span class="dropdown-menu-right dropdown-menu-hint">ALT+A</span>
            </a>
        </li>
    </ul>
</div>

<hr>

<p>
    Bootstrap provides directives to create dropdown menus such as the example above. Set <code>dropdownToggle</code> on the
    button or other element which toggles the dropdown, and <code>dropdownMenu</code> on the menu contents. These should be
    wrapped in a container with the <code>dropdown</code> directive.
</p>

<p>UX Aspects provides additional styles to create menus with common features including gutter icons, keyboard shortcut hints, and submenus.</p>

<p>
    To style menu items as above, apply the <code>dropdown-menu-item</code> class to the <code>a</code> element of the menu item.
    This will contain up to three <code>span</code> elements with classes as follows:</p>

<ul>
  <li><code>dropdown-menu-icon</code> - This contains the icon, which may be one of the <a routerLink="/css/icons" fragment="ux-icons">UX Aspects Icons</a>or an image. If no icon is required, leave this empty to ensure a consistent gutter for other items with icons.</li>
  <li><code>dropdown-menu-text</code> - This contains the menu text.</li>
  <li><code>dropdown-menu-right</code> - Optionally, this may contain right aligned text or icons. <code>dropdown-menu-hint</code> provides a default text style for keyboard shortcut hints here.</li>
</ul>

<blockquote>
  <p>See <a routerLink="/components/keyboard" fragment="keyboard-service-ng1">Keyboard Service</a> for information on binding keyboard shortcuts.</p>
</blockquote>

<p>Set the width on the <code>ul</code> element to ensure that the menu contents will fit.</p>

<p>
    To create a menu item which opens a submenu, set the <code>dropdown-submenu</code> class on the <code>li</code> element,
    and insert the menu contents below the <code>a</code> element. The above example demonstrates both a standard and a custom submenu.
</p>

<p>
    There are several directives which can be used within dropdowns to provide keyboard accessibility. The <code>uxMenuNavigationToggle</code> directive
    should be placed on the button that launches the dropdown. The <code>uxMenuNavigation</code> directive should be placed on the dropdown menu element
    and the <code>uxMenuNavigationItem</code> directive should be placed on every item in the dropdown.
</p>

<p>
    The following inputs and outputs are available on the menu navigation directives:
</p>

<uxd-api-properties tableTitle="uxMenuNavigationToggle Inputs">
    <tr uxd-api-property name="menuOpen" type="boolean">
        Indicate if the menu is open.
    </tr>
    <tr uxd-api-property name="menuPosition" type="'top' | 'right' | 'bottom' | 'left'">
        Define the position the menu appears relative to the button.
    </tr>
</uxd-api-properties>

<uxd-api-properties tableTitle="uxMenuNavigationToggle Inputs">
    <tr uxd-api-property name="menuOpenChange" type="boolean">
        Emits when the menu open state changes.
    </tr>
    <tr uxd-api-property name="keyEnter" type="void">
        Emits whenever a key that opens the menu is pressed.
    </tr>
</uxd-api-properties>

<uxd-api-properties tableTitle="uxMenuNavigation Inputs">
    <tr uxd-api-property name="toggleButton" type="MenuNavigationToggleDirective">
        Define the toggle button associated with this dropdown.
    </tr>
    <tr uxd-api-property name="toggleButtonPosition" type="'top' | 'right' | 'bottom' | 'left'">
        Define the position of the toggle button relative to the menu.
    </tr>
</uxd-api-properties>

<uxd-api-properties tableTitle="uxMenuNavigation Outputs">
    <tr uxd-api-property name="activated" type="void">
        Emits when the menu item receives focus.
    </tr>
</uxd-api-properties>

<uxd-api-properties tableTitle="uxMenuNavigationItem Outputs">
    <tr uxd-api-property name="navigatedOut" type="KeyboardEvent">
        Emits when the user navigates away from the menu.
    </tr>
</uxd-api-properties>

<p>The following code can be used to create the example above:</p>

<ux-tabset [minimal]="false">
    <ux-tab heading="HTML">
        <uxd-snippet [content]="snippets.compiled.appHtml" language="html"></uxd-snippet>
    </ux-tab>
    <ux-tab heading="TypeScript">
        <uxd-snippet [content]="snippets.compiled.appTs" language="javascript"></uxd-snippet>
    </ux-tab>
    <ux-tab heading="CSS">
        <uxd-snippet [content]="snippets.compiled.appCss" language="css"></uxd-snippet>
    </ux-tab>
</ux-tabset>