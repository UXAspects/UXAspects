<div class="row">
    <div class="col-md-6">
        <h4>Raised</h4>
        <div class="btn-group">
            <button
                type="button"
                class="btn button-primary dropdown-toggle dropdown-button"
                [uxMenuTriggerFor]="menu">
                <span>Actions</span><ux-icon name="chevron-down" class="dropdown-icon-inline"></ux-icon>
            </button>
        </div>

        <div class="btn-group">
            <button
                type="button"
                class="btn button-secondary dropdown-toggle dropdown-button"
                [uxMenuTriggerFor]="menu">
                <span>Actions</span><ux-icon name="chevron-down" class="dropdown-icon-inline"></ux-icon>
            </button>
        </div>
    </div>

    <div class="col-md-6">
        <h4>Flat</h4>
        <div class="btn-group">
            <button
                type="button"
                class="btn btn-link button-primary dropdown-toggle dropdown-button"
                [uxMenuTriggerFor]="menu">
                <span>Actions</span><ux-icon name="chevron-down" class="dropdown-icon-inline"></ux-icon>
            </button>
        </div>

        <div class="btn-group">
            <button
                type="button"
                class="btn btn-link button-secondary dropdown-toggle dropdown-button"
                [uxMenuTriggerFor]="menu">
                <span>Actions</span><ux-icon name="chevron-down" class="dropdown-icon-inline"></ux-icon>
            </button>
        </div>
    </div>
</div>

<ux-menu #menu menuClass="ux-menu-demo">

    <button type="button" uxMenuItem [uxMenuTriggerFor]="markAsMenu">
        <span class="dropdown-menu-icon"></span>
        <span class="dropdown-menu-text">Mark as</span>
        <span class="dropdown-menu-right dropdown-menu-hint">
            <ux-icon name="next"></ux-icon>
        </span>
    </button>

    <ux-menu-divider></ux-menu-divider>

    <button type="button" uxMenuItem (activate)="export()">
        <span class="dropdown-menu-icon"></span>
        <span class="dropdown-menu-text">Export</span>
    </button>

    <button type="button" uxMenuItem [uxMenuTriggerFor]="casesMenu">
        <span class="dropdown-menu-icon"></span>
        <span class="dropdown-menu-text">Add to case</span>
        <span class="dropdown-menu-right dropdown-menu-hint">
            <ux-icon name="next"></ux-icon>
        </span>
    </button>

    <button type="button" uxMenuItem (activate)="saveList()">
        <span class="dropdown-menu-icon"></span>
        <span class="dropdown-menu-text">Save list</span>
        <span class="dropdown-menu-right dropdown-menu-hint">ALT+L</span>
    </button>

    <button type="button" uxMenuItem (activate)="saveQuery()">
        <span class="dropdown-menu-icon"></span>
        <span class="dropdown-menu-text">Save search query</span>
        <span class="dropdown-menu-right dropdown-menu-hint">ALT+S</span>
    </button>

    <button type="button" uxMenuItem>
        <span class="dropdown-menu-icon">
            <ux-icon name="edit"></ux-icon>
        </span>
        <span class="dropdown-menu-text">Annotate</span>
        <span class="dropdown-menu-right dropdown-menu-hint">ALT+A</span>
    </button>

</ux-menu>

<ux-menu #markAsMenu menuClass="mark-as-menu">

    <button type="button" uxMenuItem>
        <span class="dropdown-menu-icon">
            <ux-icon name="more"></ux-icon>
        </span>
        <span class="dropdown-menu-text">Pending</span>
        <span class="dropdown-menu-right dropdown-menu-hint">ALT+P</span>
    </button>

    <button type="button" uxMenuItem>
        <span class="dropdown-menu-icon">
            <ux-icon name="link-up"></ux-icon>
        </span>
        <span class="dropdown-menu-text">Escalated</span>
        <span class="dropdown-menu-right dropdown-menu-hint">ALT+E</span>
    </button>

    <button type="button" uxMenuItem>
        <span class="dropdown-menu-icon">
            <ux-icon name="checkmark"></ux-icon>
        </span>
        <span class="dropdown-menu-text">Closed</span>
        <span class="dropdown-menu-right dropdown-menu-hint">ALT+C</span>
    </button>

</ux-menu>

<ux-menu #casesMenu>
    <div class="case-filter">
        <div class="inner-addon right-addon">
            <ux-icon name="search"></ux-icon>
            <input
                type="text"
                class="form-control"
                [(ngModel)]="caseFilter"
                (click)="$event.stopPropagation();" />
        </div>
    </div>

    <div class="case-items">
        <button
            type="button"
            uxMenuItem
            *ngFor="let case of cases | stringFilter: caseFilter">
            {{ case }}
        </button>
    </div>

</ux-menu>

<hr>

<p>
    Dropdown menus can be created using the <code>ux-menu</code> component. Each item within the menu should have a
    <code>[uxMenuItem]</code> directive applied to it which will automatically add all accessibility attributes and keyboard navigation.
</p>

<p>
    The element that launches the menu should have a <code>[uxMenuTriggerFor]</code> directive applied and should be
    passed the <code>MenuComponent</code> that it should show. The menu can also be programmatically controlled
    by accessing the menu trigger directive using <code>@ViewChild(MenuTriggerDirective)</code>.
</p>

<p>
    When using <code>*ngFor</code> make sure to use the <code>trackBy</code> function to prevent the menu from closing unexpectedly if the items are updated.
</p>

<p>
    The <code>ux-menu-divider</code> component can be used to add separators between menu items.
</p>

<p>UX Aspects provides additional styles to create menus with common features including gutter icons, keyboard shortcut hints, and submenus.</p>

<ul>
  <li><code>dropdown-menu-icon</code> - This contains the icon, which may be one of the <a routerLink="/css/icons" fragment="ux-icons">UX Aspects Icons</a> or an image. If no icon is required, leave this empty to ensure a consistent gutter for other items with icons.</li>
  <li><code>dropdown-menu-text</code> - This contains the menu text.</li>
  <li><code>dropdown-menu-right</code> - Optionally, this may contain right aligned text or icons. <code>dropdown-menu-hint</code> provides a default text style for keyboard shortcut hints here.</li>
</ul>

<p>
    The following inputs and outputs are available on the menu component and directives:
</p>

<uxd-api-properties tableTitle="Menu Inputs">
    <tr uxd-api-property name="placement" type="'top' | 'right' | 'bottom' | 'left'" defaultValue="bottom">
        Define where the menu will appear relative to the trigger element.
    </tr>
    <tr uxd-api-property name="alignment" type="'start' | 'center' | 'end'" defaultValue="start">
        Define the alignment of the menu relative to the trigger element.
    </tr>
    <tr uxd-api-property name="animate" type="boolean" defaultValue="true">
        Define if the menu should animate when opening and closing.
    </tr>
    <tr uxd-api-property name="menuClass" type="string">
        Define a class that should be given to the menu.
    </tr>
</uxd-api-properties>

<uxd-api-properties tableTitle="Menu Outputs">
    <tr uxd-api-property name="opening" type="void">
        Emits when the menu starts opening.
    </tr>
    <tr uxd-api-property name="opened" type="void">
        Emits when the menu has opened, after the animation completes.
    </tr>
    <tr uxd-api-property name="closing" type="void">
        Emits when the menu starts closing.
    </tr>
    <tr uxd-api-property name="closed" type="void">
        Emits when the menu has closed, after the animation completes.
    </tr>
</uxd-api-properties>

<uxd-api-properties tableTitle="Menu Item Inputs">
    <tr uxd-api-property name="disabled" type="boolean">
        Define if this item is disabled.
    </tr>
    <tr uxd-api-property name="role" type="'menuitem' | 'menuitemradio' | 'menuitemcheckbox'" defaultValue="menuitem">
        Define the role of the menu item.
    </tr>
    <tr uxd-api-property name="closeOnSelect" type="boolean" defaultValue="true">
        Determine if the menu should close on click of the menu item.
    </tr>
</uxd-api-properties>

<uxd-api-properties tableTitle="Menu Item Outputs">
    <tr uxd-api-property name="activate" type="MouseEvent | KeyboardEvent">
        Emits when the menu item is clicked or the enter key is pressed.
    </tr>
</uxd-api-properties>

<uxd-api-properties tableTitle="Menu Trigger Directive Inputs">
    <tr uxd-api-property name="uxMenuTriggerFor" type="MenuComponent">
        Define the menu to open.
    </tr>
    <tr uxd-api-property name="disabled" type="boolean">
        Define if this trigger is disabled.
    </tr>
    <tr uxd-api-property name="uxMenuParent" type="ElementRef">
        Optionally define the menu's parent element. See the <a routerLink="." fragment="split-button-dropdowns">Split Button Dropdown</a> documentation for an example.
    </tr>
</uxd-api-properties>

<uxd-api-properties tableTitle="Menu Trigger Directive Methods">
    <tr uxd-api-property name="openMenu">
        Programmatically open the menu.
    </tr>
    <tr uxd-api-property name="closeMenu" args="origin?: FocusOrigin, closeParents?: boolean">
        Programmatically close the menu. Optionally provide the focus origin and whether or not all parent menus should be closed.
    </tr>
    <tr uxd-api-property name="toggleMenu">
        Programmatically toggle the open state of the menu.
    </tr>
</uxd-api-properties>

<p>The following code can be used to create the example above:</p>

<ux-tabset [minimal]="false">
    <ux-tab heading="HTML">
        <uxd-snippet [content]="snippets.compiled.appHtml" language="html"></uxd-snippet>
    </ux-tab>
    <ux-tab heading="TypeScript">
        <uxd-snippet [content]="snippets.compiled.appTs" language="javascript"></uxd-snippet>
    </ux-tab>
    <ux-tab heading="CSS">
        <uxd-snippet [content]="snippets.compiled.appCss" language="css"></uxd-snippet>
    </ux-tab>
</ux-tabset>
