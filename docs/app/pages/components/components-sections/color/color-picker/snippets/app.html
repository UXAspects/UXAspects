<div class="demo-color-picker-container">
    <button
        type="button"
        aria-label="Select a color"
        class="btn button-secondary dropdown-toggle"
        #toggleButton
        [uxMenuTriggerFor]="dropdownMenu"
    >
        <span class="ux-color-picker-button-preview" [style.background-color]="selected.rgba">
            &nbsp;
        </span>
        <ux-icon name="chevron-down"></ux-icon>
    </button>

    <span class="m-l-lg">
        Selected: <code>{{ selected.hex }}</code> &mdash;
        <code>{{ selected.rgba }}</code>
    </span>
</div>

<ux-menu
    #dropdownMenu
    id="color-picker-dropdown"
    (opened)="focused = true"
    (closed)="focused = false">

    <ux-color-picker
        tabindex="0"
        [focusIf]="focused"
        (blur)="focused = false"
        [colors]="colors"
        [(selected)]="selected"
        (selectedChange)="onColorPickerSelectedChange()"
        [columns]="columns"
        [buttonStyle]="buttonStyle"
        [buttonSize]="buttonSize"
        [showTooltips]="showTooltips"
        [showInput]="showInput"
        (inputSubmit)="close()"
    ></ux-color-picker>
    <div *ngIf="showInput" class="btn-container demo-color-picker-close">
        <button type="button" class="btn button-primary" (click)="close()">Accept</button>
    </div>
</ux-menu>
