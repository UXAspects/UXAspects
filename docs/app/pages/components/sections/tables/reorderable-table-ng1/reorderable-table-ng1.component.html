<uxd-reorderable-table-wrapper></uxd-reorderable-table-wrapper>

<hr>

<p>
    Table rows can be reordered by using the <code>reorderable-table</code> directive. The above example shows how to add
    buttons to move rows up or down, add a handle to allow a row to be dragged into a new position and also a button to remove
    individual rows.
</p>

<tabset>
    <tab heading="HTML">
        <uxd-snippet language="html" [code]="htmlCode"></uxd-snippet>
    </tab>
    
    <tab heading="Javascript">
        <uxd-snippet language="javascript" [code]="jsCode"></uxd-snippet>
    </tab>
    
    <tab heading="CSS">
        <uxd-snippet language="css" [code]="cssCode"></uxd-snippet>
    </tab>
</tabset>

<p>The following attributes are available to configure the behavior:</p>

<div class="demo-attributes table-responsive">
    <table class="table m-t">
        <tbody>
            <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Binding</th>
                <th>Description</th>
                <th>Optional</th>
            </tr>
            <tr>
                <td class="attribute">on-reorder</td>
                <td>function</td>
                <td>variable</td>
                <td>This defines a function to be called when the order of the chart changes at any stage. This function should
                    accept one argument which will contain the updated model.</td>
                <td>true</td>
            </tr>
            <tr>
                <td class="attribute">on-reorder-complete</td>
                <td>function</td>
                <td>variable</td>
                <td>This defines a function to be called when the user has finished dragging or reordering the rows. This function
                    should accept one argument which will contain the updated model.</td>
                <td>true</td>
            </tr>
        </tbody>
    </table>
</div>

<h4 id="table-data">Table Data</h4>

<p>
    The <code>table</code> element should have both the <code>reorderable-table</code> directive and an <code>ng-model</code>.
    The <code>ng-model</code> should be set to the array in the controller containing the table data. This model will be
    updated when any rows are reordered to reflect the changes.
</p>

<p>
    The table rows should be rendered using the <code>ng-repeat</code> directive as this will keep all changes in both the
    UI and model in sync. Note that you cannot use <code>track by</code> in the <code>ng-repeat</code> as the <code>reorderable-table</code>    directive tracks each row internally. Using <code>track by</code> will prevent the table from working as expected.
</p>

<p>The example above uses the following to render table rows using <code>ng-repeat</code>:</p>

<uxd-snippet language="html" [code]="tableDataCode"></uxd-snippet>

<h4 id="reorder-controls">Reorder Controls</h4>

<p>
    Any element in the table row can be used to move a row up or down or to drag it. These elements are designated by adding
    specific attributes to them. The following attributes can be added to elements to give them reorder actions:
</p>

<div class="demo-attributes table-responsive">
    <table class="table m-t">
        <tbody>
            <tr>
                <th>Name</th>
                <th>Description</th>
            </tr>
            <tr>
                <td class="attribute">reorder-up</td>
                <td>When the element with this attribute is clicked the row will be moved up one position.</td>
            </tr>
            <tr>
                <td class="attribute">reorder-drag</td>
                <td>The element with this attribute can be used to drag a row to a different position in the list.</td>
            </tr>
            <tr>
                <td class="attribute">reorder-down</td>
                <td>When the element with this attribute is clicked the row will be moved down one position.</td>
            </tr>
        </tbody>
    </table>
</div>

<p>In the example above we added the following as our reordering controls:</p>

<uxd-snippet language="html" [code]="controlsCode"></uxd-snippet>

<h4 id="removing-rows">Removing Rows</h4>

<p>
    To remove rows from a reorderable table add a button to the row that calls a function in your controller which will remove
    the appropriate item from the model array, after which the table will re-render showing the correct items., e.g.:
</p>

<tabset>
    <tab heading="HTML">
        <uxd-snippet language="html" [code]="removeRowHtmlCode"></uxd-snippet>
    </tab>
    
    <tab heading="Javascript">
        <uxd-snippet language="javascript" [code]="removeRowJsCode"></uxd-snippet>
    </tab>
</tabset>