angular.module("app",["ux-aspects"]).run(function(a,b,c){a.$state=b,a.$stateParams=c}),angular.module("app").config(["$stateProvider","$urlRouterProvider","$breadcrumbProvider",function(a,b,c){c.setOptions({includeAbstract:!0}),b.otherwise("/listview/listview1"),a.state("listview",{abstract:"true",url:"/listview",template:'<ui-view autoscroll="false" />',ncyBreadcrumb:{label:"List Views"}}).state("listview.listview1",{url:"/listview1",templateUrl:"app/views/listViews/listView1.html",controller:"ListViewCtrl as vm",ncyBreadcrumb:{label:"List View 1"},data:{pageTitle:"List View 1"}}).state("listview.listview2",{url:"/listview2",templateUrl:"app/views/listViews/listView2.html",controller:"ListViewCtrl as vm",ncyBreadcrumb:{label:"List View 2"},data:{pageTitle:"List View 2"}}).state("detailview",{url:"/detailview",templateUrl:"app/views/detailView/detailView.html",ncyBreadcrumb:{label:"Detail View"},data:{pageTitle:"Detail View"}})}]),function(){function a(){var a=this;"uxaspects.github.io"===window.location.host?a.link="/UXAspects/#/showcase":a.link="/#/showcase"}angular.module("app").controller("AppNavigatorCtrl",a)}(),function(){function a(a,b,c,d){var e=this;e.sourceUrl=document.referrer,e.currentState=null,e.previousState=null,e.topSearchExpanded=!1,e.versionName="UX Aspects Angular Version",b.$on("$viewContentLoaded",function(){e.currentState=c.current.name}),b.$on("$stateChangeStart",function(a,b,c,d){e.previousState=d.name}),e.expandTopSearch=function(a){e.topSearchExpanded=a},e.sortHelpCenter=function(a,b){return a.title>b.title?1:a.title<b.title?-1:0},e.goBack=function(){"detailview"===e.currentState&&e.previousState?c.go(e.previousState):window.location.href=e.sourceUrl},e.tooltipsVisible=!1,e.toggleTooltips=function(){document.querySelector(".static-tooltip")?d.hideAllTooltips():d.showAllTooltips()},a.$watch(function(){return d.tooltipsVisible()},function(a){e.tooltipsVisible=a})}angular.module("app").controller("PageHeaderCtrl",a),a.$inject=["$scope","$rootScope","$state","$staticTooltip"]}(),function(){function a(a,b,c,d,e,f,g,h,i){function j(){z.tooltipPosition=B.classList.contains("affix")?"bottom":"top",a.$$phase||a.$digest()}function k(a){return function(b){return b.name===a}}function l(a){z.sparklabel={percentComplete:a.storage,inlineLabel:"<span class='spark-label'><span class='x-large'>"+Math.round(a.storage)+"%</span></span>",topLeftLabel:"<span class='spark-label-1'>Work completed (%)</span>",tooltip:"Spark Line Indicator - "+parseFloat(a.storage/100*8.2).toFixed(2)+"GB of 8.2GB occupied ("+a.storage+"%)",type:"spark-chart5"}}function m(){return z.columns.filter(function(a){return a.visible}).sort(function(a,b){return a.order<b.order?-1:a.order>b.order?1:0})}function n(){return z.dropdownFilters=[],z.dropdownFilters.push({title:"Author",options:[{name:"Author",filtername:M,deselect:[J],default:!0}]},{title:"Date modified",options:[{name:"Date modified",filtername:M,deselect:[N,G,H],default:!0},{name:"Today",filtername:N,deselect:[M,N,H],default:!1},{name:"Last week",filtername:G,deselect:[M,N,H],default:!1},{name:"Last month",filtername:H,deselect:[M,N,G],default:!1}]},{title:"Status",options:[{name:"Status",filtername:M,deselect:[K,L],default:!0},{name:"Active",filtername:K,deselect:[M,L],default:!1},{name:"Inactive",filtername:L,deselect:[M,K],default:!1}]}),z.dropdownFilters}function o(){z.facets=[],z.facets.push({title:"DATE MODIFIED",options:[{name:"Today",filter:function(a){return a.date===z.service.todayValue}},{name:"Last Week",filter:G},{name:"Last Month",filter:H},{name:"Last Year",filter:I}]});var a={title:"AUTHOR",options:z.service.users.sort().map(function(a){return{name:a,filter:function(b){return b.name===a}}})},b={title:"FILE TYPES",options:z.service.extensions.sort().map(function(a){return{name:a,filter:function(b){return b.document.indexOf(a,b.document.length-a.length)!==-1}}})};return z.facets.push(b),z.facets.push(a),z.facets}function p(){return z.sorters=[],z.sorters={title:"Sort by ",options:[{name:"Name",sort:"document",default:!1},{name:"Author",sort:"name",default:!1},{name:"Date modified (earliest)",sort:"date",default:!0},{name:"Date modified (latest)",sort:"date",orderDesc:!0,default:!1}]},z.sorters}function q(){return{headers:[{sorterHeader:"",sortable:!1,fixedClass:"table-col-icon"},{sorterHeader:"NAME",sortable:!0,sort:"document",fixedClass:"table-col-md"},{sorterHeader:"AUTHOR",sortable:!0,sort:"name",fixedClass:"table-col-md"},{sorterHeader:"DATE MODIFIED",sortable:!0,sort:"date",fixedClass:"table-col-md"},{sorterHeader:"WORK COMPLETED (%)",sortable:!1},{sorterHeader:"STATUS",sortable:!1,center:!0}]}}function r(a){for(var b=z.service.users.sort(),c=b.length;c<a;c++)b.push(chance.name());var d=b.sort(function(a,b){var c=a.split(" "),d=b.split(" "),e=c[c.length-1],f=d[d.length-1];return e<f?-1:e>f?1:0});return d}function s(){z.facets.forEach(function(a){var b=[];z.filters.push(b),a.options.forEach(function(a){a.filtersInThisType=b,a.select=function(){b.push(a.filter),z.filters.push(b),z.updateCounts(),z.updateSelectCounts(),w(),x()},a.deselect=function(){b.splice(b.indexOf(a.filter),1),z.filters.push(b),z.updateCounts(),z.updateSelectCounts(),w(),x()},a.count=v(a)})})}function t(){z.dropdownFilters.forEach(function(a){var b=[];a.options.forEach(function(a){a.filtersUsed=b,a.select=function(){var c=[];a.deselect.forEach(function(a){c.push(a),b.splice(b.indexOf(c),1)}),b.push(a.filtername),z.filters.push(b),z.updateCounts(),z.updateSelectCounts(),w(),x()}})});var a=function(a){return!z.searchTerm||0===z.searchTerm.trim().length||(a.name.toLowerCase().indexOf(z.searchTerm.toLowerCase())!==-1||a.document.toLowerCase().indexOf(z.searchTerm.toLowerCase())!==-1)};z.filters.push([a])}function u(){z.sorters.options.forEach(function(a){a.select=function(a){z.activeSorter=a.sort,z.orderDesc=a.orderDesc,w()}}),z.gridColumnHeader.headers.forEach(function(a){a.select=function(a,b){z.activeSorter=a,z.orderDesc=b,w()}}),z.visibleColumns.forEach(function(a){a.select=function(a,b){z.activeSorter=a,z.orderDesc=b,w()}})}function v(a){var b=[];return z.filters.forEach(function(c){c.length>0&&c!==a.filtersInThisType&&b.push(function(a){return c.some(function(b){return b(a)})})}),z.service.getTotalWithFilters(b.concat([a.filter]),z.groupType)}function w(a,b){z.count=0,a=a||[],z.filters.forEach(function(b){b.length>0&&a.push(function(a){return b.some(function(b){return b(a)})})}),b||(z.currentPage=1),z.items=z.service.getPage(z.currentPage-1,z.pageSize,a,z.activeSorter,z.orderDesc,z.groupType);for(var c=0;c<z.items.length;c++)z.multiprovider.isSelected(z.items[c])&&(z.count=z.count+1);z.multiprovider.state.selectAllMode===!1&&(z.multiprovider.state.count=z.count),z.totalItems=z.service.getTotalWithFilters(a,z.groupType)}function x(){c(function(){var a=document.getElementsByClassName("card-view");if(0===a.length||"card"!==z.selectedLayout)return void(z.pageSize=50);var b=a[0],c=b.offsetWidth;z.cardViewWidth=c;var d=b.getElementsByClassName("card");if(0===d.length||z.totalItems<50)return void(z.pageSize=50);var e=d[0],f=$(e).outerWidth(!0),g=Math.floor(c/f);if(g<=0)return void(z.pageSize=50);var h=50%g;z.pageSize=50-h,z.loadNewPage()})}function y(){z.previewSet&&"grid"===z.selectedLayout?z.selectedLayout="stack":z.previewSet||"stack"!==z.selectedLayout?z.previewSet&&"card"===z.selectedLayout?z.selectedLayout="cardStack":z.previewSet||"cardStack"!==z.selectedLayout||(z.selectedLayout="card"):z.selectedLayout="grid","card"===z.selectedLayout?x():(z.pageSize=50,0!==z.numOfPages&&z.currentPage>0&&(z.currentPage-1)*z.pageSize>=z.totalItems&&z.currentPage--,0===z.currentPage&&(z.currentPage=1),z.loadNewPage())}var z=this;z.ei={skip:3,offset:0},z.rootScope=e,z.timeout=c,z.filterSearchExpanded=!1,z.service=d,z.multiprovider=f,z.$state=b,z.searchTerm="",z.searchTermInput="",z.date="",z.dateFacetOpened=!1,z.totalItems=z.service.getTotal(),z.currentPage=1,z.pageSize=50,z.filters=[],z.numOfPages=0,z.activeSorter="date",z.orderDesc=!1,z.previewFile="",z.previewSet=!1,z.previewTitle="",z.previewSubtitle="",z.previewEmptyText="Select an item from the list",z.selectedLayout="grid",z.activeLayout=null,z.cardViewWidth=null,z.scrollBarConfig={autoReinitialise:!0,enableKeyboardNavigation:!0,verticalGutter:-10,autoReinitialiseDelay:50,isScrollableH:!1},z.filterLongListConfig={minCharacters:3,maxIndividualItems:10,maxDisplayableItems:10},z.facetLongListConfig={minCharacters:3,minIndividualItems:0,maxIndividualItems:10,maxDisplayableItems:10},z.hoveredDiscussion=null,z.groupType="Exact match",z.groupClass="hpe-icon hpe-list",z.exactMatch=function(){z.groupType="Exact match",z.groupClass="hpe-icon hpe-list",z.performGrouping()},z.groupAttachments=function(){z.groupType="Group attachments",z.groupClass="hpe-icon hpe-mail-attachment",z.performGrouping()},z.expandAttachments=function(){z.groupType="Expand attachments",z.groupClass="hpe-icon hpe-attachment",z.performGrouping()},z.expandDiscussions=function(){z.groupType="Expand discussions",z.groupClass="hpe-icon hpe-chat",z.performGrouping()},z.expandAll=function(){z.groupType="Expand all",z.groupClass="hpe-icon hpe-chat-attachment",z.performGrouping()},z.notExactMatch=function(){return"Exact match"!==z.groupType},z.performGrouping=function(){var a=a||[];z.filters.forEach(function(b){b.length>0&&a.push(function(a){return b.some(function(b){return b(a)})})}),w(),z.updateCounts(),z.updateSelectCounts(),z.totalItems=z.service.getTotalWithFilters(a,z.groupType)};var A={name:"document",author:"name",datemodified:"dateString","workcompleted (%)":"storage",status:"active",documentid:"id",location:"location",timemodified:"modified"};z.downloadPdf=function(){for(var a=[],b=0;b<z.visibleColumns.length;b++)a.push({title:z.visibleColumns[b].name,value:z.visibleColumns[b].name.toLowerCase().replace(" ",""),width:"*"});a=a.filter(function(a){return"icon"!==a.value});var c=c||[];z.filters.forEach(function(a){a.length>0&&c.push(function(b){return a.some(function(a){return a(b)})})});for(var d=z.service.getPage(0,z.pageSize,c,z.activeSorter,z.orderDesc,z.groupType,null,!0),e=[],f=0;f<d.length;f++){for(var g={},i=0;i<a.length;i++)"status"===a[i].value?g[a[i].value]=d[f][A[a[i].value]]?"Active":"Inactive":g[a[i].value]=void 0!==d[f][A[a[i].value]]?d[f][A[a[i].value]]:"";e.push(g)}var j=h.createTable(a,e,{});j.download("tableData.pdf")};var B=document.querySelector(".affix-toolbar"),C=new MutationObserver(j);C.observe(B,{attributes:!0}),j(),z.columns=[{sorterHeader:"",sortable:!1,fixedClass:"table-col-icon",name:"Icon",locked:!0,visible:!0,order:0,classes:"table-col-icon"},{sorterHeader:"NAME",sortable:!0,sort:"document",fixedClass:"table-col-md",name:"Name",locked:!0,visible:!0,order:1,classes:"listview-text-emphasis table-col-md"},{sorterHeader:"AUTHOR",sortable:!0,sort:"name",fixedClass:"table-col-md",name:"Author",locked:!1,visible:!0,order:2,classes:"table-col-md"},{sorterHeader:"DATE MODIFIED",sortable:!0,sort:"date",fixedClass:"table-col-md",name:"Date Modified",locked:!1,visible:!0,order:3,classes:"table-col-md"},{sorterHeader:"WORK COMPLETED (%)",sortable:!1,name:"Work Completed (%)",locked:!1,visible:!0,order:4,classes:"spark-chart-col-width2"},{sorterHeader:"STATUS",sortable:!1,center:!0,name:"Status",locked:!1,visible:!0,order:5,classes:"text-center item-actions"},{sorterHeader:"DOCUMENT ID",sortable:!1,name:"Document ID",locked:!1,visible:!1,order:6,classes:"table-col-md"},{sorterHeader:"LOCATION",sortable:!1,name:"Location",locked:!1,visible:!1,order:7,classes:"table-col-md"},{sorterHeader:"TIME MODIFIED",sortable:!1,name:"Time Modified",locked:!1,visible:!1,order:8,classes:"table-col-md"}],z.visibleColumns=m();var D=new Date(z.service.todayValue),E=new Date(z.service.todayValue),F=new Date(z.service.todayValue);D.setDate(D.getDate()-7),E.setDate(E.getDate()-28),F.setFullYear(F.getFullYear()-1);var G=function(a){return a.date>=D},H=function(a){return a.date>=E},I=function(a){return a.date>=F},J=function(a){return"Ian Raine"===a.name},K=function(a){return a.active===!0},L=function(a){return a.active===!1},M=function(){return!0},N=function(a){return a.date===z.service.todayValue},O=function(a){return""===z.compareDate||a.date.getDate().toString()+a.date.getMonth().toString()+a.date.getFullYear().toString()===z.compareDate},P=[],Q="",R=function(){z.filters.push(P),z.updateCounts(),z.updateSelectCounts(),w()};z.facetContainerObject={},z.facets=o(),z.dropdownFilters=n(),z.sorters=p(),z.gridColumnHeader=q(),w([],!0),z.resizeInterval=setInterval(function(){if("card"===z.selectedLayout){var a=document.getElementsByClassName("card-view");if(0===a.length)return;var b=a[0],c=b.offsetWidth;c!==z.cardViewWidth&&x()}},200),a.$on("$destroy",function(){clearInterval(z.resizeInterval)}),z.chooseColumns=function(){i.hideAllTooltips();var a=g.open({animation:!1,templateUrl:"app/views/listViews/modal/columnModal.html",controller:"ChooseModalCtrl",controllerAs:"vm",keyboard:"true",windowClass:"square-modal-window column-chooser-modal",resolve:{availableColumns:function(){return z.columns}}});a.result.then(function(a){z.columns=a,z.visibleColumns=m()})},z.clearAllFn=function(){return 0},z.dateFacetOpen=function(a){a.preventDefault(),a.stopPropagation(),z.dateFacetOpened=!0,z.prevdate=z.date},z.dateFacetOpenKey=function(a){13===a.which&&(a.preventDefault(),a.stopPropagation(),z.dateFacetOpened=!0,z.prevdate=z.date)},z.change=function(){var a=new Date(z.date);isNaN(a)?z.date=new Date:z.date!==z.prevdate&&(z.date=new Date(z.date),z.prevdate=z.date)},z.dateFacetDeselect=function(){Q=z.date,z.date="",P.splice(0,1),z.filters.push(P),R()},z.dateFacetSelect=function(){z.compareDate=""!==z.date?z.date.getDate().toString()+z.date.getMonth().toString()+z.date.getFullYear().toString():"",P.push(O),R()},z.dateFacetDisplayFn=function(){if(z.date=Q,""!==z.date)return z.date.getDate().toString()+" - "+(z.date.getMonth()+1).toString()+" - "+z.date.getFullYear().toString()},z.rootScope.layout||(z.rootScope.layout="grid"),a.$watch("vm.previewSet",function(a,b){a!==b&&y()}),a.$watch("vm.rootScope.layout",function(a,b){a!==b&&(z.selectedLayout=a,y())}),z.childScope=a,z.childScope.show=!1,z.service.panel.forEach(function(b){b.scope=a}),z.apply=function(b){a.document=b.document,a.name=b.name,a.dateString=b.dateString,a.storage=b.storage};for(var S=r(80),T=0;T<S.length;T++){var U=k(S[T]);z.dropdownFilters[0].options.push({name:S[T],filtername:U,deselect:[U],default:!1})}s(),t(),u(),z.loadNewPage=function(){w([],!0)},z.primaryHoverAction=function(){},z.secondaryHoverAction=function(){},z.select=function(){z.updateSelectCounts()},z.deselect=function(){z.updateSelectCounts()},z.multiplePrimary=function(){},z.keyFn=function(a){return a.id},z.clearSelection=function(){z.multiprovider.cancel()},z.longListCallback=function(a,b){return b},z.textFilter=function(a){z.searchTerm=a,z.searchTermInput=a,z.updateCounts(),z.updateSelectCounts(),w(),x()},z.searchBoxKeyPress=function(a){13===a.keyCode&&z.textFilter(z.searchTermInput)},z.searchBoxBlur=function(){z.searchTermInput=z.searchTerm},z.updateCounts=function(){z.facets.forEach(function(a){a.options.forEach(function(a){a.count=v(a)})})},z.updateSelectCounts=function(){z.count=0;var a=a||[];z.filters.forEach(function(b){b.length>0&&a.push(function(a){return b.some(function(b){return b(a)})})}),z.items=z.service.getPage(z.currentPage-1,z.pageSize,a,z.activeSorter,z.orderDesc,z.groupType);for(var b=0;b<z.items.length;b++)z.multiprovider.isSelected(z.items[b])&&(z.count=z.count+1);z.multiprovider.state.selectAllMode===!1&&(z.multiprovider.state.count=z.count)},z.loadNewPage=function(){w([],!0)},z.goToDetails=function(a){z.childScope.author=z.items[a].name,z.childScope.title=z.items[a].title,z.childScope.sparklabel=l(z.items[a]),z.previewSet?(z.previewTitle=z.items[a].document,z.previewSubtitle=z.items[a].dateString,".html"===z.items[a].extension?z.previewFile="documents/Preview.html":".pdf"===z.items[a].extension?z.previewFile="documents/PreviewPDF.html":".doc"===z.items[a].extension?z.previewFile="documents/PreviewDOC.html":".xls"===z.items[a].extension?z.previewFile="documents/PreviewXLS.html":".ppt"===z.items[a].extension&&(z.previewFile="documents/PreviewPPT.html")):z.$state.go("detailview")},z.expandFilter=function(a){if(z.filterSearchExpanded=a,a===!1){var b=document.getElementsByName("list-view-1-search"),c=document.getElementsByName("list-view-2-search");b&&0!==b.length?b[0].value=z.searchTerm?z.searchTerm:"":c&&0!==c.length&&(c[0].value=z.searchTerm?z.searchTerm:"")}},z.additionalActionsTooltip={content:"More actions",direction:"up",position:"middle",offsetX:1,offsetY:2,tooltipClass:"custom-tooltip",hidden:!0,tooltipId:"st-additional"},z.controlsTooltip={content:"Filter the items shown in the table",direction:"up",position:"middle",offsetX:84,offsetY:10,tooltipClass:"custom-tooltip",hidden:!0,tooltipId:"st-controls"},z.columnsTooltip={content:"Add or remove columns in the table",direction:"up",position:"end",offsetX:3,offsetY:4,tooltipClass:"custom-tooltip",closeAll:!0,hidden:!0},z.previewTooltip={content:"Show a preview of the selected item",direction:"up",position:"end",offsetX:3,offsetY:4,tooltipClass:"custom-tooltip",hidden:!0,tooltipId:"st-preview"},z.hideAttitionalActionsTooltip=function(){i.hideTooltip(z.additionalActionsTooltip.tooltipId)},z.hideControlsTooltip=function(){i.hideTooltip(z.controlsTooltip.tooltipId)},z.hidePreviewTooltip=function(){i.hideTooltip(z.previewTooltip.tooltipId)}}function b(){return function(a,b){return Math.min(a,b)}}angular.module("app").controller("ListViewCtrl",a),angular.module("app").filter("min",b),a.$inject=["$scope","$state","$timeout","exampleDataService","$rootScope","multipleSelectProvider","$modal","$pdf","$staticTooltip"]}(),function(){function a(a,b,c){function d(){var a=[];return f.visibleColumns.forEach(function(b,c){b.order=c,b.visible=!0,a.push(b)}),f.hiddenColumns.forEach(function(b,c){b.order=f.visibleColumns.length+c,b.visible=!1,a.push(b)}),a}function e(){f.canRemoveColumns=f.visibleColumns.filter(function(a){return a.selected}).length>0,0!==f.selectedColumns.length&&f.selectedColumns.length+f.visibleColumns.length<=7?(f.canAddColumns=!0,f.limitReached=!1):0!==f.selectedColumns.length?(f.limitReached=!0,f.canAddColumns=!1):(f.canAddColumns=!1,f.limitReached=!1)}var f=this;f.scrollConfig={autoReinitialise:!0,enableKeyboardNavigation:!0},f.limitReached=!1,f.columnSearch="",f.hiddenColumns=c.filter(function(a){return a.visible===!1}).slice(0),f.visibleColumns=c.filter(function(a){return a.visible===!0}).slice(0),f.selectedColumns=[],f.canAddColumns=!1,f.canRemoveColumns=!1,a.$watch("vm.selectedColumns",e,!0),a.$watch("vm.visibleColumns",e,!0),f.selectRow=function(a,b){a.target.hasAttribute("reorder-up")||a.target.hasAttribute("reorder-down")||a.target.hasAttribute("reorder-drag")||b.locked||(b.selected=!b.selected)},f.addColumns=function(){f.selectedColumns.forEach(function(a){var b=f.hiddenColumns.indexOf(a),c=f.hiddenColumns.splice(b,1)[0];f.visibleColumns.push(c)}),f.selectedColumns=[]},f.removeColumns=function(){for(var a=f.visibleColumns.filter(function(a){return a.selected}),b=0;b<a.length;b++){var c=a[b],d=f.visibleColumns.indexOf(c),e=f.visibleColumns.splice(d,1)[0];e.selected=!1,f.hiddenColumns.push(e)}},f.ok=function(){b.close(d())},f.cancel=function(){b.dismiss()}}angular.module("app").controller("ChooseModalCtrl",a),a.$inject=["$scope","$modalInstance","availableColumns"]}(),function(){function a(a,b){function c(a,b,c){return c===!0?a.sort(function(a,c){var d=a[b],e=c[b];return d<e?1:d>e?-1:a.id<c.id?-1:1}):a.sort(function(a,c){var d=a[b],e=c[b];return d<e?-1:d>e?1:a.id<c.id?-1:1})}function d(a,b,c){return a.sort(function(a,d){var e=0,f=0,g=0;c[0]===!0&&(e=1),c[1]===!0&&(f=2),c[2]===!0&&(g=4);var h=e+f+g,i=a[b[0]],j=d[b[0]],k=a[b[1]],l=d[b[1]],m=a[b[2]],n=d[b[2]];switch(h){case 0:return i<j?-1:i>j?1:k<l?-1:k>l?1:m<n?-1:m>n?1:a.id<d.id?-1:1;case 1:return i<j?1:i>j?-1:k<l?-1:k>l?1:m<n?-1:m>n?1:a.id<d.id?-1:1;case 2:return i<j?-1:i>j?1:k<l?1:k>l?-1:m<n?-1:m>n?1:a.id<d.id?-1:1;case 3:return i<j?1:i>j?-1:k<l?1:k>l?-1:m<n?-1:m>n?1:a.id<d.id?-1:1;case 4:return i<j?-1:i>j?1:k<l?-1:k>l?1:m<n?1:m>n?-1:a.id<d.id?-1:1;case 5:return i<j?1:i>j?-1:k<l?-1:k>l?1:m<n?1:m>n?-1:a.id<d.id?-1:1;case 6:return i<j?-1:i>j?1:k<l?1:k>l?-1:m<n?1:m>n?-1:a.id<d.id?-1:1;case 7:return i<j?1:i>j?-1:k<l?1:k>l?-1:m<n?1:m>n?-1:a.id<d.id?-1:1}})}function e(a){var b=[],c={};"listview.listview2"===K&&(a-=y.length);for(var d=0;d<a;d++){c={id:d};var e=Math.floor(20*Math.random());c.name=s[e];var f=d%E.length;d%2===0&&d%3===0&&(f=0),c.date=E[f],c.rawDateString=$.datepicker.formatDate("d M yy",c.date),c.dateString=0===f?"Today":$.datepicker.formatDate("d M yy",c.date);var g=Math.floor(5*Math.random());if("listview.listview2"===K)if(g<4){for(var h=Math.floor(Math.random()*x.length),i=!1,j=0;j<b.length;j++)if(b[j].document===x[h]){i=!0,c.discussionId=b[j].id;break}c.document=i?"RE: "+x[h]:x[h],c.icon="email-icon",c.iconColor="#ccbb00"}else{var k=Math.floor(5*Math.random());c.document=u[k].type+u[k].extension,c.extension=u[k].extension,c.icon=u[k].icon,c.iconColor=u[k].iconColor,c.storage=w[k]}else c.document="Document "+(d+1)+v[g],c.extension=v[g],c.panel=L[g],c.storage=w[g];c.active=d%5===0&&d%3===0||d%2===0,b.push(c)}if("listview.listview2"===K){for(var l=[],m=b.filter(function(a){return a.extension?a:void l.push(a)}),n=0;n<m.length;n++)m[n].parentId=l[Math.floor(Math.random()*l.length)].id;for(var o=function(a){"The Periwinkle Foundation"===a.document&&(z.parentId=a.id)},p=function(a){"Meeting Minutes"===a.document&&(z.parentId=a.id)},q=function(a){"Standard of Business Conduct"===a.document&&(z.parentId=a.id)},r=function(a){"Davis Taylor decision"===a.document&&(z.parentId=a.id)},t=0;t<y.length;t++){var z={};z.id=b.length+t,z.name=s[Math.floor(20*Math.random())],z.date=E[Math.floor(4*Math.random())+1],z.dateString=$.datepicker.formatDate("d M yy",z.date),z.document=y[t],z.icon="email-icon",z.iconColor="#ccbb00","Periwinkle questions"===z.document?(l.filter(o),m[0].parentId=z.id,m[1].parentId=z.id):"Meeting questions"===z.document?(l.filter(p),m[2].parentId=z.id,m[3].parentId=z.id):"SBC log"===z.document?(l.filter(q),m[4].parentId=z.id,m[5].parentId=z.id):"Decision notes"===z.document&&(l.filter(r),m[6].parentId=z.id,m[7].parentId=z.id),b.push(z)}}return b}function f(a,b,e,f,k,l,m,o){a<0&&(a=0),b<=0&&(b=20);for(var p=0;p<M.length;p++)M[p].showAttachment=!1,M[p].showDiscussion=!1,M[p].discussionFirst=!1,M[p].discussionLast=!1,M[p].level=null,void 0!==M[p].parentId&&(M[p].discussionId=null);var q=[];q=m===!0?d(M,f,k):c(M,f,k),"Group attachments"===l?q=g(q):"Expand attachments"===l?q=h(q):"Expand discussions"===l?q=i(q):"Expand all"===l&&(q=j(q)),e&&e.length&&(q=e.reduce(function(a,b){return a.filter(b)},q)),"Expand discussions"!==l&&"Expand all"!==l||n(q);var r=a*b;return o?q:q.slice(r,r+b)}function g(a){var b=[];return a=a.filter(function(a){return void 0===a.parentId?a:void b.push(a)}),m(b,a),a}function h(a){for(var b=a.filter(function(a){return void 0===a.parentId}),c=[],d=0;d<b.length;d++){var e=b[d];c.push(e),k(e,a,c)}return c}function i(a){return l(a)}function j(a){for(var b=l(a),c=[],d=0;d<b.length;d++){var e=b[d];c.push(e),k(e,a,c)}return c}function k(a,b,c,d){void 0===d&&(d=1);var e=b.filter(function(b){return a.id===b.parentId});if(e.length>0){a.showAttachment=!0;for(var f=0;f<e.length;f++){var g=e[f];c.push(g),g.discussionId=a.discussionId?a.discussionId:a.id,g.level=d,k(g,b,c,d+1)}}}function l(a){for(var b=a.filter(function(a){return void 0===a.parentId&&void 0===a.discussionId}),c=[],d=function(a){return f.id===a.discussionId},e=0;e<b.length;e++){var f=b[e],g=a.filter(d);c.push(f),c.push.apply(c,g)}var h=a.filter(function(a){return a.parentId});return m(h,c),c}function m(a,b){for(var c=0;c<b.length;c++)for(var d=0;d<a.length;d++)if(b[c].id===a[d].parentId){b[c].showAttachment=!0;break}}function n(a){for(var b=a.filter(function(a){return void 0===a.parentId&&(void 0===a.discussionId||null===a.discussionId)}),c=function(b){return a[e].discussionId===b.discussionId},d=[],e=0;e<a.length;e++)if(!(d.indexOf(a[e].discussionId)>-1||void 0===a[e].discussionId||null===a[e].discussionId)){d.push(a[e].discussionId);for(var f=a.filter(c),g=[],h=0;h<b.length;h++)b[h].id===f[0].discussionId&&g.push(b[h]);g.push.apply(g,f),g.length>1?(g.forEach(function(a){a.showDiscussion=!0}),g[0].discussionFirst=!0,g[g.length-1].discussionLast=!0):(g[0].showDiscussion=!1,g[0].discussionFirst=!1,g[0].discussionLast=!1)}}function o(){return M.length}function p(a,b){if(a&&a.length){var c=q(M,b),d=a.reduce(function(a,b){return a.filter(b)},c);return d.length}return r}function q(a,b){function c(a,b,d){var e=b.filter(function(b){return a.id===b.parentId});if(e.length){d.push.apply(d,e);for(var f=0;f<e.length;f++)d=c(e[f],b,d)}return d}if("Group attachments"===b)return a.filter(function(a){return void 0===a.parentId});if("Expand attachments"===b){for(var d=a.filter(function(a){return void 0===a.parentId}),e=[],f=0;f<d.length;f++)e.push(d[f]),e=c(d[f],a,e);return e}if(void 0===b||"Exact match"===b)return a;var g=a.filter(function(a){return void 0===a.parentId&&void 0===a.discussionId}),h=[];return g.forEach(function(b){h=a.filter(function(a){return b.id===a.discussionId&&void 0===b.parentId}),g.push.apply(g,h)}),g}for(var r=250,s=[],t=0;t<20;t++)s.push(chance.name());s.sort();var u=[{type:"HTML document",extension:".html",icon:"html-icon",iconColor:"#000000"},{type:"PDF document",extension:".pdf",icon:"pdf-icon",iconColor:"#C01E07"},{type:"Word document",extension:".doc",icon:"word-icon",iconColor:"#2B5797"},{type:"Excel spreadsheet",extension:".xls",icon:"excel-icon",iconColor:"#207347"},{type:"Powerpoint",extension:".ppt",icon:"powerpoint-icon",iconColor:"#D04727"}],v=[".html",".pdf",".doc",".xls",".ppt"],w=["5.25","15.25","25.25","75.25","95.25"],x=["The Periwinkle Foundation","Jackson National Life","Pooling Technial Subcomittee Meeeting","New Starts documents","Meeting Minutes","Standard of Business Conduct","Compliance with FCAP","Monthly Newsletters","All Employee Meeting","Davis Taylor decision","Requested updates","Issues with blogging","World Mental Health Week","Announcement: HPE SW","Attention all developers","Maintenance down time","Diversity in the work place","UK works council changes","The Randal Project","Request for LOA","Potential new client","Career opportunities","Deadline: need this today!","Password needing reset","Home login setup","Your password is about to expire!","Policy changes","Make the most out of your career","Purchase Order #23301","Directors meeting","New positions opened up","Do you even javascript?","Charity Event","Fund raiser","QA of outstanding tickets","Useful links","Monthly payslip","UX updates","Weekly catchup","Daily standup meeting","Why you should be using SCRUM","UX Aspects latest features","New positions opened up","The Gavin Chronicles","Charity football event","Fundraiser for charities","401k pension scheme","Investors daily newspaper","Application for sw dev role","Review process updates","Useful web links","Staff dinner night!","Confirmation of order","Invoices pending approval","Planning of sprint #121","Review documents","Planning of sprint #121","Suggested meeting times","Issues with pushing","Code review","Web dev courses"],y=["Periwinkle questions","Meeting questions","SBC log","Decision notes"],z=new Date,A=new Date;A.setDate(A.getDate()-7);var B=new Date;B.setDate(B.getDate()-8);var C=new Date;C.setDate(C.getDate()-28);var D=new Date;D.setFullYear(D.getFullYear()-1);var E=[z,A,C,D,B],F={title:"Site Detail - UX Aspects (HTML)",main:"app/views/listViews/templates/displayPanel.tmpl.html",footer:"app/views/listViews/templates/displayPanelButtons.tmpl.html",modalColumns:"col-lg-6 col-md-7 col-sm-9 col-xs-10",top:122,reference:".affix-container",animate:!0},G={title:"Site Detail - UX Aspects (PDF)",main:"app/views/listViews/templates/displayPanel.tmpl.html",footer:"app/views/listViews/templates/displayPanelButtons.tmpl.html",modalColumns:"col-lg-6 col-md-7 col-sm-9 col-xs-10",top:122,reference:"affix-container",animate:!0},H={title:"Site Detail - UX Aspects (DOC)",main:"app/views/listViews/templates/displayPanel.tmpl.html",footer:"app/views/listViews/templates/displayPanelButtons.tmpl.html",modalColumns:"col-lg-6 col-md-7 col-sm-9 col-xs-10",top:122,reference:".affix-container",animate:!0},I={title:"Site Detail - UX Aspects (XLS)",main:"app/views/listViews/templates/displayPanel.tmpl.html",footer:"app/views/listViews/templates/displayPanelButtons.tmpl.html",modalColumns:"col-lg-6 col-md-7 col-sm-9 col-xs-10",top:122,reference:".affix-container",animate:!0},J={title:"Site Detail - UX Aspects (PPT)",main:"app/views/listViews/templates/displayPanel.tmpl.html",footer:"app/views/listViews/templates/displayPanelButtons.tmpl.html",modalColumns:"col-lg-6 col-md-7 col-sm-9 col-xs-10",top:122,reference:".affix-container",animate:!0},K=a.current.name,L=[F,G,H,I,J],M=e(r);return b.$on("$stateChangeStart",function(a,b){K=b.name,M=e(r)}),{getPage:f,getTotal:o,getTotalWithFilters:p,todayValue:z,users:s,extensions:v,panel:L,storage:w}}angular.module("app").service("exampleDataService",a),a.$inject=["$state","$rootScope"]}();