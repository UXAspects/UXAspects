"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6528],{36528:(gi,Pe,ct)=>{ct.d(Pe,{jh:()=>fi,m9:()=>pi});var M=ct(9619),Ee=ct(34099);const Ut=function(t,r){return t===r||t!=t&&r!=r},ht=function(t,r){for(var e=t.length;e--;)if(Ut(t[e][0],r))return e;return-1};var He=Array.prototype.splice;function J(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var a=t[r];this.set(a[0],a[1])}}J.prototype.clear=function(){this.__data__=[],this.size=0},J.prototype.delete=function(t){var r=this.__data__,e=ht(r,t);return!(e<0||(e==r.length-1?r.pop():He.call(r,e,1),--this.size,0))},J.prototype.get=function(t){var r=this.__data__,e=ht(r,t);return e<0?void 0:r[e][1]},J.prototype.has=function(t){return ht(this.__data__,t)>-1},J.prototype.set=function(t,r){var e=this.__data__,a=ht(e,t);return a<0?(++this.size,e.push([t,r])):e[a][1]=r,this};const dt=J,It="object"==typeof global&&global&&global.Object===Object&&global;var rr="object"==typeof self&&self&&self.Object===Object&&self;const L=It||rr||Function("return this")(),z=L.Symbol;var Ft=Object.prototype,nr=Ft.hasOwnProperty,sr=Ft.toString,Z=z?z.toStringTag:void 0;var hr=Object.prototype.toString;var Ht=z?z.toStringTag:void 0;const tt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ht&&Ht in Object(t)?function(t){var r=nr.call(t,Z),e=t[Z];try{t[Z]=void 0;var a=!0}catch(s){}var o=sr.call(t);return a&&(r?t[Z]=e:delete t[Z]),o}(t):function(t){return hr.call(t)}(t)},et=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)},Rt=function(t){if(!et(t))return!1;var r=tt(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r};var t,Ar=L["__core-js_shared__"],kt=(t=/[^.]+$/.exec(Ar&&Ar.keys&&Ar.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var Or=Function.prototype.toString;const G=function(t){if(null!=t){try{return Or.call(t)}catch(r){}try{return t+""}catch(r){}}return""};var Dr=/^\[object .+?Constructor\]$/,Lr=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ir=function(t){return!(!et(t)||function(t){return!!kt&&kt in t}(t))&&(Rt(t)?Lr:Dr).test(G(t))},N=function(t,r){var e=function(t,r){return null==t?void 0:t[r]}(t,r);return Ir(e)?e:void 0},rt=N(L,"Map"),at=N(Object,"create");var $r=Object.prototype.hasOwnProperty;var Qr=Object.prototype.hasOwnProperty;function $(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var a=t[r];this.set(a[0],a[1])}}$.prototype.clear=function(){this.__data__=at?at(null):{},this.size=0},$.prototype.delete=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},$.prototype.get=function(t){var r=this.__data__;if(at){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return $r.call(r,t)?r[t]:void 0},$.prototype.has=function(t){var r=this.__data__;return at?void 0!==r[t]:Qr.call(r,t)},$.prototype.set=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=at&&void 0===r?"__lodash_hash_undefined__":r,this};const Gt=$,ut=function(t,r){var e=t.__data__;return function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t}(r)?e["string"==typeof r?"string":"hash"]:e.map};function q(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var a=t[r];this.set(a[0],a[1])}}q.prototype.clear=function(){this.size=0,this.__data__={hash:new Gt,map:new(rt||dt),string:new Gt}},q.prototype.delete=function(t){var r=ut(this,t).delete(t);return this.size-=r?1:0,r},q.prototype.get=function(t){return ut(this,t).get(t)},q.prototype.has=function(t){return ut(this,t).has(t)},q.prototype.set=function(t,r){var e=ut(this,t),a=e.size;return e.set(t,r),this.size+=e.size==a?0:1,this};const ba=q;function Y(t){var r=this.__data__=new dt(t);this.size=r.size}Y.prototype.clear=function(){this.__data__=new dt,this.size=0},Y.prototype.delete=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e},Y.prototype.get=function(t){return this.__data__.get(t)},Y.prototype.has=function(t){return this.__data__.has(t)},Y.prototype.set=function(t,r){var e=this.__data__;if(e instanceof dt){var a=e.__data__;if(!rt||a.length<199)return a.push([t,r]),this.size=++e.size,this;e=this.__data__=new ba(a)}return e.set(t,r),this.size=e.size,this};const Ta=Y;var Sa=function(){try{var t=N(Object,"defineProperty");return t({},"",{}),t}catch(r){}}();const Nt=Sa,Kt=function(t,r,e){"__proto__"==r&&Nt?Nt(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e};var wa=Object.prototype.hasOwnProperty;const Wt=function(t,r,e){var a=t[r];(!wa.call(t,r)||!Ut(a,e)||void 0===e&&!(r in t))&&Kt(t,r,e)},ft=function(t,r,e,a){var o=!e;e||(e={});for(var s=-1,i=r.length;++s<i;){var b=r[s],n=a?a(e[b],t[b],b,e,t):void 0;void 0===n&&(n=t[b]),o?Kt(e,b,n):Wt(e,b,n)}return e},ot=function(t){return null!=t&&"object"==typeof t},Vt=function(t){return ot(t)&&"[object Arguments]"==tt(t)};var Jt=Object.prototype,Ua=Jt.hasOwnProperty,Ia=Jt.propertyIsEnumerable,Fa=Vt(function(){return arguments}())?Vt:function(t){return ot(t)&&Ua.call(t,"callee")&&!Ia.call(t,"callee")};const Ha=Fa,vt=Array.isArray;var zt="object"==typeof exports&&exports&&!exports.nodeType&&exports,$t=zt&&"object"==typeof module&&module&&!module.nodeType&&module,qt=$t&&$t.exports===zt?L.Buffer:void 0;const Yt=(qt?qt.isBuffer:void 0)||function(){return!1};var Ja=/^(?:0|[1-9]\d*)$/;const $a=function(t,r){var e=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==e||"symbol"!=e&&Ja.test(t))&&t>-1&&t%1==0&&t<r},Xt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1;const Ct=function(t){return function(r){return t(r)}};var Qt="object"==typeof exports&&exports&&!exports.nodeType&&exports,nt=Qt&&"object"==typeof module&&module&&!module.nodeType&&module,Tt=nt&&nt.exports===Qt&&It.process;const X=function(){try{return nt&&nt.require&&nt.require("util").types||Tt&&Tt.binding&&Tt.binding("util")}catch(r){}}();var Zt=X&&X.isTypedArray;const Bo=Zt?Ct(Zt):function(t){return ot(t)&&Xt(t.length)&&!!p[tt(t)]};var xo=Object.prototype.hasOwnProperty;const te=function(t,r){var e=vt(t),a=!e&&Ha(t),o=!e&&!a&&Yt(t),s=!e&&!a&&!o&&Bo(t),i=e||a||o||s,b=i?function(t,r){for(var e=-1,a=Array(t);++e<t;)a[e]=r(e);return a}(t.length,String):[],n=b.length;for(var g in t)(r||xo.call(t,g))&&(!i||!("length"==g||o&&("offset"==g||"parent"==g)||s&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||$a(g,n)))&&b.push(g);return b};var Eo=Object.prototype;const At=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||Eo)},ee=function(t,r){return function(e){return t(r(e))}},Io=ee(Object.keys,Object);var Ho=Object.prototype.hasOwnProperty;const re=function(t){return null!=t&&Xt(t.length)&&!Rt(t)},jt=function(t){return re(t)?te(t):function(t){if(!At(t))return Io(t);var r=[];for(var e in Object(t))Ho.call(t,e)&&"constructor"!=e&&r.push(e);return r}(t)};var $o=Object.prototype.hasOwnProperty;const Yo=function(t){if(!et(t))return function(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=At(t),e=[];for(var a in t)"constructor"==a&&(r||!$o.call(t,a))||e.push(a);return e},St=function(t){return re(t)?te(t,!0):Yo(t)};var ae="object"==typeof exports&&exports&&!exports.nodeType&&exports,oe=ae&&"object"==typeof module&&module&&!module.nodeType&&module,ne=oe&&oe.exports===ae?L.Buffer:void 0,se=ne?ne.allocUnsafe:void 0;const ie=function(){return[]};var hn=Object.prototype.propertyIsEnumerable,le=Object.getOwnPropertySymbols,dn=le?function(t){return null==t?[]:(t=Object(t),function(t,r){for(var e=-1,a=null==t?0:t.length,o=0,s=[];++e<a;){var i=t[e];r(i,e,t)&&(s[o++]=i)}return s}(le(t),function(r){return hn.call(t,r)}))}:ie;const mt=dn,ce=function(t,r){for(var e=-1,a=r.length,o=t.length;++e<a;)t[o+e]=r[e];return t},he=ee(Object.getPrototypeOf,Object);var bn=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)ce(r,mt(t)),t=he(t);return r}:ie;const de=bn,ue=function(t,r,e){var a=r(t);return vt(t)?a:ce(a,e(t))},An=function(t){return ue(t,jt,mt)},Sn=function(t){return ue(t,St,de)},Ot=N(L,"DataView"),wt=N(L,"Promise"),Bt=N(L,"Set"),Dt=N(L,"WeakMap");var fe="[object Map]",pe="[object Promise]",ge="[object Set]",_e="[object WeakMap]",be="[object DataView]",xn=G(Ot),Pn=G(rt),En=G(wt),Mn=G(Bt),Ln=G(Dt),K=tt;(Ot&&K(new Ot(new ArrayBuffer(1)))!=be||rt&&K(new rt)!=fe||wt&&K(wt.resolve())!=pe||Bt&&K(new Bt)!=ge||Dt&&K(new Dt)!=_e)&&(K=function(t){var r=tt(t),e="[object Object]"==r?t.constructor:void 0,a=e?G(e):"";if(a)switch(a){case xn:return be;case Pn:return fe;case En:return pe;case Mn:return ge;case Ln:return _e}return r});const xt=K;var In=Object.prototype.hasOwnProperty;const ye=L.Uint8Array,Pt=function(t){var r=new t.constructor(t.byteLength);return new ye(r).set(new ye(t)),r};var Kn=/\w*$/;var ve=z?z.prototype:void 0,Ce=ve?ve.valueOf:void 0;const _s=function(t,r,e){var a=t.constructor;switch(r){case"[object ArrayBuffer]":return Pt(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function(t,r){var e=r?Pt(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,r){var e=r?Pt(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return function(t){var r=new t.constructor(t.source,Kn.exec(t));return r.lastIndex=t.lastIndex,r}(t);case"[object Symbol]":return function(t){return Ce?Object(Ce.call(t)):{}}(t)}};var Te=Object.create,bs=function(){function t(){}return function(r){if(!et(r))return{};if(Te)return Te(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();const ys=bs;var Ae=X&&X.isMap;const ms=Ae?Ct(Ae):function(t){return ot(t)&&"[object Map]"==xt(t)};var je=X&&X.isSet;const xs=je?Ct(je):function(t){return ot(t)&&"[object Set]"==xt(t)};var Se="[object Arguments]",me="[object Function]",Oe="[object Object]",f={};f[Se]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object DataView]"]=f["[object Boolean]"]=f["[object Date]"]=f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Map]"]=f["[object Number]"]=f[Oe]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object Symbol]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Error]"]=f[me]=f["[object WeakMap]"]=!1;const ai=function pt(t,r,e,a,o,s){var i,b=1&r,n=2&r,g=4&r;if(e&&(i=o?e(t,a,o,s):e(t)),void 0!==i)return i;if(!et(t))return t;var d=vt(t);if(d){if(i=function(t){var r=t.length,e=new t.constructor(r);return r&&"string"==typeof t[0]&&In.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!b)return function(t,r){var e=-1,a=t.length;for(r||(r=Array(a));++e<a;)r[e]=t[e];return r}(t,i)}else{var A=xt(t),O=A==me||"[object GeneratorFunction]"==A;if(Yt(t))return function(t,r){if(r)return t.slice();var e=t.length,a=se?se(e):new t.constructor(e);return t.copy(a),a}(t,b);if(A==Oe||A==Se||O&&!o){if(i=n||O?{}:function(t){return"function"!=typeof t.constructor||At(t)?{}:ys(he(t))}(t),!b)return n?function(t,r){return ft(t,de(t),r)}(t,function(t,r){return t&&ft(r,St(r),t)}(i,t)):function(t,r){return ft(t,mt(t),r)}(t,function(t,r){return t&&ft(r,jt(r),t)}(i,t))}else{if(!f[A])return o?t:{};i=_s(t,A,b)}}s||(s=new Ta);var B=s.get(t);if(B)return B;s.set(t,i),xs(t)?t.forEach(function(u){i.add(pt(u,r,e,u,t,s))}):ms(t)&&t.forEach(function(u,j){i.set(j,pt(u,r,e,j,t,s))});var D=d?void 0:(g?n?Sn:An:n?St:jt)(t);return function(t,r){for(var e=-1,a=null==t?0:t.length;++e<a&&!1!==r(t[e],e,t););}(D||t,function(u,j){D&&(u=t[j=u]),Wt(i,j,pt(u,r,e,j,t,s))}),i};var Et=ct(64772);const we=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]];function m(t,r){return"rgba("+t.concat(r).join(",")+")"}function Mt(t,r){return Math.floor(Math.random()*(r-t+1))+t}function Lt(t){return{backgroundColor:t.map(r=>m(r,.6)),borderColor:t.map(()=>"#fff"),pointBackgroundColor:t.map(r=>m(r,1)),pointBorderColor:t.map(()=>"#fff"),pointHoverBackgroundColor:t.map(r=>m(r,1)),pointHoverBorderColor:t.map(r=>m(r,1))}}function Be(){return[Mt(0,255),Mt(0,255),Mt(0,255)]}function De(t){return we[t]||Be()}function gt(t){const r=new Array(t);for(let e=0;e<t;e++)r[e]=we[e]||Be();return r}let ui=(()=>{class t{constructor(){this.pColorschemesOptions={},this.colorschemesOptions=new Ee.X({})}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,M.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const h={Default:0,Update:1,Refresh:2};h[h.Default]="Default",h[h.Update]="Update",h[h.Refresh]="Refresh";let fi=(()=>{class t{constructor(e,a){this.element=e,this.themeService=a,this.options={},this.chartClick=new M.vpe,this.chartHover=new M.vpe,this.old={dataExists:!1,dataLength:0,datasetsExists:!1,datasetsLength:0,datasetsDataObjects:[],datasetsDataLengths:[],colorsExists:!1,colors:[],labelsExist:!1,labels:[],legendExists:!1,legend:{}},this.subs=[]}static registerPlugin(e){Et.pluginService.register(e)}static unregisterPlugin(e){Et.pluginService.unregister(e)}ngOnInit(){this.ctx=this.element.nativeElement.getContext("2d"),this.refresh(),this.subs.push(this.themeService.colorschemesOptions.subscribe(e=>this.themeChanged(e)))}themeChanged(e){this.refresh()}ngDoCheck(){if(!this.chart)return;let e=h.Default;const a=o=>{e=o>e?o:e};switch(!!this.data!==this.old.dataExists&&(this.propagateDataToDatasets(this.data),this.old.dataExists=!!this.data,a(h.Update)),this.data&&this.data.length!==this.old.dataLength&&(this.old.dataLength=this.data&&this.data.length||0,a(h.Update)),!!this.datasets!==this.old.datasetsExists&&(this.old.datasetsExists=!!this.datasets,a(h.Update)),this.datasets&&this.datasets.length!==this.old.datasetsLength&&(this.old.datasetsLength=this.datasets&&this.datasets.length||0,a(h.Update)),this.datasets&&this.datasets.filter((o,s)=>o.data!==this.old.datasetsDataObjects[s]).length&&(this.old.datasetsDataObjects=this.datasets.map(o=>o.data),a(h.Update)),this.datasets&&this.datasets.filter((o,s)=>o.data.length!==this.old.datasetsDataLengths[s]).length&&(this.old.datasetsDataLengths=this.datasets.map(o=>o.data.length),a(h.Update)),!!this.colors!==this.old.colorsExists&&(this.old.colorsExists=!!this.colors,this.updateColors(),a(h.Update)),this.colors&&this.colors.filter((o,s)=>!this.colorsEqual(o,this.old.colors[s])).length&&(this.old.colors=this.colors.map(o=>this.copyColor(o)),this.updateColors(),a(h.Update)),!!this.labels!==this.old.labelsExist&&(this.old.labelsExist=!!this.labels,a(h.Update)),this.labels&&this.labels.filter((o,s)=>!this.labelsEqual(o,this.old.labels[s])).length&&(this.old.labels=this.labels.map(o=>this.copyLabel(o)),a(h.Update)),!!this.options.legend!==this.old.legendExists&&(this.old.legendExists=!!this.options.legend,a(h.Refresh)),this.options.legend&&this.options.legend.position!==this.old.legend.position&&(this.old.legend.position=this.options.legend.position,a(h.Refresh)),e){case h.Default:break;case h.Update:this.update();break;case h.Refresh:this.refresh()}}copyLabel(e){return Array.isArray(e)?[...e]:e}labelsEqual(e,a){return Array.isArray(e)===Array.isArray(a)&&(Array.isArray(e)||e===a)&&(!Array.isArray(e)||e.length===a.length)&&(!Array.isArray(e)||0===e.filter((o,s)=>o!==a[s]).length)}copyColor(e){return{backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderColor:e.borderColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,pointBorderColor:e.pointBorderColor,pointBackgroundColor:e.pointBackgroundColor,pointBorderWidth:e.pointBorderWidth,pointRadius:e.pointRadius,pointHoverRadius:e.pointHoverRadius,pointHitRadius:e.pointHitRadius,pointHoverBackgroundColor:e.pointHoverBackgroundColor,pointHoverBorderColor:e.pointHoverBorderColor,pointHoverBorderWidth:e.pointHoverBorderWidth,pointStyle:e.pointStyle,hoverBackgroundColor:e.hoverBackgroundColor,hoverBorderColor:e.hoverBorderColor,hoverBorderWidth:e.hoverBorderWidth}}colorsEqual(e,a){return!e==!a&&(!e||e.backgroundColor===a.backgroundColor&&e.borderWidth===a.borderWidth&&e.borderColor===a.borderColor&&e.borderCapStyle===a.borderCapStyle&&e.borderDash===a.borderDash&&e.borderDashOffset===a.borderDashOffset&&e.borderJoinStyle===a.borderJoinStyle&&e.pointBorderColor===a.pointBorderColor&&e.pointBackgroundColor===a.pointBackgroundColor&&e.pointBorderWidth===a.pointBorderWidth&&e.pointRadius===a.pointRadius&&e.pointHoverRadius===a.pointHoverRadius&&e.pointHitRadius===a.pointHitRadius&&e.pointHoverBackgroundColor===a.pointHoverBackgroundColor&&e.pointHoverBorderColor===a.pointHoverBorderColor&&e.pointHoverBorderWidth===a.pointHoverBorderWidth&&e.pointStyle===a.pointStyle&&e.hoverBackgroundColor===a.hoverBackgroundColor&&e.hoverBorderColor===a.hoverBorderColor&&e.hoverBorderWidth===a.hoverBorderWidth)}updateColors(){this.datasets.forEach((e,a)=>{this.colors&&this.colors[a]?Object.assign(e,this.colors[a]):Object.assign(e,function(t,r,e){if("pie"===t||"doughnut"===t)return Lt(gt(e));if("polarArea"===t)return function(t){return{backgroundColor:t.map(r=>m(r,.6)),borderColor:t.map(r=>m(r,1)),hoverBackgroundColor:t.map(r=>m(r,.8)),hoverBorderColor:t.map(r=>m(r,1))}}(gt(e));if("line"===t||"radar"===t)return function(t){return{backgroundColor:m(t,.4),borderColor:m(t,1),pointBackgroundColor:m(t,1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:m(t,.8)}}(De(r));if("bar"===t||"horizontalBar"===t)return function(t){return{backgroundColor:m(t,.6),borderColor:m(t,1),hoverBackgroundColor:m(t,.8),hoverBorderColor:m(t,1)}}(De(r));if("bubble"===t||"scatter"===t)return Lt(gt(e));throw new Error("getColors - Unsupported chart type: "+t)}(this.chartType,a,e.data.length),Object.assign({},e))})}ngOnChanges(e){let a=h.Default;const o=s=>{a=s>a?s:a};switch(e.hasOwnProperty("data")&&e.data.currentValue&&(this.propagateDataToDatasets(e.data.currentValue),o(h.Update)),e.hasOwnProperty("datasets")&&e.datasets.currentValue&&(this.propagateDatasetsToData(e.datasets.currentValue),o(h.Update)),e.hasOwnProperty("labels")&&(this.chart&&(this.chart.data.labels=e.labels.currentValue),o(h.Update)),e.hasOwnProperty("legend")&&(this.chart&&(this.chart.config.options.legend.display=e.legend.currentValue,this.chart.generateLegend()),o(h.Update)),e.hasOwnProperty("options")&&o(h.Refresh),a){case h.Update:this.update();break;case h.Refresh:case h.Default:this.refresh()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}update(e){if(this.chart)return this.chart.update(e)}hideDataset(e,a){this.chart.getDatasetMeta(e).hidden=a,this.chart.update()}isDatasetHidden(e){return this.chart.getDatasetMeta(e).hidden}toBase64Image(){return this.chart.toBase64Image()}getChartConfiguration(){const e=this.getDatasets(),a=Object.assign({},this.options);!1===this.legend&&(a.legend={display:!1}),a.hover=a.hover||{},a.hover.onHover||(a.hover.onHover=(s,i)=>{i&&!i.length||this.chartHover.emit({event:s,active:i})}),a.onClick||(a.onClick=(s,i)=>{this.chartClick.emit({event:s,active:i})});const o=this.smartMerge(a,this.themeService.getColorschemesOptions());return{type:this.chartType,data:{labels:this.labels||[],datasets:e},plugins:this.plugins,options:o}}getChartBuilder(e){const a=this.getChartConfiguration();return new Et.Chart(e,a)}smartMerge(e,a,o=0){if(0===o&&(e=function(t){return ai(t,5)}(e)),Object.keys(a).forEach(i=>{if(Array.isArray(a[i])){const b=e[i];b&&b.forEach(n=>{this.smartMerge(n,a[i][0],o+1)})}else"object"==typeof a[i]?(i in e||(e[i]={}),this.smartMerge(e[i],a[i],o+1)):e[i]=a[i]}),0===o)return e}isMultiLineLabel(e){return Array.isArray(e)}joinLabel(e){return e?this.isMultiLineLabel(e)?e.join(" "):e:null}propagateDatasetsToData(e){this.data=this.datasets.map(a=>a.data),this.chart&&(this.chart.data.datasets=e),this.updateColors()}propagateDataToDatasets(e){this.isMultiDataSet(e)?this.datasets&&e.length===this.datasets.length?this.datasets.forEach((a,o)=>{a.data=e[o]}):(this.datasets=e.map((a,o)=>({data:a,label:this.joinLabel(this.labels[o])||`Label ${o}`})),this.chart&&(this.chart.data.datasets=this.datasets)):this.datasets?(this.datasets[0]||(this.datasets[0]={}),this.datasets[0].data=e,this.datasets.splice(1)):(this.datasets=[{data:e}],this.chart&&(this.chart.data.datasets=this.datasets)),this.updateColors()}isMultiDataSet(e){return Array.isArray(e[0])}getDatasets(){if(!this.datasets&&!this.data)throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);return this.datasets?(this.propagateDatasetsToData(this.datasets),this.datasets):this.data?(this.propagateDataToDatasets(this.data),this.datasets):void 0}refresh(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.ctx&&(this.chart=this.getChartBuilder(this.ctx))}}return t.\u0275fac=function(e){return new(e||t)(M.Y36(M.SBq),M.Y36(ui))},t.\u0275dir=M.lG2({type:t,selectors:[["canvas","baseChart",""]],inputs:{options:"options",data:"data",datasets:"datasets",labels:"labels",chartType:"chartType",colors:"colors",legend:"legend",plugins:"plugins"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[M.TTD]}),t})(),pi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=M.oAB({type:t}),t.\u0275inj=M.cJS({imports:[[]]}),t})()}}]);